%**************************************%
%*    Generated from PreTeXt source   *%
%*    on 2020-01-15T12:40:17-05:00    *%
%*                                    *%
%*      https://pretextbook.org       *%
%*                                    *%
%**************************************%
\documentclass[twoside,11pt,]{book}
%% Custom Preamble Entries, early (use latex.preamble.early)
%% Default LaTeX packages
%%   1.  always employed (or nearly so) for some purpose, or
%%   2.  a stylewriter may assume their presence
\usepackage{geometry}
%% Some aspects of the preamble are conditional,
%% the LaTeX engine is one such determinant
\usepackage{ifthen}
%% etoolbox has a variety of modern conveniences
\usepackage{etoolbox}
\usepackage{ifxetex,ifluatex}
%% Raster graphics inclusion
\usepackage{graphicx}
%% Color support, xcolor package
%% Always loaded, for: add/delete text, author tools
%% Here, since tcolorbox loads tikz, and tikz loads xcolor
\PassOptionsToPackage{usenames,dvipsnames,svgnames,table}{xcolor}
\usepackage{xcolor}
%% begin: defined colors, via xcolor package, for styling
%% end: defined colors, via xcolor package, for styling
%% Colored boxes, and much more, though mostly styling
%% skins library provides "enhanced" skin, employing tikzpicture
%% boxes may be configured as "breakable" or "unbreakable"
%% "raster" controls grids of boxes, aka side-by-side
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{breakable}
\tcbuselibrary{raster}
%% We load some "stock" tcolorbox styles that we use a lot
%% Placement here is provisional, there will be some color work also
%% First, black on white, no border, transparent, but no assumption about titles
\tcbset{ bwminimalstyle/.style={size=minimal, boxrule=-0.3pt, frame empty,
colback=white, colbacktitle=white, coltitle=black, opacityfill=0.0} }
%% Second, bold title, run-in to text/paragraph/heading
%% Space afterwards will be controlled by environment,
%% dependent of constructions of the tcb title
\tcbset{ runintitlestyle/.style={fonttitle=\normalfont\bfseries, attach title to upper} }
%% Spacing prior to each exercise, anywhere
\tcbset{ exercisespacingstyle/.style={before skip={1.5ex plus 0.5ex}} }
%% Spacing prior to each block
\tcbset{ blockspacingstyle/.style={before skip={2.0ex plus 0.5ex}} }
%% xparse allows the construction of more robust commands,
%% this is a necessity for isolating styling and behavior
%% The tcolorbox library of the same name loads the base library
\tcbuselibrary{xparse}
%% Hyperref should be here, but likes to be loaded late
%%
%% Inline math delimiters, \(, \), need to be robust
%% 2016-01-31:  latexrelease.sty  supersedes  fixltx2e.sty
%% If  latexrelease.sty  exists, bugfix is in kernel
%% If not, bugfix is in  fixltx2e.sty
%% See:  https://tug.org/TUGboat/tb36-3/tb114ltnews22.pdf
%% and read "Fewer fragile commands" in distribution's  latexchanges.pdf
\IfFileExists{latexrelease.sty}{}{\usepackage{fixltx2e}}
%% shorter subnumbers in some side-by-side require manipulations
\usepackage{xstring}
%% Footnote counters and part/chapter counters are manipulated
%% April 2018:  chngcntr  commands now integrated into the kernel,
%% but circa 2018/2019 the package would still try to redefine them,
%% so we need to do the work of loading conditionally for old kernels.
%% From version 1.1a,  chngcntr  should detect defintions made by LaTeX kernel.
\ifdefined\counterwithin
\else
    \usepackage{chngcntr}
\fi
%% Text height identically 9 inches, text width varies on point size
%% See Bringhurst 2.1.1 on measure for recommendations
%% 75 characters per line (count spaces, punctuation) is target
%% which is the upper limit of Bringhurst's recommendations
\geometry{letterpaper,total={374pt,9.0in}}
%% Custom Page Layout Adjustments (use latex.geometry)
\geometry{papersize={7in,10in}, width=4.85in, inner=1in, height=8.5in, top=0.75in, twoside, ignoreheadfoot}
%% This LaTeX file may be compiled with pdflatex, xelatex, or lualatex executables
%% LuaTeX is not explicitly supported, but we do accept additions from knowledgeable users
%% The conditional below provides  pdflatex  specific configuration last
%% The following provides engine-specific capabilities
%% Generally, xelatex is necessary for non-Western fonts
\ifthenelse{\boolean{xetex} \or \boolean{luatex}}{%
%% begin: xelatex and lualatex-specific configuration
\ifxetex\usepackage{xltxtra}\fi
%% realscripts is the only part of xltxtra relevant to lualatex 
\ifluatex\usepackage{realscripts}\fi
%% fontspec package provides extensive control of system fonts,
%% meaning *.otf (OpenType), and apparently *.ttf (TrueType)
%% that live *outside* your TeX/MF tree, and are controlled by your *system*
%% (it is possible that a TeX distribution will place fonts in a system location)
\usepackage{fontspec}
%% We use Latin Modern (lmodern) as the default font
%% So we check that it is available as a system font
\IfFontExistsTF{Latin Modern Roman}{}{\GenericError{}{The font "Latin Modern Roman" requested by PreTeXt output is not available as a system font}{Consult the PreTeXt Guide for help with LaTeX fonts.}{}}
%% We then define various font family commands using a vanilla version,
%% with the intention of letting a style override these choices
%% \setmainfont can be re-issued, and \renewfontfamily can redefine others
\setmainfont{Latin Modern Roman}[SmallCapsFont={Latin Modern Roman Caps}, SlantedFont={Latin Modern Roman Slanted}]
\newfontfamily{\divisionfont}{Latin Modern Roman}
\newfontfamily{\contentsfont}{Latin Modern Roman}
\newfontfamily{\pagefont}{Latin Modern Roman}[SlantedFont={Latin Modern Roman Slanted}]
\newfontfamily{\tabularfont}{Latin Modern Roman}[SmallCapsFont={Latin Modern Roman Caps}]
%% begin: font information supplied by "font-xelatex-style" template
%% end: font information supplied by "font-xelatex-style" template
%% 
%% Extensive support for other languages
\usepackage{polyglossia}
%% Set main/default language based on pretext/@xml:lang value
%% document language code is "en-US", US English
%% usmax variant has extra hypenation
\setmainlanguage[variant=usmax]{english}
%% Enable secondary languages based on discovery of @xml:lang values
%% Enable fonts/scripts based on discovery of @xml:lang values
%% Western languages should be ably covered by Latin Modern Roman
%% end: xelatex and lualatex-specific configuration
}{%
%% begin: pdflatex-specific configuration
\usepackage[utf8]{inputenc}
%% PreTeXt will create a UTF-8 encoded file
%% begin: font setup and configuration for use with pdflatex
%% Portions of a document, are, or may, be affected by font-changing commands
%% These are more robust when using  xelatex  but may be employed with  pdflatex
%% The following definitons are meant to be re-defined in a style with \renewcommand
\newcommand{\divisionfont}{\relax}
\newcommand{\contentsfont}{\relax}
\newcommand{\pagefont}{\relax}
\newcommand{\tabularfont}{\relax}
%% begin: font information supplied by "font-pdflatex-style" template
\usepackage{lmodern}
\usepackage[T1]{fontenc}
%% begin: font information supplied by "font-pdflatex-style" template
%% end: font setup and configuration for use with pdflatex
%% end: pdflatex-specific configuration
}
%% Monospace font: Inconsolata (zi4)
%% Sponsored by TUG: http://levien.com/type/myfonts/inconsolata.html
%% Loaded for documents with intentional objects requiring monospace
%% See package documentation for excellent instructions
%% One caveat, seem to need full file name to locate OTF files
%% Loads the "upquote" package as needed, so we don't have to
%% Upright quotes might come from the  textcomp  package, which we also use
%% We employ the shapely \ell to match Google Font version
%% pdflatex: "varqu" option produces best upright quotes
%% xelatex,lualatex: add StylisticSet 1 for shapely \ell
%% xelatex,lualatex: add StylisticSet 2 for plain zero
%% xelatex,lualatex: we add StylisticSet 3 for upright quotes
%% 
\ifthenelse{\boolean{xetex} \or \boolean{luatex}}{%
%% begin: xelatex and lualatex-specific monospace font
\usepackage{zi4}
\setmonofont[BoldFont=Inconsolatazi4-Bold.otf,StylisticSet={1,3}]{Inconsolatazi4-Regular.otf}
%% end: xelatex and lualatex-specific monospace font
}{%
%% begin: pdflatex-specific monospace font
%% "varqu" option provides textcomp \textquotedbl glyph
%% "varl"  option provides shapely "ell"
\usepackage[varqu,varl]{zi4}
%% end: pdflatex-specific monospace font
}
%% Symbols, align environment, bracket-matrix
\usepackage{amsmath}
\usepackage{amssymb}
%% allow page breaks within display mathematics anywhere
%% level 4 is maximally permissive
%% this is exactly the opposite of AMSmath package philosophy
%% there are per-display, and per-equation options to control this
%% split, aligned, gathered, and alignedat are not affected
\allowdisplaybreaks[4]
%% allow more columns to a matrix
%% can make this even bigger by overriding with  latex.preamble.late  processing option
\setcounter{MaxMatrixCols}{30}
%%
%% pdfpages package for front and back covers as PDFs
\usepackage[final]{pdfpages}
%%
%% Division Titles, and Page Headers/Footers
%% titlesec package, loading "titleps" package cooperatively
%% See code comments about the necessity and purpose of "explicit" option.
%% The "newparttoc" option causes a consistent entry for parts in the ToC 
%% file, but it is only effective if there is a \titleformat for \part.
%% "pagestyles" loads the  titleps  package cooperatively.
\usepackage[explicit, newparttoc, pagestyles]{titlesec}
%% The companion titletoc package for the ToC.
\usepackage{titletoc}
%% Fixes a bug with transition from chapters to appendices in a "book"
%% See generating XSL code for more details about necessity
\newtitlemark{\chaptertitlename}
%% begin: customizations of page styles via the modal "titleps-style" template
%% Designed to use commands from the LaTeX "titleps" package
%% Plain pages should have the same font for page numbers
\renewpagestyle{plain}{%
\setfoot{}{\pagefont\thepage}{}%
}%
%% Two-page spread as in default LaTeX
\renewpagestyle{headings}{%
\sethead%
[\pagefont\thepage]%
[]
[\pagefont\slshape\MakeUppercase{\ifthechapter{\chaptertitlename\space\thechapter.\space}{}\chaptertitle}]%
{\pagefont\slshape\MakeUppercase{\ifthesection{Section\space\thesection.\space\sectiontitle}{}}}%
{}%
{\pagefont\thepage}%
}%
\pagestyle{headings}
%% end: customizations of page styles via the modal "titleps-style" template
%%
%% Create globally-available macros to be provided for style writers
%% These are redefined for each occurence of each division
\newcommand{\divisionnameptx}{\relax}%
\newcommand{\titleptx}{\relax}%
\newcommand{\subtitleptx}{\relax}%
\newcommand{\shortitleptx}{\relax}%
\newcommand{\authorsptx}{\relax}%
\newcommand{\epigraphptx}{\relax}%
%% Create environments for possible occurences of each division
%% Environment for a PTX "acknowledgement" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{acknowledgement}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Acknowledgements}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter*{#1}%
\addcontentsline{toc}{chapter}{#3}
\label{#6}%
}{}%
%% Environment for a PTX "preface" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{preface}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Preface}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter*{#1}%
\addcontentsline{toc}{chapter}{#3}
\label{#6}%
}{}%
%% Environment for a PTX "chapter" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{chapterptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Chapter}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "section" at the level of a LaTeX "section"
\NewDocumentEnvironment{sectionptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Section}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\section[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "subsection" at the level of a LaTeX "subsection"
\NewDocumentEnvironment{subsectionptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Subsection}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\subsection[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "exercises" at the level of a LaTeX "subsection"
\NewDocumentEnvironment{exercises-subsection}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Exercises}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\subsection[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "exercises" at the level of a LaTeX "subsection"
\NewDocumentEnvironment{exercises-subsection-numberless}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Exercises}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\subsection*{#1}%
\addcontentsline{toc}{subsection}{#3}
\label{#6}%
}{}%
%% Environment for a PTX "subsubsection" at the level of a LaTeX "subsubsection"
\NewDocumentEnvironment{subsubsectionptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Subsubsection}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\subsubsection[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "solutions" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{solutions-chapter}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Appendix}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "solutions" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{solutions-chapter-numberless}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Appendix}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter*{#1}%
\addcontentsline{toc}{chapter}{#3}
\label{#6}%
}{}%
%% Environment for a PTX "appendix" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{appendixptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Appendix}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter[{#3}]{#1}%
\label{#6}%
}{}%
%% Environment for a PTX "index" at the level of a LaTeX "chapter"
\NewDocumentEnvironment{indexptx}{mmmmmm}
{%
\renewcommand{\divisionnameptx}{Index}%
\renewcommand{\titleptx}{#1}%
\renewcommand{\subtitleptx}{#2}%
\renewcommand{\shortitleptx}{#3}%
\renewcommand{\authorsptx}{#4}%
\renewcommand{\epigraphptx}{#5}%
\chapter*{#1}%
\addcontentsline{toc}{chapter}{#3}
\label{#6}%
}{}%
%%
%% Styles for six traditional LaTeX divisions
\titleformat{\part}[display]
{\divisionfont\Huge\bfseries\centering}{\divisionnameptx\space\thepart}{30pt}{\Huge#1}
[{\Large\centering\authorsptx}]
\titleformat{\chapter}[display]
    	{\Large\filcenter\scshape\bfseries}
    	{\rule[4pt]{.3\textwidth}{2pt} \hspace{2ex} \large\textsc{\chaptertitlename} \thechapter \hspace{3ex} \rule[4pt]{0.3\textwidth}{2pt} }
    	{0.0em}
    	{\titlerule\vspace{1ex}\huge\textsc #1}
    	[\vspace{.75ex}\titlerule]
    \titlespacing*{\chapter}{0pt}{-2em}{2em}
\titleformat{\subparagraph}[block]
      {\normalfont\filcenter\scshape\bfseries}
      {\theparagraph}
      {1em}
      {#1}
      [\normalsize\authorsptx]
\titleformat{\section}
    {\Large\filcenter\scshape\bfseries}
    {\thesection}
    {1em}
    {#1}
    [\large\authorsptx]
\titleformat{name=\section,numberless}
    {\filcenter\scshape\bfseries}
    {}
    {0.0em}
    {#1}
\titleformat{\subsection}
    {\large\filcenter\scshape\bfseries}
    {\thesubsection}
    {1em}
    {#1}
    [\normalsize\authorsptx]
\titleformat{\subsubsection}
      {\filcenter\scshape\bfseries}
      {\thesubsubsection}
      {1em}
      {#1}
      [\normalsize\authorsptx]
\titleformat{\paragraph}[hang]
{\divisionfont\normalsize\bfseries}{\theparagraph}{1em}{#1}
[{\small\authorsptx}]
\titleformat{name=\paragraph,numberless}[block]
{\divisionfont\normalsize\bfseries}{}{0pt}{#1}
[{\normalsize\authorsptx}]
\titlespacing*{\paragraph}{0pt}{3.25ex plus 1ex minus .2ex}{1.5em}
%%
%% Styles for five traditional LaTeX divisions
\titlecontents{part}%
[0pt]{\contentsmargin{0em}\addvspace{1pc}\contentsfont\bfseries}%
{\Large\thecontentslabel\enspace}{\Large}%
{}%
[\addvspace{.5pc}]%
\titlecontents{chapter}%
[0pt]{\contentsmargin{0em}\addvspace{1pc}\contentsfont\bfseries}%
{\large\thecontentslabel\enspace}{\large}%
{\hfill\bfseries\thecontentspage}%
[\addvspace{.5pc}]%
\dottedcontents{section}[3.8em]{\contentsfont}{2.3em}{1pc}%
\dottedcontents{subsection}[6.1em]{\contentsfont}{3.2em}{1pc}%
\dottedcontents{subsubsection}[9.3em]{\contentsfont}{4.3em}{1pc}%
%%
%% Begin: Semantic Macros
%% To preserve meaning in a LaTeX file
%%
%% \mono macro for content of "c", "cd", "tag", etc elements
%% Also used automatically in other constructions
%% Simply an alias for \texttt
%% Always defined, even if there is no need, or if a specific tt font is not loaded
\newcommand{\mono}[1]{\texttt{#1}}
%%
%% Following semantic macros are only defined here if their
%% use is required only in this specific document
%%
%% Used for inline definitions of terms
\newcommand{\terminology}[1]{\textbf{#1}}
%% Used for fillin answer blank
%% Argument is length in em
%% Length may compress for output to fit in one line
\newcommand{\fillin}[1]{\leavevmode\leaders\vrule height -1.2pt depth 1.5pt \hskip #1em minus #1em \null}
%% End: Semantic Macros
%% Division Numbering: Chapters, Sections, Subsections, etc
%% Division numbers may be turned off at some level ("depth")
%% A section *always* has depth 1, contrary to us counting from the document root
%% The latex default is 3.  If a larger number is present here, then
%% removing this command may make some cross-references ambiguous
%% The precursor variable $numbering-maxlevel is checked for consistency in the common XSL file
\setcounter{secnumdepth}{1}
%%
%% AMS "proof" environment is no longer used, but we leave previously
%% implemented \qedhere in place, should the LaTeX be recycled
\newcommand{\qedhere}{\relax}
%%
%% A faux tcolorbox whose only purpose is to provide common numbering
%% facilities for most blocks (possibly not projects, 2D displays)
%% Controlled by  numbering.theorems.level  processing parameter
\newtcolorbox[auto counter, number within=section]{block}{}
%%
%% This document is set to number PROJECT-LIKE on a separate numbering scheme
%% So, a faux tcolorbox whose only purpose is to provide this numbering
%% Controlled by  numbering.projects.level  processing parameter
\newtcolorbox[auto counter, number within=chapter]{project-distinct}{}
%% A faux tcolorbox whose only purpose is to provide common numbering
%% facilities for 2D displays which are subnumbered as part of a "sidebyside"
\newtcolorbox[auto counter, number within=tcb@cnt@block, number freestyle={\noexpand\thetcb@cnt@block(\noexpand\alph{\tcbcounter})}]{subdisplay}{}
%%
%% tcolorbox, with styles, for THEOREM-LIKE
%%
%% theorem: fairly simple numbered block/structure
\tcbset{ theoremstyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{theorem}[3]{title={{Theorem~\thetcbcounter\notblank{#1#2}{\space}{}\notblank{#1}{\space#1}{}\notblank{#2}{\space(#2)}{}}}, phantomlabel={#3}, breakable, parbox=false, after={\par}, fontupper=\itshape, theoremstyle, }
%% lemma: fairly simple numbered block/structure
\tcbset{ lemmastyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{lemma}[3]{title={{Lemma~\thetcbcounter\notblank{#1#2}{\space}{}\notblank{#1}{\space#1}{}\notblank{#2}{\space(#2)}{}}}, phantomlabel={#3}, breakable, parbox=false, after={\par}, fontupper=\itshape, lemmastyle, }
%% proposition: fairly simple numbered block/structure
\tcbset{ propositionstyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{proposition}[3]{title={{Proposition~\thetcbcounter\notblank{#1#2}{\space}{}\notblank{#1}{\space#1}{}\notblank{#2}{\space(#2)}{}}}, phantomlabel={#3}, breakable, parbox=false, after={\par}, fontupper=\itshape, propositionstyle, }
%% corollary: fairly simple numbered block/structure
\tcbset{ corollarystyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{corollary}[3]{title={{Corollary~\thetcbcounter\notblank{#1#2}{\space}{}\notblank{#1}{\space#1}{}\notblank{#2}{\space(#2)}{}}}, phantomlabel={#3}, breakable, parbox=false, after={\par}, fontupper=\itshape, corollarystyle, }
%%
%% tcolorbox, with styles, for AXIOM-LIKE
%%
%% conjecture: fairly simple numbered block/structure
\tcbset{ conjecturestyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{conjecture}[3]{title={{Conjecture~\thetcbcounter\notblank{#1#2}{\space}{}\notblank{#1}{\space#1}{}\notblank{#2}{\space(#2)}{}}}, phantomlabel={#3}, breakable, parbox=false, after={\par}, fontupper=\itshape, conjecturestyle, }
%%
%% tcolorbox, with styles, for REMARK-LIKE
%%
%% remark: fairly simple numbered block/structure
\tcbset{ remarkstyle/.style={bwminimalstyle, runintitlestyle, blockspacingstyle, after title={\space}, } }
\newtcolorbox[use counter from=block]{remark}[2]{title={{Remark~\thetcbcounter\notblank{#1}{\space\space#1}{}}}, phantomlabel={#2}, breakable, parbox=false, after={\par}, remarkstyle, }
%%
%% tcolorbox, with styles, for EXAMPLE-LIKE
%%
%% example: fairly simple numbered block/structure
\tcbset{ examplestyle/.style={
      enhanced,
      breakable,
      parbox=false,
      frame hidden,
      borderline west={1pt}{0mm}{MidnightBlue},
      overlay unbroken and last={
        \draw[MidnightBlue, path fading=east, line width=.5pt] (frame.south west) -- (frame.south east);
      },
      colback=white,
      coltitle=white,
      fonttitle=\bfseries\sffamily,
      attach boxed title to top left={xshift=0mm},
      boxed title style={colback=MidnightBlue, sharp corners, colframe=MidnightBlue},
      boxed title size=title,
      after skip=1em,
      before skip=1em,
    } }
\newtcolorbox[use counter from=block]{example}[2]{title={{Example~\thetcbcounter\notblank{#1}{\space\space#1}{}}}, phantomlabel={#2}, breakable, parbox=false, after={\par}, examplestyle, }
%%
%% tcolorbox, with styles, for PROJECT-LIKE
%%
%% investigation: fairly simple numbered block/structure
\tcbset{ investigationstyle/.style={
    enhanced,
    parbox=false,
    fonttitle=\bfseries\itshape\large,
    coltitle=black,
    attach boxed title to top left={xshift=5mm,yshift=-\tcboxedtitleheight/2-1mm,yshifttext=-2mm},
    title=Investigate!,
    boxed title style={frame hidden, colback=white, sharp corners},
    boxed title size=title,
    frame hidden,
    borderline={1pt}{0mm}{green!50!black},
    arc=4mm,
    colback=white,
    width=0.98\linewidth,
    bottom=5mm,
    overlay unbroken and last={
      \draw[color=white, line width=3pt] ([xshift=.05\textwidth]frame.south west) -- ([xshift=-.05\textwidth]frame.south east);
      \draw ([xshift=.1\textwidth]frame.south west) node{\LARGE \color{red} \Stopsign};
      \draw (frame.south) node{\textbf{Attempt the above activity before proceeding}};
      \draw ([xshift=-.1\textwidth]frame.south east) node{\LARGE \color{red} \Stopsign};
    },
    center,
    after skip=2em,
  } }
\newtcolorbox[use counter from=project-distinct]{investigation}[2]{title={{Investigate!~\thetcbcounter\notblank{#1}{\space\space#1}{}}}, phantomlabel={#2}, breakable, parbox=false, after={\par}, investigationstyle, }
%%
%% xparse environments for introductions and conclusions of divisions
%%
%% introduction: in a structured division
\NewDocumentEnvironment{introduction}{m}
{\notblank{#1}{\noindent\textbf{#1}\space}{}}{\par\medskip}
%%
%% tcolorbox, with styles, for miscellaneous environments
%%
%% paragraphs: the terminal, pseudo-division
%% We use the lowest LaTeX traditional division
\titleformat{\subparagraph}[block]{\normalfont\filcenter\scshape\bfseries}{\thesubparagraph}{0em}{#1}
\titlespacing*{\subparagraph}{0pt}{3.25ex plus 1ex minus .2ex}{1ex}
\NewDocumentEnvironment{paragraphs}{mm}
{\subparagraph*{#1}\hypertarget{#2}{}}{}
%% assemblage: fairly simple un-numbered block/structure
\tcbset{ assemblagestyle/.style={enhanced, boxrule=0.5pt, sharp corners, colback=MidnightBlue!5, colframe=MidnightBlue!20,
colbacktitle=MidnightBlue!25, coltitle=black, boxed title style={sharp corners, frame hidden},
fonttitle=\bfseries, attach boxed title to top left={xshift=4mm,yshift=-4mm,yshifttext=-2mm}, top=3mm,
} }
\newtcolorbox{assemblage}[2]{title={\notblank{#1}{#1}{}}, phantomlabel={#2}, breakable, parbox=false, assemblagestyle}
%% proof: title is a replacement
\tcbset{ proofstyle/.style={bwminimalstyle, fonttitle=\normalfont\itshape, attach title to upper, after title={\space}, after upper={\space\space\hspace*{\stretch{1}}\(\textsc{qed}\)}
} }
\newtcolorbox{proofptx}[2]{title={\notblank{#1}{#1}{Proof.}}, phantom={\hypertarget{#2}{}}, breakable, parbox=false, after={\par}, proofstyle }
%% back colophon, at the very end, typically on its own page
\tcbset{ backcolophonstyle/.style={bwminimalstyle, blockspacingstyle, before skip=5ex, left skip=0.15\textwidth, right skip=0.15\textwidth, fonttitle=\large\bfseries, center title, halign=center, bottomtitle=2ex} }
\newtcolorbox{backcolophon}[1]{title={Colophon}, phantom={\hypertarget{#1}{}}, breakable, parbox=false, backcolophonstyle}
%% begin: environments for duplicates in solutions divisions
%% Solutions to division exercises, not in exercise group
\tcbset{ divisionsolutionstyle/.style={bwminimalstyle, runintitlestyle, exercisespacingstyle, after title={\space}, breakable, parbox=false } }
\newtcolorbox{divisionsolution}[3]{divisionsolutionstyle, title={\hyperlink{#3}{#1}.\notblank{#2}{\space#2}{}}}
\tcbset{ investigationsolutionstyle/.style={bwminimalstyle, runintitlestyle, exercisespacingstyle, after title={\space}, breakable, parbox=false } }
\newtcolorbox{investigationsolution}[3]{investigationsolutionstyle, title={\hyperref[#3]{Investigate!~#1}\notblank{#2}{\space#2}{}}}
%% Divisional exercises (and worksheet) as LaTeX environments
%% Third argument is option for extra workspace in worksheets
%% Hanging indent occupies a 5ex width slot prior to left margin
%% Experimentally this seems just barely sufficient for a bold "888."
%% Division exercises, not in exercise group
\tcbset{ divisionexercisestyle/.style={bwminimalstyle, runintitlestyle, exercisespacingstyle, left=5ex, breakable, parbox=false } }
\newtcolorbox{divisionexercise}[4]{divisionexercisestyle, before title={\hspace{-5ex}\makebox[5ex][l]{#1.}}, title={\notblank{#2}{#2\space}{}}, phantom={\hypertarget{#4}{}}, after={\notblank{#3}{\newline\rule{\workspacestrutwidth}{#3\textheight}\newline}{}}}
%% Localize LaTeX supplied names (possibly none)
\renewcommand*{\appendixname}{Appendix}
\renewcommand*{\chaptername}{Chapter}
\setcounter{chapter}{-1}
%% Equation Numbering
%% Controlled by  numbering.equations.level  processing parameter
%% No adjustment here implies document-wide numbering
\numberwithin{equation}{chapter}
%% "tcolorbox" environment for a single image, occupying entire \linewidth
%% arguments are left-margin, width, right-margin, as multiples of
%% \linewidth, and are guaranteed to be positive and sum to 1.0
\tcbset{ imagestyle/.style={bwminimalstyle} }
\NewTColorBox{image}{mmm}{imagestyle,left skip=#1\linewidth,width=#2\linewidth}
%% For improved tables
\usepackage{array}
%% Some extra height on each row is desirable, especially with horizontal rules
%% Increment determined experimentally
\setlength{\extrarowheight}{0.2ex}
%% Define variable thickness horizontal rules, full and partial
%% Thicknesses are 0.03, 0.05, 0.08 in the  booktabs  package
\newcommand{\hrulethin}  {\noalign{\hrule height 0.04em}}
\newcommand{\hrulemedium}{\noalign{\hrule height 0.07em}}
\newcommand{\hrulethick} {\noalign{\hrule height 0.11em}}
%% We preserve a copy of the \setlength package before other
%% packages (extpfeil) get a chance to load packages that redefine it
\let\oldsetlength\setlength
\newlength{\Oldarrayrulewidth}
\newcommand{\crulethin}[1]%
{\noalign{\global\oldsetlength{\Oldarrayrulewidth}{\arrayrulewidth}}%
\noalign{\global\oldsetlength{\arrayrulewidth}{0.04em}}\cline{#1}%
\noalign{\global\oldsetlength{\arrayrulewidth}{\Oldarrayrulewidth}}}%
\newcommand{\crulemedium}[1]%
{\noalign{\global\oldsetlength{\Oldarrayrulewidth}{\arrayrulewidth}}%
\noalign{\global\oldsetlength{\arrayrulewidth}{0.07em}}\cline{#1}%
\noalign{\global\oldsetlength{\arrayrulewidth}{\Oldarrayrulewidth}}}
\newcommand{\crulethick}[1]%
{\noalign{\global\oldsetlength{\Oldarrayrulewidth}{\arrayrulewidth}}%
\noalign{\global\oldsetlength{\arrayrulewidth}{0.11em}}\cline{#1}%
\noalign{\global\oldsetlength{\arrayrulewidth}{\Oldarrayrulewidth}}}
%% Single letter column specifiers defined via array package
\newcolumntype{A}{!{\vrule width 0.04em}}
\newcolumntype{B}{!{\vrule width 0.07em}}
\newcolumntype{C}{!{\vrule width 0.11em}}
%% Footnote Numbering
%% Specified by numbering.footnotes.level
%% Undo counter reset by chapter for a book
\counterwithout{footnote}{chapter}
\counterwithin*{footnote}{chapter}
%% Multiple column, column-major lists
\usepackage{multicol}
%% More flexible list management, esp. for references
%% But also for specifying labels (i.e. custom order) on nested lists
\usepackage[inline]{enumitem}
%% Support for index creation
%% imakeidx package does not require extra pass (as with makeidx)
%% Title of the "Index" section set via a keyword
%% Language support for the "see" and "see also" phrases
\usepackage{imakeidx}
\makeindex[title=Index, intoc=true]
\renewcommand{\seename}{See}
\renewcommand{\alsoname}{See also}
%% Package for tables spanning several pages
\usepackage{longtable}
%% hyperref driver does not need to be specified, it will be detected
%% Footnote marks in tcolorbox have broken linking under
%% hyperref, so it is necessary to turn off all linking
%% It *must* be given as a package option, not with \hypersetup
\usepackage[hyperfootnotes=false]{hyperref}
%% configure hyperref's  \url  to match listings' inline verbatim
\renewcommand\UrlFont{\small\ttfamily}
%% Hyperlinking active in electronic PDFs, all links solid and blue
\hypersetup{colorlinks=true,linkcolor=blue,citecolor=blue,filecolor=blue,urlcolor=blue}
\hypersetup{pdftitle={Discrete Mathematics}}
%% If you manually remove hyperref, leave in this next command
\providecommand\phantomsection{}
%% Graphics Preamble Entries
\usepackage{tikz, pgfplots}

\usetikzlibrary{positioning,matrix,arrows}

\usetikzlibrary{shapes,decorations,shadows,fadings,patterns}
\usetikzlibrary{decorations.markings}

\usepackage{skak} %for chessboards etc.

\def\circleA{(-.5,0) circle (1)}
\def\circleAlabel{(-1.5,.6) node[above]{$A$}}
\def\circleB{(.5,0) circle (1)}
\def\circleBlabel{(1.5,.6) node[above]{$B$}}
\def\circleC{(0,-1) circle (1)}
\def\circleClabel{(.5,-2) node[right]{$C$}}
\def\twosetbox{(-2,-1.4) rectangle (2,1.4)}
\def\threesetbox{(-2.5,-2.4) rectangle (2.5,1.4)}
\newcommand{\hexbox}[3]{
  \def\x{-cos{30}*\r*#1+cos{30}*#2*\r*2}
  \def\y{-\r*#1-sin{30}*\r*#1}
  \draw (\x,\y) +(90:\r) -- +(30:\r) -- +(-30:\r) -- +(-90:\r) -- +(-150:\r) -- +(150:\r) -- cycle;
  \draw (\x,\y) node{#3};
}

\tikzset{->-/.style={decoration={
  markings,
  mark=at position .5 with {\arrow{>}}},postaction={decorate}}}

  \newcommand{\onedot}{
    +(.5,.5) \v
  }
  \newcommand{\twodots}{
    +(.25,.25) \v +(.75,.75) \v
  }
  \newcommand{\threedots}{
  +(.25,.25) \v +(.5, .5) \v +(.75,.75) \v
  }
  \newcommand{\fourdots}{
    +(.25,.25) \v +(.25,.75) \v +(.75,.25) \v +(.75,.75) \v
  }
  \newcommand{\fivedots}{
    +(.5,.5) \v +(.25,.25) \v +(.25,.75) \v +(.75,.25) \v +(.75,.75) \v
  }
  \newcommand{\sixdots}{
    +(.25,.5) \v +(.75,.5) \v +(.25,.25) \v +(.25,.75) \v +(.75,.25) \v +(.75,.75) \v
  }
  \newcommand{\dominoborder}{
    \draw[thick, rounded corners] (0,0) rectangle (1,2);
    \draw[thin] (0,1) -- (1,1);
  }

%% Imported from https://upload.wikimedia.org/wikipedia/commons/3/32/Blank_US_Map.svg
%% Translated to TikZ using Inkscape 0.48
%% From https://gist.github.com/bordaigorl/fce575813ff943f47505

\tikzset{USA map/.cd,
state/.style={fill, draw=white, ultra thick},
HI/.style={}, AK/.style={}, FL/.style={}, NH/.style={}, MI/.style={}, MI/.style={}, SP/.style={}, VT/.style={}, ME/.style={}, RI/.style={}, NY/.style={}, PA/.style={}, NJ/.style={}, DE/.style={}, MD/.style={}, VA/.style={}, WV/.style={}, OH/.style={}, IN/.style={}, IL/.style={}, CT/.style={}, WI/.style={}, NC/.style={}, DC/.style={}, MA/.style={}, TN/.style={}, AR/.style={}, MO/.style={}, GA/.style={}, SC/.style={}, KY/.style={}, AL/.style={}, LA/.style={}, MS/.style={}, IA/.style={}, MN/.style={}, OK/.style={}, TX/.style={}, NM/.style={}, KS/.style={}, NE/.style={}, SD/.style={}, ND/.style={}, WY/.style={}, MT/.style={}, CO/.style={}, ID/.style={}, UT/.style={}, AZ/.style={}, NV/.style={}, OR/.style={}, WA/.style={}, CA/.style={}}

\tikzset{
every state/.style={USA map/state/.style={#1}},
HI/.style={USA map/HI/.style={#1}}, AK/.style={USA map/AK/.style={#1}}, FL/.style={USA map/FL/.style={#1}}, NH/.style={USA map/NH/.style={#1}}, MI/.style={USA map/MI/.style={#1}}, SP/.style={USA map/SP/.style={#1}}, VT/.style={USA map/VT/.style={#1}}, ME/.style={USA map/ME/.style={#1}}, RI/.style={USA map/RI/.style={#1}}, NY/.style={USA map/NY/.style={#1}}, PA/.style={USA map/PA/.style={#1}}, NJ/.style={USA map/NJ/.style={#1}}, DE/.style={USA map/DE/.style={#1}}, MD/.style={USA map/MD/.style={#1}}, VA/.style={USA map/VA/.style={#1}}, WV/.style={USA map/WV/.style={#1}}, OH/.style={USA map/OH/.style={#1}}, IN/.style={USA map/IN/.style={#1}}, IL/.style={USA map/IL/.style={#1}}, CT/.style={USA map/CT/.style={#1}}, WI/.style={USA map/WI/.style={#1}}, NC/.style={USA map/NC/.style={#1}}, DC/.style={USA map/DC/.style={#1}}, MA/.style={USA map/MA/.style={#1}}, TN/.style={USA map/TN/.style={#1}}, AR/.style={USA map/AR/.style={#1}}, MO/.style={USA map/MO/.style={#1}}, GA/.style={USA map/GA/.style={#1}}, SC/.style={USA map/SC/.style={#1}}, KY/.style={USA map/KY/.style={#1}}, AL/.style={USA map/AL/.style={#1}}, LA/.style={USA map/LA/.style={#1}}, MS/.style={USA map/MS/.style={#1}}, IA/.style={USA map/IA/.style={#1}}, MN/.style={USA map/MN/.style={#1}}, OK/.style={USA map/OK/.style={#1}}, TX/.style={USA map/TX/.style={#1}}, NM/.style={USA map/NM/.style={#1}}, KS/.style={USA map/KS/.style={#1}}, NE/.style={USA map/NE/.style={#1}}, SD/.style={USA map/SD/.style={#1}}, ND/.style={USA map/ND/.style={#1}}, WY/.style={USA map/WY/.style={#1}}, MT/.style={USA map/MT/.style={#1}}, CO/.style={USA map/CO/.style={#1}}, ID/.style={USA map/ID/.style={#1}}, UT/.style={USA map/UT/.style={#1}}, AZ/.style={USA map/AZ/.style={#1}}, NV/.style={USA map/NV/.style={#1}}, OR/.style={USA map/OR/.style={#1}}, WA/.style={USA map/WA/.style={#1}}, CA/.style={USA map/CA/.style={#1}}
}

\newcommand{\USA}[1][]{
    \begin{scope}[y=0.80pt,x=0.80pt,yscale=-1, inner sep=0pt, outer sep=0pt,
    #1
    ]

    % HI
    \path[USA map/state, USA map/HI, local bounding box=HI] (233.0875,519.3095) -- (235.0274,515.7529) -- (237.2907,515.4296) --
      (237.6140,516.2379) -- (235.5124,519.3095) -- (233.0875,519.3095) --
      cycle(243.2722,515.5913) -- (249.4153,518.1778) -- (251.5169,517.8545) --
      (253.1335,513.9747) -- (252.4869,510.5798) -- (248.2837,510.0948) --
      (244.2421,511.8731) -- (243.2722,515.5913) -- cycle(273.9878,525.6143) --
      (277.7060,531.1107) -- (280.1309,530.7874) -- (281.2625,530.3024) --
      (282.7175,531.5957) -- (286.4357,531.4341) -- (287.4057,529.9791) --
      (284.4958,528.2009) -- (282.5558,524.4826) -- (280.4542,520.9261) --
      (274.6344,523.8360) -- (273.9878,525.6143) -- cycle(294.1954,534.5056) --
      (295.4887,532.5657) -- (300.1769,533.5357) -- (300.8236,533.0507) --
      (306.9667,533.6973) -- (306.6434,534.9906) -- (304.0568,536.4456) --
      (299.6919,536.1222) -- (294.1954,534.5056) -- cycle(299.5303,539.6788) --
      (301.4702,543.5587) -- (304.5418,542.4270) -- (304.8651,540.8104) --
      (303.2485,538.7088) -- (299.5303,538.3855) -- (299.5303,539.6788) --
      cycle(306.4817,538.5472) -- (308.7450,535.6373) -- (313.4331,538.0622) --
      (317.7980,539.1938) -- (322.1628,541.9421) -- (322.1628,543.8820) --
      (318.6063,545.6603) -- (313.7565,546.6302) -- (311.3315,545.1753) --
      (306.4817,538.5472) -- cycle(323.1328,554.0666) -- (324.7494,552.7734) --
      (328.1443,554.3900) -- (335.7424,557.9465) -- (339.1373,560.0481) --
      (340.7539,562.4730) -- (342.6938,566.8379) -- (346.7353,569.4245) --
      (346.4120,570.7178) -- (342.5321,573.9510) -- (338.3290,575.4059) --
      (336.8740,574.7593) -- (333.8024,576.5375) -- (331.3775,579.7708) --
      (329.1143,582.6807) -- (327.3360,582.5190) -- (323.7794,579.9324) --
      (323.4561,575.4059) -- (324.1028,572.9810) -- (322.4862,567.3229) --
      (320.3846,565.5446) -- (320.2229,562.9580) -- (322.4862,561.9880) --
      (324.5878,558.9165) -- (325.0727,557.9465) -- (323.4561,556.1682) --
      (323.1328,554.0666) -- cycle;

    % AK
    \path[USA map/state, USA map/AK, local bounding box=AK] (158.0767,453.6750) -- (157.7534,539.0322) -- (159.3700,540.0021) --
      (162.4416,540.1638) -- (163.8965,539.0322) -- (166.4831,539.0322) --
      (166.6447,541.9420) -- (173.5962,548.7318) -- (174.0812,551.3184) --
      (177.4760,549.3785) -- (178.1227,549.2168) -- (178.4460,546.1452) --
      (179.9010,544.5286) -- (181.0326,544.3670) -- (182.9725,542.9120) --
      (186.0441,545.0136) -- (186.6907,547.9235) -- (188.6307,549.0551) --
      (189.7623,551.4801) -- (193.6422,553.2583) -- (197.0371,559.2398) --
      (199.7853,563.1197) -- (202.0486,565.8679) -- (203.5035,569.5861) --
      (208.5150,571.3644) -- (213.6882,573.4660) -- (214.6581,577.8308) --
      (215.1431,580.9024) -- (214.1732,584.2973) -- (212.3949,586.5605) --
      (210.7783,585.7522) -- (209.3233,582.6807) -- (206.5751,581.2257) --
      (204.7968,580.0941) -- (203.9885,580.9024) -- (205.4434,583.6507) --
      (205.6051,587.3689) -- (204.4735,587.8538) -- (202.5335,585.9139) --
      (200.4320,584.6206) -- (200.9169,586.2372) -- (202.2102,588.0155) --
      (201.4019,588.8238) .. controls (201.4019,588.8238) and (200.5936,588.5005) ..
      (200.1086,587.8538) .. controls (199.6236,587.2072) and (198.0070,584.4590) ..
      (198.0070,584.4590) -- (197.0371,582.1957) .. controls (197.0371,582.1957) and
      (196.7137,583.4890) .. (196.0671,583.1657) .. controls (195.4204,582.8423) and
      (194.7738,581.7107) .. (194.7738,581.7107) -- (196.5521,579.7708) --
      (195.0971,578.3158) -- (195.0971,573.3043) -- (194.2888,573.3043) --
      (193.4805,576.6992) -- (192.3489,577.1842) -- (191.3789,573.4660) --
      (190.7323,569.7478) -- (189.9240,569.2628) -- (190.2473,574.9209) --
      (190.2473,576.0526) -- (188.7923,574.7593) -- (185.2358,568.7778) --
      (183.1342,568.2928) -- (182.4876,564.5746) -- (180.8709,561.6647) --
      (179.2543,560.5331) -- (179.2543,558.2698) -- (181.3559,556.9765) --
      (180.8709,556.6532) -- (178.2844,557.2999) -- (174.8895,554.8750) --
      (172.3029,551.9650) -- (167.4531,549.3785) -- (163.4115,546.7919) --
      (164.7048,543.5587) -- (164.7048,541.9421) -- (162.9265,543.5587) --
      (160.0166,544.6903) -- (156.2984,543.5587) -- (150.6403,541.1338) --
      (145.1438,541.1338) -- (144.4972,541.6187) -- (138.0307,537.7389) --
      (135.9291,537.4155) -- (133.1809,531.5957) -- (129.6243,531.9191) --
      (126.0678,533.3740) -- (126.5528,537.9005) -- (127.6844,534.9906) --
      (128.6544,535.3139) -- (127.1994,539.6788) -- (130.4326,536.9306) --
      (131.0793,538.5472) -- (127.1994,542.9120) -- (125.9061,542.5887) --
      (125.4211,540.6488) -- (124.1279,539.8405) -- (122.8346,540.9721) --
      (120.0863,539.1938) -- (117.0148,541.2954) -- (115.2365,543.3970) --
      (111.8416,545.4986) -- (107.1534,545.3369) -- (106.6684,543.2353) --
      (110.3866,542.5887) -- (110.3866,541.2954) -- (108.1234,540.6488) --
      (109.0934,538.2238) -- (111.3566,534.3440) -- (111.3566,532.5657) --
      (111.5183,531.7574) -- (115.8831,529.4941) -- (116.8531,530.7874) --
      (119.6013,530.7874) -- (118.3081,528.2009) -- (114.5898,527.8775) --
      (109.5783,530.6258) -- (107.1534,534.0206) -- (105.3752,536.6072) --
      (104.2435,538.8705) -- (100.0403,540.3254) -- (96.9688,542.9120) --
      (96.6454,544.5286) -- (98.9087,545.4986) -- (99.7170,547.6002) --
      (96.9688,550.8334) -- (90.5023,555.0366) -- (82.7426,559.2398) --
      (80.6410,560.3714) -- (75.3062,561.5031) -- (69.9713,563.7663) --
      (71.7496,565.0596) -- (70.2947,566.5146) -- (69.8097,567.6462) --
      (67.0614,566.6762) -- (63.8282,566.8379) -- (63.0199,569.1011) --
      (62.0499,569.1011) -- (62.3733,566.6762) -- (58.8167,567.9695) --
      (55.9068,568.9395) -- (52.5119,567.6462) -- (49.6020,569.5861) --
      (46.3688,569.5861) -- (44.2672,570.8794) -- (42.6506,571.6877) --
      (40.5490,571.3644) -- (37.9624,570.2328) -- (35.6992,570.8794) --
      (34.7292,571.8494) -- (33.1126,570.7178) -- (33.1126,568.7778) --
      (36.1841,567.4845) -- (42.4889,568.1312) -- (46.8538,566.5146) --
      (48.9554,564.4130) -- (51.8653,563.7663) -- (53.6436,562.9580) --
      (56.3918,563.1197) -- (58.0084,564.4130) -- (58.9784,564.0896) --
      (61.2416,561.3414) -- (64.3132,560.3714) -- (67.7081,559.7248) --
      (69.0014,559.4015) -- (69.6480,559.8864) -- (70.4563,559.8864) --
      (71.7496,556.1682) -- (75.7911,554.7133) -- (77.7311,550.9951) --
      (79.9943,546.4686) -- (81.6110,545.0136) -- (81.9343,542.4270) --
      (80.3177,543.7203) -- (76.9228,544.3670) -- (76.2761,541.9421) --
      (74.9828,541.6187) -- (74.0129,542.5887) -- (73.8512,545.4986) --
      (72.3963,545.3369) -- (70.9413,539.5171) -- (69.6480,540.8104) --
      (68.5164,540.3254) -- (68.1931,538.3855) -- (64.1515,538.5472) --
      (62.0499,539.6788) -- (59.4634,539.3555) -- (60.9183,537.9005) --
      (61.4033,535.3139) -- (60.7566,533.3740) -- (62.2116,532.4040) --
      (63.5049,532.2424) -- (62.8582,530.4641) -- (62.8582,526.0993) --
      (61.8883,525.1293) -- (61.0800,526.5842) -- (54.9368,526.5842) --
      (53.4819,525.2909) -- (52.8352,521.4111) -- (50.7337,517.8545) --
      (50.7337,516.8846) -- (52.8352,516.0763) -- (52.9969,513.9747) --
      (54.1285,512.8430) -- (53.3202,512.3581) -- (52.0269,512.8430) --
      (50.8953,510.0948) -- (51.8653,505.0833) -- (56.3918,501.8501) --
      (58.9784,500.2335) -- (60.9183,496.5153) -- (63.6666,495.2220) --
      (66.2531,496.3536) -- (66.5765,498.7785) -- (69.0014,498.4552) --
      (72.2346,496.0303) -- (73.8512,496.6769) -- (74.8212,497.3236) --
      (76.4378,497.3236) -- (78.7010,496.0303) -- (79.5094,491.6654) .. controls
      (79.5094,491.6654) and (79.8327,488.7555) .. (80.4793,488.2705) .. controls
      (81.1260,487.7855) and (81.4493,487.3006) .. (81.4493,487.3006) --
      (80.3177,485.3606) -- (77.7311,486.1689) -- (74.4978,486.9772) --
      (72.5579,486.4923) -- (69.0014,484.7140) -- (63.9899,484.5523) --
      (60.4333,480.8341) -- (60.9183,476.9542) -- (61.5650,474.5293) --
      (59.4634,472.7511) -- (57.5234,469.0328) -- (58.0084,468.2245) --
      (64.7982,467.7396) -- (66.8998,467.7396) -- (67.8697,468.7095) --
      (68.5164,468.7095) -- (68.3547,467.0929) -- (72.2346,466.4463) --
      (74.8212,466.7696) -- (76.2761,467.9012) -- (74.8212,470.0028) --
      (74.3362,471.4578) -- (77.0844,473.0744) -- (82.0959,474.8526) --
      (83.8742,473.8827) -- (81.6110,469.5178) -- (80.6410,466.2846) --
      (81.6110,465.4763) -- (78.2161,463.5364) -- (77.7311,462.4047) --
      (78.2161,460.7881) -- (77.4078,456.9083) -- (74.4978,452.2201) --
      (72.0729,448.0169) -- (74.9828,446.0769) -- (78.2161,446.0769) --
      (79.9943,446.7236) -- (84.1975,446.5619) -- (87.9157,443.0054) --
      (89.0474,439.9338) -- (92.7656,437.5089) -- (94.3822,438.4789) --
      (97.1304,437.8322) -- (100.8486,435.7306) -- (101.9803,435.5690) --
      (102.9502,436.3773) -- (107.4767,436.2156) -- (110.2250,433.1441) --
      (111.3566,433.1441) -- (114.9132,435.5690) -- (116.8531,437.6706) --
      (116.3681,438.8022) -- (117.0148,439.9338) -- (118.6314,438.3172) --
      (122.5112,438.6405) -- (122.8346,442.3587) -- (124.7745,443.8137) --
      (131.8876,444.4603) -- (138.1924,448.6635) -- (139.6473,447.6936) --
      (144.8205,450.2801) -- (146.9221,449.6335) -- (148.8620,448.8252) --
      (153.7119,450.7651) -- (158.0767,453.6750) -- cycle(42.9739,482.6124) --
      (45.0755,487.9472) -- (44.9138,488.9172) -- (42.0039,488.5938) --
      (40.2257,484.5523) -- (38.4474,483.0974) -- (36.0225,483.0974) --
      (35.8608,480.5108) -- (37.6391,478.0859) -- (38.7707,480.5108) --
      (40.2257,481.9657) -- (42.9739,482.6124) -- cycle(40.3873,516.0763) --
      (44.1055,516.8846) -- (47.8237,517.8545) -- (48.6321,518.8245) --
      (47.0154,522.5427) -- (43.9439,522.3810) -- (40.5490,518.8245) --
      (40.3873,516.0763) -- cycle(19.6947,502.0117) -- (20.8263,504.5983) --
      (21.9580,506.2149) -- (20.8263,507.0232) -- (18.7247,503.9517) --
      (18.7247,502.0117) -- (19.6947,502.0117) -- cycle(5.9535,575.0826) --
      (9.3484,572.8193) -- (12.7433,571.8494) -- (15.3298,572.1727) --
      (15.8148,573.7893) -- (17.7548,574.2743) -- (19.6947,572.3344) --
      (19.3714,570.7178) -- (22.1196,570.0711) -- (25.0295,572.6577) --
      (23.8979,574.4360) -- (19.5330,575.5676) -- (16.7848,575.0826) --
      (13.0666,573.9510) -- (8.7017,575.4059) -- (7.0851,575.7292) --
      (5.9535,575.0826) -- cycle(54.9368,570.5561) -- (56.5535,572.4960) --
      (58.6550,570.8794) -- (57.2001,569.5861) -- (54.9368,570.5561) --
      cycle(57.8467,573.6276) -- (58.9784,571.3644) -- (61.0800,571.6877) --
      (60.2717,573.6276) -- (57.8467,573.6276) -- cycle(81.4493,571.6877) --
      (82.9042,573.4660) -- (83.8742,572.3344) -- (83.0659,570.3944) --
      (81.4493,571.6877) -- cycle(90.1790,559.2398) -- (91.3106,565.0596) --
      (94.2205,565.8679) -- (99.2320,562.9580) -- (103.5969,560.3714) --
      (101.9803,557.9465) -- (102.4652,555.5216) -- (100.3636,556.8149) --
      (97.4538,556.0066) -- (99.0704,554.8750) -- (101.0103,555.6833) --
      (104.8902,553.9050) -- (105.3751,552.4500) -- (102.9502,551.6417) --
      (103.7585,549.7018) -- (101.0103,551.6417) -- (96.3221,555.1983) --
      (91.4723,558.1082) -- (90.1790,559.2398) -- cycle(132.5342,539.3555) --
      (134.9592,537.9005) -- (133.9892,536.1222) -- (132.2109,537.0922) --
      (132.5342,539.3555) -- cycle;

    % FL
    \path[USA map/state, USA map/FL, local bounding box=FL] (759.8167,439.1428) -- (762.0824,446.4614) -- (765.8121,456.2037) --
      (771.1468,465.5800) -- (774.8650,471.8847) -- (779.7149,477.3812) --
      (783.7564,481.0994) -- (785.3730,484.0093) -- (784.2414,485.3025) --
      (783.4330,486.5958) -- (786.3429,494.0322) -- (789.2528,496.9421) --
      (791.8394,502.2769) -- (795.3959,508.0967) -- (799.9224,516.3413) --
      (801.2157,523.9394) -- (801.7007,535.9023) -- (802.3473,537.6805) --
      (802.0240,541.0754) -- (799.5991,542.3687) -- (799.9224,544.3086) --
      (799.2758,546.2485) -- (799.5991,548.6734) -- (800.0841,550.6134) --
      (797.3358,553.8466) -- (794.2643,555.3015) -- (790.3844,555.4632) --
      (788.9295,557.0798) -- (786.5046,558.0497) -- (785.2113,557.5648) --
      (784.0797,556.5948) -- (783.7564,553.6849) -- (782.9481,550.2900) --
      (779.5532,545.1169) -- (775.9967,542.8537) -- (772.1168,542.5303) --
      (771.3085,543.8236) -- (768.2370,539.4588) -- (767.5903,535.9023) --
      (765.0037,531.8608) -- (763.2255,530.7291) -- (761.6089,532.8307) --
      (759.8306,532.5074) -- (757.7290,527.4959) -- (754.8191,523.6161) --
      (751.9092,518.2813) -- (749.3227,515.2097) -- (745.7662,511.4915) --
      (747.8677,509.0666) -- (751.1009,503.5702) -- (750.9393,501.9536) --
      (746.4128,500.9836) -- (744.7962,501.6302) -- (745.1195,502.2769) --
      (747.7061,503.2468) -- (746.2511,507.7733) -- (745.4428,508.2583) --
      (743.6646,504.2168) -- (742.3713,499.3670) -- (742.0480,496.6188) --
      (743.5029,491.9306) -- (743.5029,482.3927) -- (740.4314,478.6745) --
      (739.1381,475.6029) -- (733.9649,474.3096) -- (732.0250,473.6630) --
      (730.4084,471.0764) -- (727.0135,469.4598) -- (725.8819,466.0649) --
      (723.1337,465.0950) -- (720.7088,461.3768) -- (716.5056,459.9219) --
      (713.5957,458.4669) -- (711.0092,458.4669) -- (706.9676,459.2752) --
      (706.8060,461.2151) -- (707.6143,462.1851) -- (707.1293,463.3167) --
      (704.0578,463.1551) -- (700.3396,466.7116) -- (696.7830,468.6515) --
      (692.9032,468.6515) -- (689.6700,469.9448) -- (689.3466,467.1966) --
      (687.7300,465.2566) -- (684.8202,464.1250) -- (683.2036,462.6701) --
      (675.1205,458.7902) -- (667.5225,457.0120) -- (663.1577,457.6586) --
      (657.1762,458.1436) -- (651.1948,460.2452) -- (647.7155,460.8581) --
      (647.4776,452.8084) -- (644.8910,450.8685) -- (643.1128,449.0902) --
      (643.4361,446.0186) -- (653.6207,444.7254) -- (679.1631,441.8155) --
      (685.9529,441.1688) -- (691.3889,441.4491) -- (693.9754,445.3290) --
      (695.4304,446.7839) -- (703.5285,447.2991) -- (714.3483,446.6525) --
      (735.8607,445.3592) -- (741.3064,444.6848) -- (746.4140,444.8893) --
      (746.8408,447.7992) -- (749.0738,448.6075) -- (749.3087,443.9775) --
      (747.7805,439.8046) -- (749.0889,438.3647) -- (754.6436,438.8195) --
      (759.8167,439.1428) -- cycle(772.3621,571.5479) -- (774.7870,570.9012) --
      (776.0803,570.6588) -- (777.5353,568.3147) -- (779.8793,566.6980) --
      (781.1726,567.1830) -- (782.8701,567.5064) -- (783.2742,568.5571) --
      (779.7985,569.7696) -- (775.5953,571.2246) -- (773.2512,572.4370) --
      (772.3621,571.5479) -- cycle(785.8608,566.5364) -- (787.0733,567.5872) --
      (789.8215,565.4856) -- (795.1563,561.2824) -- (798.8745,557.4025) --
      (801.3803,550.7744) -- (802.3502,549.0770) -- (802.5119,545.6821) --
      (801.7844,546.1671) -- (800.8145,548.9962) -- (799.3595,553.6035) --
      (796.1263,558.8575) -- (791.7614,563.0607) -- (788.3666,565.0006) --
      (785.8608,566.5364) -- cycle;

    % NH
    \path[USA map/state, USA map/NH, local bounding box=NH] (880.7990,142.4248) -- (881.6680,141.3483) -- (882.7582,138.0572) --
      (880.2152,137.1438) -- (879.7302,134.0722) -- (875.8503,132.9406) --
      (875.5270,130.1923) -- (868.2523,106.7515) -- (863.6508,92.2085) --
      (862.7538,92.2034) -- (862.1071,93.8200) -- (861.4605,93.3351) --
      (860.4905,92.3651) -- (859.0356,94.3050) -- (858.9871,99.3371) --
      (859.2987,105.0043) -- (861.2386,107.7525) -- (861.2386,111.7941) --
      (857.5204,116.8568) -- (854.9339,117.9885) -- (854.9339,119.1201) --
      (856.0655,120.8984) -- (856.0655,129.4664) -- (855.2572,138.6811) --
      (855.0955,143.5309) -- (856.0655,144.8242) -- (855.9038,149.3507) --
      (855.4188,151.1289) -- (856.3876,151.8382) -- (873.1753,147.4136) --
      (875.3502,146.8112) -- (877.1938,144.0378) -- (880.7990,142.4247) -- cycle;

    % % path57
    % \path[USA map/state, USA map/draw, local bounding box=draw[path57]=ca9a9a9,line width=1.600pt] (211.0000,493.0000) --
    %   (211.0000,548.0000) -- (247.0000,593.0000)(0.0000,425.0000) --
    %   (144.0000,425.0000) -- (211.0000,493.0000) -- (297.0000,493.0000) --
    %   (350.0000,547.0000) -- (350.0000,593.0000);

    \begin{scope}% MI
      % MI-
    \path[USA map/state, USA map/MI, local bounding box=MI] (697.8601,177.2369) -- (694.6269,168.9922)
        -- (692.3636,159.9392) -- (689.9387,156.7060) -- (687.3521,154.9277) --
        (685.7355,156.0594) -- (681.8557,157.8376) -- (679.9158,162.8491) --
        (677.1675,166.5673) -- (676.0359,167.2139) -- (674.5810,166.5673) .. controls
        (674.5810,166.5673) and (671.9944,165.1123) .. (672.1561,164.4657) .. controls
        (672.3177,163.8191) and (672.6410,159.4542) .. (672.6410,159.4542) --
        (676.0359,158.1609) -- (676.8442,154.7661) -- (677.4908,152.1795) --
        (679.9158,150.5629) -- (679.5924,140.5400) -- (677.9758,138.2767) --
        (676.6825,137.4684) -- (675.8742,135.3668) -- (676.6825,134.5585) --
        (678.2991,134.8818) -- (678.4608,133.2652) -- (676.0359,131.0020) --
        (674.7426,128.4154) -- (672.1561,128.4154) -- (667.6296,126.9605) --
        (662.1331,123.5656) -- (659.3849,123.5656) -- (658.7382,124.2123) --
        (657.7683,123.7273) -- (654.6967,121.4640) -- (651.7868,123.2423) --
        (648.8769,125.5055) -- (649.2003,129.0621) -- (650.1702,129.3854) --
        (652.2718,129.8704) -- (652.7568,130.6787) -- (650.1702,131.4870) --
        (647.5837,131.8103) -- (646.1287,133.5886) -- (645.8054,135.6901) --
        (646.1287,137.3067) -- (646.4520,142.8032) -- (642.8955,144.9048) --
        (642.2489,144.7431) -- (642.2489,140.5400) -- (643.5421,138.1151) --
        (644.1888,135.6901) -- (643.3805,134.8818) -- (641.4406,135.6901) --
        (640.4706,139.8933) -- (637.7224,141.0249) -- (635.9441,142.9649) --
        (635.7824,143.9348) -- (636.4291,144.7431) -- (635.7824,147.3297) --
        (633.5192,147.8147) -- (633.5192,148.9463) -- (634.3275,151.3712) --
        (633.1959,157.5143) -- (631.5793,161.5558) -- (632.2259,166.2440) --
        (632.7109,167.3756) -- (631.9026,169.8005) -- (631.5793,170.6088) --
        (631.2560,173.3570) -- (634.8125,179.3385) -- (637.7224,185.8049) --
        (639.1773,190.6547) -- (638.3690,195.3429) -- (637.3991,201.3243) --
        (634.9741,206.4974) -- (634.6508,209.2457) -- (631.3920,212.3308) --
        (635.8006,212.1688) -- (657.2191,209.9055) -- (664.4969,208.9184) --
        (664.5933,210.5848) -- (671.4452,209.3723) -- (681.7433,207.8692) --
        (685.5975,207.4083) -- (685.7356,206.8207) -- (685.8972,205.3658) --
        (687.9988,201.6476) -- (689.9994,199.9098) -- (689.7771,194.8579) --
        (691.3741,193.2609) -- (692.4647,192.9179) -- (692.6870,189.3614) --
        (694.2227,186.3303) -- (695.2735,186.9365) -- (695.4352,187.5832) --
        (696.2435,187.7448) -- (698.1834,186.7749) -- (697.8601,177.2369) -- cycle;

      % SP-
      \path[USA map/state, USA map/SP, local bounding box=SP] (581.6193,82.0590) -- (583.4483,80.0014) --
        (585.6202,79.2012) -- (590.9929,75.3146) -- (593.2791,74.7431) --
        (593.7363,75.2003) -- (588.5923,80.3443) -- (585.2773,82.2876) --
        (583.2197,83.2021) -- (581.6193,82.0590) -- cycle(667.7937,114.1872) --
        (668.4403,116.6929) -- (671.6736,116.8546) -- (672.9668,115.6421) .. controls
        (672.9668,115.6421) and (672.8860,114.1872) .. (672.5627,114.0255) .. controls
        (672.2394,113.8639) and (670.9461,112.1664) .. (670.9461,112.1664) --
        (668.7637,112.4089) -- (667.1470,112.5706) -- (666.8237,113.7022) --
        (667.7937,114.1872) -- cycle(567.4921,111.2132) -- (568.2084,110.6328) --
        (570.9566,109.8245) -- (574.5131,107.5612) -- (574.5131,106.5913) --
        (575.1598,105.9446) -- (581.1412,104.9747) -- (583.5661,103.0347) --
        (587.9310,100.9331) -- (588.0926,99.6399) -- (590.0325,96.7300) --
        (591.8108,95.9217) -- (593.1041,94.1434) -- (595.3673,91.8802) --
        (599.7322,89.4553) -- (604.4203,88.9703) -- (605.5519,90.1019) --
        (605.2286,91.0719) -- (601.5104,92.0418) -- (600.0555,95.1134) --
        (597.7922,95.9217) -- (597.3073,98.3466) -- (594.8824,101.5798) --
        (594.5590,104.1664) -- (595.3673,104.6513) -- (596.3373,103.5197) --
        (599.8938,100.6098) -- (601.1871,101.9031) -- (603.4504,101.9031) --
        (606.6836,102.8731) -- (608.1385,104.0047) -- (609.5934,107.0762) --
        (612.3417,109.8245) -- (616.2215,109.6628) -- (617.6765,108.6928) --
        (619.2931,109.9861) -- (620.9097,110.4711) -- (622.2030,109.6628) --
        (623.3346,109.6628) -- (624.9512,108.6928) -- (628.9927,105.1363) --
        (632.3876,104.0047) -- (639.0157,103.6814) -- (643.5421,101.7414) --
        (646.1287,100.4482) -- (647.5837,100.6098) -- (647.5837,106.2679) --
        (648.0687,106.5913) -- (650.9785,107.3996) -- (652.9185,106.9146) --
        (659.0616,105.2980) -- (660.1932,104.1664) -- (661.6481,104.6513) --
        (661.6481,111.6027) -- (664.8813,114.6743) -- (666.1746,115.3209) --
        (667.4679,116.2909) -- (666.1746,116.6142) -- (665.3663,116.2909) --
        (661.6481,115.8059) -- (659.5465,116.4526) -- (657.2833,116.2909) --
        (654.0501,117.7458) -- (652.2718,117.7458) -- (646.4520,116.4526) --
        (641.2789,116.6142) -- (639.3390,119.2008) -- (632.3876,119.8474) --
        (629.9627,120.6557) -- (628.8311,123.7273) -- (627.5378,124.8589) --
        (627.0528,124.6972) -- (625.5978,123.0806) -- (621.0714,125.5055) --
        (620.4247,125.5055) -- (619.2931,123.8889) -- (618.4848,124.0506) --
        (616.5449,128.4154) -- (615.5749,132.4569) -- (612.3938,139.4577) --
        (611.2170,138.4235) -- (609.8453,137.3922) -- (607.9045,127.1041) --
        (604.3600,125.7341) -- (602.3074,123.4479) -- (590.1871,120.7044) --
        (587.3318,119.6747) -- (579.1014,117.5020) -- (571.2114,116.3589) --
        (567.4921,111.2132) -- cycle;

    \end{scope}
    % VT
    \path[USA map/state, USA map/VT, local bounding box=VT] (844.4842,154.0579) -- (844.8009,148.7123) -- (841.9101,137.9281) --
      (841.2635,137.6048) -- (838.3536,136.3115) -- (839.1619,133.4016) --
      (838.3536,131.3000) -- (835.6536,126.6600) -- (836.6235,122.7802) --
      (835.8152,117.6070) -- (833.3903,111.1406) -- (832.5847,106.2181) --
      (859.0041,99.4863) -- (859.3128,105.0085) -- (861.2291,107.7507) --
      (861.2291,111.7922) -- (857.5219,116.8502) -- (854.9353,117.9929) --
      (854.9243,119.1135) -- (856.2343,120.6326) -- (855.9234,128.7305) --
      (855.3139,137.9894) -- (855.0860,143.5463) -- (856.0560,144.8396) --
      (855.8943,149.4103) -- (855.4093,151.1002) -- (856.4235,151.8274) --
      (848.9860,153.3341) -- (844.4842,154.0579) -- cycle;

    % ME
    \path[USA map/state, USA map/ME, local bounding box=ME] (922.8398,78.8307) -- (924.7797,80.9323) -- (927.0429,84.6505) --
      (927.0429,86.5904) -- (924.9413,91.2786) -- (923.0014,91.9252) --
      (919.6065,94.9968) -- (914.7567,100.4932) .. controls (914.7567,100.4932) and
      (914.1101,100.4932) .. (913.4635,100.4932) .. controls (912.8168,100.4932) and
      (912.4935,98.3916) .. (912.4935,98.3916) -- (910.7152,98.5533) --
      (909.7453,100.0082) -- (907.3204,101.4632) -- (906.3504,102.9181) --
      (907.9670,104.3731) -- (907.4820,105.0197) -- (906.9970,107.7679) --
      (905.0571,107.6063) -- (905.0571,105.9897) -- (904.7338,104.6964) --
      (903.2789,105.0197) -- (901.5006,101.7865) -- (899.3990,103.0798) --
      (900.6923,104.5347) -- (901.0156,105.6664) -- (900.2073,106.9596) --
      (900.5306,110.0312) -- (900.6923,111.6478) -- (899.0757,114.2344) --
      (896.1658,114.7193) -- (895.8425,117.6292) -- (890.5077,120.7008) --
      (889.2144,121.1858) -- (887.5978,119.7308) -- (884.5262,123.2873) --
      (885.4962,126.5206) -- (884.0412,127.8138) -- (883.8796,132.1787) --
      (882.7563,138.4380) -- (880.2941,137.2821) -- (879.8091,134.2105) --
      (875.9292,133.0789) -- (875.6059,130.3306) -- (868.3311,106.8898) --
      (863.6326,92.2501) -- (865.0531,92.1319) -- (866.5669,92.5418) --
      (866.5669,89.9553) -- (867.8752,85.4588) -- (870.4618,80.7706) --
      (871.9167,76.7291) -- (869.9768,74.3042) -- (869.9768,68.3228) --
      (870.7851,67.3528) -- (871.5934,64.6046) -- (871.4317,63.1497) --
      (871.2701,58.2998) -- (873.0483,53.4500) -- (875.9582,44.5587) --
      (878.0598,40.3555) -- (879.3531,40.3555) -- (880.6464,40.5172) --
      (880.6464,41.6488) -- (881.9397,43.9121) -- (884.6879,44.5587) --
      (885.4962,43.7504) -- (885.4962,42.7804) -- (889.5377,39.8705) --
      (891.3160,38.0923) -- (892.7709,38.2539) -- (898.7523,40.6788) --
      (900.6923,41.6488) -- (909.7453,71.5560) -- (915.7267,71.5560) --
      (916.5350,73.4959) -- (916.6967,78.3457) -- (919.6066,80.6090) --
      (920.4149,80.6090) -- (920.5765,80.1240) -- (920.0915,78.9924) --
      (922.8398,78.8307) -- cycle(901.9080,108.9783) -- (903.4438,107.4425) --
      (904.8179,108.4933) -- (905.3837,110.9182) -- (903.6863,111.8073) --
      (901.9080,108.9782) -- cycle(908.6169,103.0776) -- (910.3952,104.9367) ..
      controls (910.3952,104.9367) and (911.6885,105.0175) .. (911.6885,104.6942) ..
      controls (911.6885,104.3709) and (911.9310,102.6735) .. (911.9310,102.6735) --
      (912.8201,101.8652) -- (912.0118,100.0869) -- (909.9911,100.8144) --
      (908.6169,103.0776) -- cycle;

    % RI
    \path[USA map/state, USA map/RI, local bounding box=RI] (874.0700,178.8954) -- (870.3742,163.9394) -- (876.6435,162.0942) --
      (878.8346,164.0214) -- (882.1411,168.3420) -- (884.8290,172.7441) --
      (881.8297,174.3689) -- (880.5364,174.2072) -- (879.4048,175.9855) --
      (876.9799,177.9254) -- (874.0700,178.8954) -- cycle;

    % NY
    \path[USA map/state, USA map/NY, local bounding box=NY] (830.3794,188.7456) -- (829.2478,187.7756) -- (826.6612,187.6140) --
      (824.3980,185.6741) -- (822.7674,179.5449) -- (819.3089,179.6354) --
      (816.8652,176.9272) -- (797.4799,181.3092) -- (754.4781,190.0389) --
      (746.9485,191.2669) -- (746.2103,184.7985) -- (747.6384,183.6731) --
      (748.9317,182.5415) -- (749.9017,180.9249) -- (751.6799,179.7933) --
      (753.6198,178.0150) -- (754.1048,176.3984) -- (756.2064,173.6502) --
      (757.3380,172.6802) -- (757.1764,171.7103) -- (755.8831,168.6387) --
      (754.1048,168.4770) -- (752.1649,162.3339) -- (755.0748,160.5557) --
      (759.4396,159.1007) -- (763.4811,157.8074) -- (766.7143,157.3225) --
      (773.0191,157.1608) -- (774.9590,158.4541) -- (776.5756,158.6158) --
      (778.6772,157.3225) -- (781.2638,156.1908) -- (786.4369,155.7059) --
      (788.5385,153.9276) -- (790.3168,150.6944) -- (791.9334,148.7545) --
      (794.0350,148.7545) -- (795.9749,147.6228) -- (796.1365,145.3596) --
      (794.6816,143.2580) -- (794.3583,141.8031) -- (795.4899,139.7015) --
      (795.4899,138.2465) -- (793.7116,138.2465) -- (791.9334,137.4382) --
      (791.1251,136.3066) -- (790.9634,133.7200) -- (796.7832,128.2236) --
      (797.4298,127.4153) -- (798.8848,124.5054) -- (801.7947,119.9789) --
      (804.5429,116.2607) -- (806.6445,113.8358) -- (809.0596,112.0102) --
      (812.1409,110.7643) -- (817.6374,109.4710) -- (820.8706,109.6326) --
      (825.3971,108.1777) -- (832.9623,106.1065) -- (833.4821,111.0862) --
      (835.9070,117.5526) -- (836.7153,122.7258) -- (835.7453,126.6056) --
      (838.3319,131.1321) -- (839.1402,133.2337) -- (838.3319,136.1436) --
      (841.2418,137.4369) -- (841.8884,137.7602) -- (844.9600,148.7532) --
      (844.4237,153.8128) -- (843.9387,164.6441) -- (844.7470,170.1406) --
      (845.5553,173.6971) -- (847.0103,180.9719) -- (847.0103,189.0549) --
      (845.8787,191.3182) -- (847.7180,193.3109) -- (848.5145,194.9894) --
      (846.5746,196.7676) -- (846.8979,198.0609) -- (848.1912,197.7376) --
      (849.6462,196.4443) -- (851.9094,193.8577) -- (853.0410,193.2111) --
      (854.6576,193.8577) -- (856.9209,194.0194) -- (864.8422,190.1396) --
      (867.7521,187.3913) -- (869.0454,185.9364) -- (873.2486,187.5530) --
      (869.8537,191.1095) -- (865.9739,194.0194) -- (858.8608,199.3542) --
      (856.2742,200.3242) -- (850.4545,202.2641) -- (846.4130,203.3957) --
      (845.2382,202.8628) -- (844.9942,199.1743) -- (845.4792,196.4260) --
      (845.3175,194.3244) -- (842.5040,192.6254) -- (837.9775,191.6555) --
      (834.0976,190.5238) -- (830.3794,188.7456) -- cycle;

    % PA
    \path[USA map/state, USA map/PA, local bounding box=PA] (825.1237,224.6920) -- (826.4321,224.4211) -- (828.7616,223.1678) --
      (829.9735,220.6847) -- (831.5901,218.4215) -- (834.8233,215.3499) --
      (834.8233,214.5416) -- (832.3984,212.9250) -- (828.8419,210.5001) --
      (827.8719,207.9135) -- (825.1237,207.5902) -- (824.9620,206.4586) --
      (824.1537,203.7103) -- (826.4170,202.5787) -- (826.5787,200.1538) --
      (825.2854,198.8605) -- (825.4470,197.2439) -- (827.3870,194.1724) --
      (827.3870,191.1008) -- (830.0846,188.4549) -- (829.1643,187.7799) --
      (826.6402,187.5870) -- (824.3457,185.6471) -- (822.7958,179.5310) --
      (819.2912,179.6316) -- (816.8360,176.9282) -- (798.7450,181.1260) --
      (755.7432,189.8557) -- (746.8519,191.3106) -- (746.2312,184.7892) --
      (740.8687,189.8569) -- (739.5754,190.3419) -- (735.3731,193.3508) --
      (738.2839,212.4882) -- (740.7655,222.2176) -- (744.3373,241.4791) --
      (747.6066,240.8414) -- (759.5502,239.3389) -- (797.4768,231.6737) --
      (812.3531,228.8504) -- (820.6534,227.2280) -- (820.9205,226.9895) --
      (823.0221,225.3729) -- (825.1237,224.6920) -- cycle;

    % NJ
    \path[USA map/state, USA map/NJ, local bounding box=NJ] (829.6794,188.4602) -- (827.3569,191.1944) -- (827.3569,194.2660) --
      (825.4169,197.3375) -- (825.2553,198.9542) -- (826.5486,200.2474) --
      (826.3869,202.6724) -- (824.1237,203.8040) -- (824.9320,206.5522) --
      (825.0936,207.6838) -- (827.8419,208.0072) -- (828.8118,210.5937) --
      (832.3684,213.0187) -- (834.7933,214.6353) -- (834.7933,215.4436) --
      (831.8101,218.1401) -- (830.1934,220.4034) -- (828.7385,223.1516) --
      (826.4752,224.4449) -- (826.0128,226.0474) -- (825.7703,227.2598) --
      (825.1611,229.8666) -- (826.2533,232.1108) -- (829.4865,235.0206) --
      (834.3364,237.2839) -- (838.3779,237.9305) -- (838.5395,239.3855) --
      (837.7312,240.3554) -- (838.0545,243.1037) -- (838.8628,243.1037) --
      (840.9644,240.6788) -- (841.7727,235.8289) -- (844.5210,231.7874) --
      (847.5925,225.3210) -- (848.7241,219.8246) -- (848.0775,218.6929) --
      (847.9158,209.3166) -- (846.2992,205.9218) -- (845.1676,206.7301) --
      (842.4194,207.0534) -- (841.9344,206.5684) -- (843.0660,205.5984) --
      (845.1676,203.6585) -- (845.2307,202.5647) -- (844.8463,199.1308) --
      (845.4197,196.3826) -- (845.3022,194.4136) -- (842.4947,192.6632) --
      (837.4025,191.4875) -- (833.2651,190.1059) -- (829.6795,188.4602) -- cycle;

    % DE
    \path[USA map/state, USA map/DE, local bounding box=DE] (825.6261,228.2791) -- (825.9944,226.1322) -- (826.3695,224.4412) --
      (824.7465,224.8389) -- (823.1310,225.3065) -- (820.9248,227.0708) --
      (822.6449,232.1137) -- (824.9081,237.7718) -- (827.0097,247.4714) --
      (828.6263,253.7762) -- (833.6378,253.6145) -- (839.7799,252.4339) --
      (837.5157,245.0476) -- (836.5457,245.5326) -- (832.9892,243.1077) --
      (831.2109,238.4195) -- (829.2710,234.8630) -- (826.1239,231.9927) --
      (825.2597,229.8946) -- (825.6261,228.2791) -- cycle;

    % MD
    \path[USA map/state, USA map/MD, local bounding box=MD] (839.7917,252.4148) -- (833.7832,253.6186) -- (828.6403,253.7361) --
      (826.7967,246.8137) -- (824.8719,237.6444) -- (822.2993,231.4560) --
      (821.0109,227.0576) -- (813.5049,228.6800) -- (798.6287,231.5033) --
      (761.1773,239.0542) -- (762.3086,244.0659) -- (763.2785,249.7240) --
      (763.6018,249.4007) -- (765.7034,246.9758) -- (767.9667,244.3581) --
      (770.3916,243.7425) -- (771.8466,242.2876) -- (773.6248,239.7010) --
      (774.9181,240.3477) -- (777.8280,240.0243) -- (780.4146,237.9228) --
      (782.4215,236.4695) -- (784.2667,235.9845) -- (785.9110,237.1145) --
      (788.8209,238.5694) -- (790.7609,240.3477) -- (791.9733,241.8835) --
      (796.0957,243.5809) -- (796.0957,246.4908) -- (801.5921,247.7841) --
      (802.7366,248.3260) -- (804.1485,246.2977) -- (807.0304,248.2679) --
      (805.7523,250.7498) -- (804.9870,254.7355) -- (803.2087,257.3220) --
      (803.2087,259.4236) -- (803.8554,261.2019) -- (808.9193,262.5576) --
      (813.2304,262.4959) -- (816.3020,263.4659) -- (818.4035,263.7892) --
      (819.3735,261.6876) -- (817.9186,259.5860) -- (817.9186,257.8077) --
      (815.4937,255.7062) -- (813.3921,250.2097) -- (814.6854,244.8749) --
      (814.5237,242.7733) -- (813.2304,241.4800) .. controls (813.2304,241.4800) and
      (814.6854,239.8634) .. (814.6854,239.2168) .. controls (814.6854,238.5701) and
      (815.1703,237.1152) .. (815.1703,237.1152) -- (817.1103,235.8219) --
      (819.0502,234.2053) -- (819.5352,235.1753) -- (818.0802,236.7919) --
      (816.7869,240.5101) -- (817.1103,241.6417) -- (818.8885,241.9650) --
      (819.3735,247.4615) -- (817.2719,248.4314) -- (817.5952,251.9880) --
      (818.0802,251.8263) -- (819.2118,249.8864) -- (820.8285,251.6646) --
      (819.2118,252.9579) -- (818.8885,256.3528) -- (821.4751,259.7477) --
      (825.3549,260.2327) -- (826.9716,259.4244) -- (830.2081,263.6073) --
      (831.5665,264.1436) -- (838.2201,261.3466) -- (840.2277,257.3228) --
      (839.7917,252.4148) -- cycle(823.8222,261.4435) -- (824.9538,263.9492) --
      (825.1155,265.7275) -- (826.2471,267.5866) .. controls (826.2471,267.5866) and
      (827.1362,266.6975) .. (827.1362,266.3741) .. controls (827.1362,266.0508) and
      (826.4087,263.3026) .. (826.4087,263.3026) -- (825.6813,260.9585) --
      (823.8222,261.4435) -- cycle;

    % VA
    \path[USA map/state, USA map/VA, local bounding box=VA] (831.6389,266.0689) -- (831.4949,264.1219) -- (837.9484,261.5720) --
      (837.1780,264.7899) -- (834.2580,268.5690) -- (833.8399,273.1548) --
      (834.3017,276.5452) -- (832.4737,281.5234) -- (830.3094,283.4395) --
      (828.8391,278.7987) -- (829.2850,273.3496) -- (830.8720,269.1665) --
      (831.6389,266.0689) -- cycle(834.9790,294.3703) -- (776.8049,306.9457) --
      (739.3779,312.2248) -- (732.6996,311.8496) -- (730.1143,313.7760) --
      (722.7752,313.9967) -- (714.3931,314.9743) -- (703.4781,316.5890) --
      (713.9475,310.9778) -- (713.9344,308.9028) -- (715.4545,306.7567) --
      (726.0083,295.2553) -- (729.9550,299.7327) -- (733.7380,300.6967) --
      (736.2815,299.5564) -- (738.5187,298.2452) -- (741.0553,299.5887) --
      (744.9695,298.1610) -- (746.8462,293.6046) -- (749.4471,294.1447) --
      (752.3024,292.0134) -- (754.1016,292.5070) -- (756.9288,288.8304) --
      (757.2771,286.7473) -- (756.3134,285.4718) -- (757.3162,283.6051) --
      (762.5905,271.3280) -- (763.2072,265.5929) -- (764.4361,265.0694) --
      (766.6147,267.5122) -- (770.5505,267.2111) -- (772.4797,259.6374) --
      (775.2737,259.0766) -- (776.3235,256.3355) -- (778.9033,253.9886) --
      (781.6751,248.2934) -- (781.7600,243.2259) -- (791.5815,247.0487) .. controls
      (792.2624,247.3891) and (792.4144,241.9996) .. (792.4144,241.9996) --
      (796.0670,243.5979) -- (796.1353,246.5361) -- (801.9195,247.8355) --
      (804.0525,249.0117) -- (805.7124,251.0674) -- (805.0578,254.7161) --
      (803.1104,257.3071) -- (803.2202,259.3662) -- (803.8092,261.2191) --
      (808.7880,262.4875) -- (813.2392,262.5274) -- (816.3081,263.4860) --
      (818.2516,263.7953) -- (818.9664,266.8838) -- (822.1568,267.2863) --
      (823.0249,268.4863) -- (822.5854,273.1764) -- (823.9601,274.2790) --
      (823.4812,276.2094) -- (824.7106,276.9991) -- (824.4888,278.3837) --
      (821.7948,278.2888) -- (821.8838,279.9044) -- (824.1648,281.4472) --
      (824.2863,282.8591) -- (826.0594,284.6445) -- (826.5512,287.1686) --
      (823.9982,288.5499) -- (825.5704,290.0442) -- (831.3714,288.3584) --
      (834.9790,294.3703) -- cycle;

    % WV
    \path[USA map/state, USA map/WV, local bounding box=WV] (761.1855,238.9673) -- (762.2975,243.9118) -- (763.3810,249.9432) --
      (765.5113,247.3628) -- (767.7745,244.2913) -- (770.3129,243.6757) --
      (771.7678,242.2208) -- (773.5461,239.6342) -- (774.9911,240.2808) --
      (777.9010,239.9575) -- (780.4875,237.8559) -- (782.4944,236.4027) --
      (784.3397,235.9177) -- (785.6436,236.9342) -- (789.2868,238.7558) --
      (791.2268,240.5341) -- (792.6009,241.8273) -- (791.8392,247.3823) --
      (786.0042,244.8411) -- (781.7590,243.2190) -- (781.6579,248.3975) --
      (778.9102,253.9342) -- (776.3802,256.3609) -- (775.1881,259.1102) --
      (772.5445,259.6103) -- (771.6467,263.2122) -- (770.6034,267.1619) --
      (766.6352,267.5026) -- (764.3115,265.0638) -- (763.2403,265.6232) --
      (762.6076,271.0929) -- (761.2574,274.6274) -- (756.2990,285.5823) --
      (757.1956,286.7430) -- (756.9898,288.6516) -- (754.1811,292.5360) --
      (752.3726,291.9918) -- (749.4045,294.1515) -- (746.8622,293.5793) --
      (744.8629,298.1349) .. controls (744.8629,298.1349) and (741.6036,299.5651) ..
      (740.9400,299.5026) .. controls (740.7795,299.4875) and (738.4709,298.2535) ..
      (738.4709,298.2535) -- (736.1344,299.6329) -- (733.7246,300.6773) --
      (729.9799,299.7881) -- (728.8585,298.6199) -- (726.6663,295.5965) --
      (723.5237,293.6084) -- (721.8121,289.9851) -- (717.5273,286.5169) --
      (716.8806,284.2537) -- (714.2940,282.7987) -- (713.4857,281.1821) --
      (713.2432,275.9282) -- (715.4257,275.8474) -- (717.3656,275.0391) --
      (717.5273,272.2908) -- (719.1439,270.8359) -- (719.3055,265.8244) --
      (720.2755,261.9445) -- (721.5688,261.2979) -- (722.8620,262.4295) --
      (723.3470,264.2078) -- (725.1253,263.2378) -- (725.6103,261.6212) --
      (724.4787,259.8430) -- (724.4787,257.4180) -- (725.4486,256.1248) --
      (727.7119,252.7299) -- (729.0052,251.2749) -- (731.1068,251.7599) --
      (733.3700,250.1433) -- (736.4415,246.7484) -- (738.7048,242.8686) --
      (739.0281,237.2105) -- (739.5131,232.1990) -- (739.5131,227.5108) --
      (738.3815,224.4393) -- (739.3514,222.9843) -- (740.6349,221.6910) --
      (744.1262,241.5181) -- (748.7572,240.7670) -- (761.1855,238.9673) -- cycle;

    % OH
    \path[USA map/state, USA map/OH, local bounding box=OH] (735.3250,193.3283) -- (729.2314,197.3817) -- (725.3516,199.6449) --
      (721.9567,203.3631) -- (717.9152,207.2430) -- (714.6820,208.0513) --
      (711.7721,208.5362) -- (706.2756,211.1228) -- (704.1741,211.2845) --
      (700.7792,208.2129) -- (695.6061,208.8596) -- (693.0195,207.4046) --
      (690.6384,206.0538) -- (685.7459,206.7572) -- (675.5612,208.3738) --
      (664.3544,210.5585) -- (665.6477,225.1888) -- (667.4259,238.9300) --
      (670.0125,262.3708) -- (670.5783,267.2020) -- (674.7007,267.0729) --
      (677.1256,266.2646) -- (680.4894,267.7678) -- (682.5598,272.1326) --
      (687.6988,272.1155) -- (689.5905,274.2342) -- (691.3517,274.1689) --
      (693.8901,272.8274) -- (696.3943,273.1989) -- (701.8155,273.6816) --
      (703.5425,271.5489) -- (705.8882,270.2557) -- (707.9587,269.5748) --
      (708.6053,272.3230) -- (710.3836,273.2930) -- (713.8593,275.6371) --
      (716.0417,275.5563) -- (717.3748,275.0638) -- (717.5595,272.3023) --
      (719.1449,270.8473) -- (719.2441,266.0546) .. controls (719.2441,266.0546) and
      (720.2680,261.9455) .. (720.2680,261.9455) -- (721.5673,261.3442) --
      (722.8887,262.4920) -- (723.4268,264.1890) -- (725.1459,263.1516) --
      (725.5849,261.6908) -- (724.4682,259.7878) -- (724.5345,257.4733) --
      (725.2835,256.4010) -- (727.4363,253.0946) -- (728.4865,251.5512) --
      (730.5881,252.0362) -- (732.8513,250.4196) -- (735.9229,247.0247) --
      (738.6944,242.9460) -- (739.0147,237.8905) -- (739.4997,232.8790) --
      (739.3229,227.5721) -- (738.3681,224.6773) -- (738.7193,223.4875) --
      (740.5237,221.7374) -- (738.2349,212.6901) -- (735.3250,193.3283) -- cycle;

    % IN
    \path[USA map/state, USA map/IN, local bounding box=IN] (619.5695,299.9713) -- (619.6348,297.1127) -- (620.1198,292.5862) --
      (622.3831,289.6764) -- (624.1613,285.7965) -- (626.7479,281.5933) --
      (626.2629,275.7735) -- (624.4847,273.0253) -- (624.1613,269.7921) --
      (624.9697,264.2956) -- (624.4847,257.3442) -- (623.1914,241.3398) --
      (621.8981,225.9820) -- (620.9276,214.2620) -- (623.9987,215.1515) --
      (625.4536,216.1215) -- (626.5853,215.7982) -- (628.6868,213.8582) --
      (631.5164,212.2413) -- (636.6092,212.0792) -- (658.5951,209.8160) --
      (664.1708,209.2828) -- (665.6740,225.2390) -- (669.9253,262.0806) --
      (670.5238,267.8521) -- (670.1523,270.1154) -- (671.3802,271.9108) --
      (671.4766,273.2833) -- (668.9554,274.8828) -- (665.4159,276.4341) --
      (662.2138,276.9844) -- (661.6153,281.8514) -- (657.0406,285.1638) --
      (654.2442,289.1743) -- (654.5675,291.5510) -- (653.9862,293.0852) --
      (650.6597,293.0852) -- (649.0742,291.4686) -- (646.5809,292.7308) --
      (643.8979,294.2339) -- (644.0596,297.2884) -- (642.8658,297.5464) --
      (642.3979,296.5283) -- (640.2311,295.0251) -- (636.9807,296.3666) --
      (635.4294,299.3729) -- (633.9916,298.5646) -- (632.5366,296.9651) --
      (628.0723,297.4500) -- (622.4795,298.4200) -- (619.5696,299.9713) -- cycle;

    % IL
    \path[USA map/state, USA map/IL, local bounding box=IL] (619.5415,300.3424) -- (619.5727,297.1127) -- (620.1400,292.4668) --
      (622.4726,289.5509) -- (624.3392,285.4751) -- (626.5722,281.4798) --
      (626.2007,276.2274) -- (624.1955,272.6848) -- (624.0991,269.3382) --
      (624.7940,264.0687) -- (623.9686,256.8903) -- (622.9022,241.1128) --
      (621.6089,226.0955) -- (620.6867,214.4563) -- (620.4141,213.5349) --
      (619.6058,210.9483) -- (618.3126,207.2301) -- (616.6960,205.4519) --
      (615.2410,202.8653) -- (615.0074,197.3764) -- (569.2110,199.9746) --
      (569.4396,202.3466) -- (571.7259,203.0324) -- (572.6403,204.1755) --
      (573.0976,206.0045) -- (576.9842,209.4339) -- (577.6701,211.7201) --
      (576.9842,215.1494) -- (575.1552,218.8074) -- (574.4693,221.3222) --
      (572.1831,223.1512) -- (570.3541,223.8371) -- (565.0958,225.2088) --
      (564.4099,227.0378) -- (563.7241,229.0954) -- (564.4099,230.4672) --
      (566.2389,232.0675) -- (566.0103,236.1827) -- (564.1813,237.7831) --
      (563.4954,239.3834) -- (563.4954,242.1269) -- (561.6665,242.5841) --
      (560.0661,243.7273) -- (559.8375,245.0990) -- (560.0661,247.1566) --
      (558.3514,248.4712) -- (557.3226,251.2718) -- (557.7799,254.9298) --
      (560.0661,262.2457) -- (567.3820,269.7902) -- (572.8690,273.4482) --
      (572.6403,277.7920) -- (573.5548,279.1638) -- (579.9563,279.6210) --
      (582.6997,280.9928) -- (582.0139,284.6507) -- (579.7277,290.5949) --
      (579.0418,293.7956) -- (581.3280,297.6822) -- (587.7294,302.9405) --
      (592.3019,303.6264) -- (594.3595,308.6561) -- (596.4171,311.8568) --
      (595.5026,314.8289) -- (597.1030,318.9441) -- (598.9319,321.0017) --
      (600.3460,320.1210) -- (601.2536,318.0462) -- (603.4667,316.2990) --
      (605.5982,315.6846) -- (608.2007,316.8644) -- (611.8277,318.2401) --
      (613.0167,317.9419) -- (613.2165,315.6834) -- (611.9292,313.2717) --
      (612.2334,310.8949) -- (614.0718,309.5475) -- (617.0944,308.7372) --
      (618.3553,308.2787) -- (617.7427,306.8918) -- (616.9513,304.5374) --
      (618.3839,303.5565) -- (619.5414,300.3424) -- cycle;

    % CT
    \path[USA map/state, USA map/CT, local bounding box=CT] (874.0683,178.8629) -- (870.3909,163.9841) -- (865.6721,164.9044) --
      (844.4433,169.6475) -- (845.4435,172.8731) -- (846.8984,180.1479) --
      (847.0752,189.1148) -- (845.8552,191.2897) -- (847.7760,193.2220) --
      (852.0475,189.3164) -- (855.6040,186.0832) -- (857.5439,183.9816) --
      (858.3523,184.6282) -- (861.1005,183.1733) -- (866.2736,182.0417) --
      (874.0683,178.8629) -- cycle;

    % WI
    \path[USA map/state, USA map/WI, local bounding box=WI] (615.0659,197.3687) -- (614.9992,194.2112) -- (613.8201,189.6847) --
      (613.1734,183.5417) -- (612.0418,181.1167) -- (613.0118,178.0452) --
      (613.8201,175.1353) -- (615.2750,172.5487) -- (614.6284,169.1539) --
      (613.9817,165.5973) -- (614.4667,163.8191) -- (616.4066,161.3942) --
      (616.5683,158.6459) -- (615.7600,157.3526) -- (616.4066,154.7661) --
      (615.9541,150.5954) -- (618.7024,144.9373) -- (621.6122,138.1475) --
      (621.7739,135.8843) -- (621.4506,134.9143) -- (620.6423,135.3993) --
      (616.4391,141.7041) -- (613.6909,145.7456) -- (611.7510,147.5238) --
      (610.9427,149.7871) -- (608.9877,150.5954) -- (607.8561,152.5353) --
      (606.4011,152.2120) -- (606.2395,150.4337) -- (607.5328,148.0088) --
      (609.6343,143.3207) -- (611.4126,141.7040) -- (612.4034,139.3462) --
      (609.8430,137.4449) -- (607.8682,127.0779) -- (604.3207,125.7359) --
      (602.3744,123.4276) -- (590.2447,120.7059) -- (587.3688,119.6939) --
      (579.1557,117.5266) -- (571.2378,116.3678) -- (567.4726,111.2372) --
      (566.7222,111.7912) -- (565.5243,111.6295) -- (564.8777,110.4979) --
      (563.5437,110.7944) -- (562.4120,110.9561) -- (560.6338,111.9261) --
      (559.6638,111.2794) -- (560.3105,109.3395) -- (562.2504,106.2679) --
      (563.3820,105.1363) -- (561.4421,103.6814) -- (559.3405,104.4897) --
      (556.4306,106.4296) -- (548.9942,109.6628) -- (546.0843,110.3094) --
      (543.1745,109.8245) -- (542.1927,108.9462) -- (540.0760,111.7814) --
      (539.8474,114.5249) -- (539.8474,122.9839) -- (538.7043,124.5843) --
      (533.4460,128.4708) -- (531.1597,134.4150) -- (531.6170,134.6437) --
      (534.1318,136.7013) -- (534.8177,139.9020) -- (532.9887,143.1027) --
      (532.9887,146.9893) -- (533.4460,153.6193) -- (536.4181,156.5914) --
      (539.8474,156.5914) -- (541.6764,159.7922) -- (545.1057,160.2494) --
      (548.9923,165.9650) -- (556.0796,170.0802) -- (558.1372,172.8236) --
      (559.0517,180.2539) -- (559.7376,183.5689) -- (562.0238,185.1693) --
      (562.2524,186.5410) -- (560.1948,189.9703) -- (560.4234,193.1711) --
      (562.9383,197.0576) -- (565.4531,198.2007) -- (568.4252,198.6580) --
      (569.7676,200.0381) -- (615.0659,197.3687) -- cycle;

    % NC
    \path[USA map/state, USA map/NC, local bounding box=NC] (834.9815,294.3155) -- (837.0665,299.2329) -- (840.6231,305.6993) --
      (843.0480,308.1242) -- (843.6946,310.3875) -- (841.2697,310.5491) --
      (842.0780,311.1958) -- (841.7547,315.3989) -- (839.1681,316.6922) --
      (838.5215,318.7938) -- (837.2282,321.7037) -- (833.5100,323.3203) --
      (831.0851,322.9970) -- (829.6301,322.8353) -- (828.0135,321.5420) --
      (828.3369,322.8353) -- (828.3369,323.8053) -- (830.2768,323.8053) --
      (831.0851,325.0986) -- (829.1452,331.4033) -- (833.3483,331.4033) --
      (833.9950,333.0199) -- (836.2582,330.7567) -- (837.5515,330.2717) --
      (835.6116,333.8282) -- (832.5400,338.6781) -- (831.2468,338.6781) --
      (830.1151,338.1931) -- (827.3669,338.8397) -- (822.1938,341.2646) --
      (815.7273,346.5994) -- (812.3325,351.2876) -- (810.3926,357.7540) --
      (809.9076,360.1789) -- (805.2194,360.6639) -- (799.7663,362.0005) --
      (789.8199,353.7980) -- (777.2103,346.2000) -- (774.3004,345.3916) --
      (761.6909,346.8466) -- (757.4145,347.5967) -- (755.7979,344.3635) --
      (752.8275,342.2468) -- (736.3381,342.7318) -- (729.0634,343.5401) --
      (720.0104,348.0666) -- (713.8673,350.6532) -- (692.6897,353.2398) --
      (693.1898,349.1854) -- (694.9681,347.7305) -- (697.7163,347.0838) --
      (698.3630,343.3656) -- (702.5661,340.6174) -- (706.4460,339.1624) --
      (710.6492,335.6059) -- (715.0140,333.5043) -- (715.6606,330.4328) --
      (719.5405,326.5529) -- (720.1871,326.3913) .. controls (720.1871,326.3913) and
      (720.1871,327.5229) .. (720.9955,327.5229) .. controls (721.8038,327.5229) and
      (722.9354,327.8462) .. (722.9354,327.8462) -- (725.1986,324.2897) --
      (727.3002,323.6430) -- (729.5635,323.9664) -- (731.1801,320.4098) --
      (734.0900,317.8232) -- (734.5750,315.7217) -- (734.7625,312.0735) --
      (739.0390,312.0510) -- (746.2375,311.1952) -- (761.9948,308.9427) --
      (777.1308,306.8562) -- (798.7713,302.1368) -- (818.7546,297.8782) --
      (829.9316,295.4724) -- (834.9815,294.3156) -- cycle(839.2520,327.5221) --
      (841.8386,325.0164) -- (844.9909,322.4298) -- (846.5267,321.7831) --
      (846.6884,319.7624) -- (846.0417,313.6193) -- (844.5868,311.2752) --
      (843.9401,309.4161) -- (844.6676,309.1736) -- (847.4159,314.6701) --
      (847.8200,319.1157) -- (847.6584,322.5106) -- (844.2635,324.0464) --
      (841.4344,326.4713) -- (840.3028,327.6838) -- (839.2520,327.5221) -- cycle;

    % DC
    \path[USA map/state, USA map/DC, local bounding box=DC] (805.8194,250.8438) -- (803.9612,249.0197) -- (802.7285,248.3334) --
      (804.1715,246.3109) -- (807.0606,248.2594) -- (805.8194,250.8438) -- cycle;

    % MA
    \path[USA map/state, USA map/MA, local bounding box=MA] (899.6235,173.2539) -- (901.7954,172.5681) -- (902.2527,170.8534) --
      (903.2815,170.9677) -- (904.3103,173.2539) -- (903.0529,173.7112) --
      (899.1662,173.8255) -- (899.6235,173.2539) -- cycle(890.2499,174.0541) --
      (892.5362,171.4250) -- (894.1365,171.4250) -- (895.9655,172.9110) --
      (893.5650,173.9398) -- (891.3931,174.9686) -- (890.2499,174.0541) --
      cycle(855.4508,152.0659) -- (873.0977,147.4253) -- (875.3609,146.7786) --
      (877.2750,143.9829) -- (881.0118,142.3196) -- (883.9010,146.7324) --
      (881.4761,151.9056) -- (881.1528,153.3605) -- (883.0927,155.9471) --
      (884.2244,155.1388) -- (886.0026,155.1388) -- (888.2659,157.7253) --
      (892.1457,163.7068) -- (895.7023,164.1918) -- (897.9655,163.2218) --
      (899.7438,161.4435) -- (898.9355,158.6953) -- (896.8339,157.0787) --
      (895.3789,157.8870) -- (894.4090,156.5937) -- (894.8939,156.1087) --
      (896.9955,155.9471) -- (898.7738,156.7554) -- (900.7137,159.1803) --
      (901.6837,162.0902) -- (902.0070,164.5151) -- (897.8038,165.9700) --
      (893.9240,167.9099) -- (890.0441,172.4364) -- (888.1042,173.8914) --
      (888.1042,172.9214) -- (890.5291,171.4665) -- (891.0141,169.6882) --
      (890.2058,166.6167) -- (887.2959,168.0716) -- (886.4876,169.5266) --
      (886.9726,171.7898) -- (884.9063,172.7902) -- (882.1591,168.2631) --
      (878.7642,163.8983) -- (876.6937,162.0858) -- (870.1604,163.9620) --
      (865.0681,165.0128) -- (844.3929,169.6050) -- (843.7252,164.8371) --
      (844.3718,154.2484) -- (848.6611,153.3592) -- (855.4508,152.0659) -- cycle;

    % TN
    \path[USA map/state, USA map/TN, local bounding box=TN] (696.6779,318.2541) -- (644.7848,323.2656) -- (629.0252,325.0439) --
      (624.4040,325.5566) -- (620.5357,325.5289) -- (620.3147,329.6297) --
      (612.1293,329.8937) -- (605.1779,330.5403) -- (597.0871,330.4165) --
      (595.6733,337.4894) -- (593.9771,342.9694) -- (590.6839,345.7202) --
      (589.3352,350.1013) -- (589.0118,352.6879) -- (584.9703,354.9511) --
      (586.4253,358.5076) -- (585.4553,362.8725) -- (584.4869,363.6621) --
      (692.6455,353.2546) -- (693.0487,349.2996) -- (694.8595,347.8093) --
      (697.6936,347.0598) -- (698.3656,343.3428) -- (702.4642,340.6379) --
      (706.5111,339.1438) -- (710.5947,335.5735) -- (715.0308,333.5480) --
      (715.5520,330.4807) -- (719.6166,326.4957) -- (720.1674,326.3815) .. controls
      (720.1674,326.3815) and (720.1986,327.5132) .. (721.0070,327.5132) .. controls
      (721.8153,327.5132) and (722.9469,327.8677) .. (722.9469,327.8677) --
      (725.2101,324.2799) -- (727.2805,323.6333) -- (729.5556,323.9285) --
      (731.1539,320.3956) -- (734.1092,317.7517) -- (734.5308,315.8126) --
      (734.8398,312.1015) -- (732.6932,311.9017) -- (730.0916,313.9300) --
      (723.0983,313.9591) -- (704.7390,316.3460) -- (696.6779,318.2542) -- cycle;

    % AR
    \path[USA map/state, USA map/AR, local bounding box=AR] (593.8248,343.0530) -- (589.8449,343.7697) -- (584.7327,343.1356) --
      (585.1534,341.5336) -- (588.1332,338.9669) -- (589.0766,335.3106) --
      (587.2476,332.3385) -- (508.8300,334.8534) -- (510.4304,341.7121) --
      (510.4304,349.9425) -- (511.8021,360.9165) -- (512.0307,398.7534) --
      (514.3170,400.6967) -- (517.2891,399.3250) -- (520.0325,400.4681) --
      (520.7129,407.0414) -- (576.3341,405.9008) -- (577.4798,403.8104) --
      (577.1932,400.2609) -- (575.3675,397.2888) -- (576.9662,395.8036) --
      (575.3675,393.2921) -- (576.0517,390.7822) -- (577.4201,385.1768) --
      (579.9383,383.1142) -- (579.2524,380.8296) -- (582.9104,375.4578) --
      (585.6539,374.0894) -- (585.5404,372.5959) -- (585.1949,370.7702) --
      (588.0519,365.1715) -- (590.4549,363.9149) -- (590.8391,360.4873) --
      (592.6097,359.2456) -- (589.4662,358.7613) -- (588.1248,354.7509) --
      (590.9288,352.3742) -- (591.4791,350.3550) -- (592.7586,346.3083) --
      (593.8248,343.0530) -- cycle;

    % MO
    \path[USA map/state, USA map/MO, local bounding box=MO] (558.4402,248.1132) -- (555.9203,245.0259) -- (554.7772,242.7397) --
      (490.4200,245.1402) -- (488.1337,245.2545) -- (489.3912,247.7694) --
      (489.1626,250.0556) -- (491.6774,253.9422) -- (494.7638,258.0574) --
      (497.8502,260.8009) -- (500.0114,261.0295) -- (501.5082,261.9440) --
      (501.5082,264.9161) -- (499.6792,266.5164) -- (499.2219,268.8027) --
      (501.2795,272.2320) -- (503.7944,275.2041) -- (506.3092,277.0331) --
      (507.6810,288.6928) -- (507.9951,324.7650) -- (508.2237,329.4518) --
      (508.6810,334.8353) -- (531.1140,333.9685) -- (554.3200,333.2826) --
      (575.1246,332.4816) -- (586.7794,332.2513) -- (588.9488,335.6773) --
      (588.2646,338.9848) -- (585.1773,341.3878) -- (584.6050,343.2252) --
      (589.9834,343.6824) -- (593.8784,342.9966) -- (595.5956,337.5029) --
      (596.2470,331.6461) -- (598.3450,329.0910) -- (600.9411,327.6041) --
      (600.9925,324.5538) -- (602.0085,322.6174) -- (600.3143,320.0736) --
      (598.9833,321.0579) -- (596.9907,318.8306) -- (595.7057,314.0716) --
      (596.5067,311.5534) -- (594.5626,308.1258) -- (592.7319,303.5500) --
      (587.9325,302.7506) -- (580.9637,297.1519) -- (579.2449,293.0383) --
      (580.0442,289.8376) -- (582.1035,283.7799) -- (582.5624,280.9163) --
      (580.6133,279.8850) -- (573.7579,279.0873) -- (572.7299,277.3752) --
      (572.6181,273.1448) -- (567.1312,269.7138) -- (560.1557,261.9423) --
      (557.8695,254.6264) -- (557.6392,250.4011) -- (558.4402,248.1132) -- cycle;

    % GA
    \path[USA map/state, USA map/GA, local bounding box=GA] (672.2923,355.5518) -- (672.2923,357.7342) -- (672.4539,359.8358) --
      (673.1006,363.2307) -- (676.4955,371.1521) -- (678.9204,381.0134) --
      (680.3753,387.1565) -- (681.9919,392.0063) -- (683.4469,398.9577) --
      (685.5485,405.2625) -- (688.1350,408.6574) -- (688.6200,412.0522) --
      (690.5599,412.8605) -- (690.7216,414.9621) -- (688.9433,419.8119) --
      (688.4584,423.0452) -- (688.2967,424.9851) -- (689.9133,429.3499) --
      (690.2366,434.6847) -- (689.4283,437.1096) -- (690.0750,437.9179) --
      (691.5299,438.7262) -- (691.7346,441.9443) -- (693.9676,445.2939) --
      (696.2181,447.4559) -- (704.1395,447.6176) -- (714.9592,446.9709) --
      (736.4716,445.6777) -- (741.9173,445.0033) -- (746.4946,445.0310) --
      (746.6562,447.9409) -- (749.2428,448.7492) -- (749.5661,444.3843) --
      (747.9495,439.8578) -- (749.0811,438.2412) -- (754.9009,439.0495) --
      (759.8783,439.3673) -- (759.1029,433.0685) -- (761.3661,423.0456) --
      (762.8211,418.8424) -- (762.3361,416.2558) -- (765.6705,410.0115) --
      (765.1602,408.6599) -- (763.2468,409.3644) -- (760.6602,408.0711) --
      (760.0136,405.9695) -- (758.7203,402.4130) -- (756.4571,400.3114) --
      (753.8705,399.6648) -- (752.2539,394.8150) -- (749.3289,388.4800) --
      (745.1257,386.5400) -- (743.0241,384.6001) -- (741.7308,382.0135) --
      (739.6292,380.0736) -- (737.3660,378.7803) -- (735.1027,375.8704) --
      (732.0312,373.6072) -- (727.5047,371.8289) -- (727.0197,370.3740) --
      (724.5948,367.4641) -- (724.1098,366.0091) -- (720.7149,361.0386) --
      (717.1951,361.1378) -- (713.4401,358.7817) -- (712.0219,357.4884) --
      (711.6985,355.7102) -- (712.5693,353.7702) -- (714.7960,352.6601) --
      (714.1620,350.5629) -- (672.2923,355.5518) -- cycle;

    % SC
    \path[USA map/state, USA map/SC, local bounding box=SC] (764.9433,408.1649) -- (763.1662,409.1344) -- (760.5796,407.8411) --
      (759.9330,405.7395) -- (758.6397,402.1830) -- (756.3765,400.0814) --
      (753.7899,399.4347) -- (752.1733,394.5849) -- (749.4251,388.6035) --
      (745.2219,386.6635) -- (743.1203,384.7236) -- (741.8270,382.1370) --
      (739.7254,380.1971) -- (737.4622,378.9038) -- (735.1989,375.9939) --
      (732.1274,373.7307) -- (727.6009,371.9524) -- (727.1159,370.4975) --
      (724.6910,367.5876) -- (724.2060,366.1326) -- (720.8111,360.9595) --
      (717.4162,361.1211) -- (713.3747,358.6962) -- (712.0814,357.4029) --
      (711.7581,355.6247) -- (712.5664,353.6848) -- (714.8297,352.7148) --
      (714.3189,350.4257) -- (720.0870,348.0891) -- (729.2025,343.5001) --
      (736.9772,342.6918) -- (753.0916,342.2693) -- (755.7298,344.1468) --
      (757.4089,347.5050) -- (761.7113,346.8950) -- (774.3208,345.4400) --
      (777.2307,346.2484) -- (789.8402,353.8464) -- (799.9483,361.9681) --
      (794.5272,367.4264) -- (791.9406,373.5695) -- (791.4556,379.8743) --
      (789.8390,380.6826) -- (788.7074,383.4308) -- (786.2825,384.0775) --
      (784.1809,387.6340) -- (781.4327,390.3822) -- (779.1694,393.7771) --
      (777.5528,394.5854) -- (773.9963,397.9803) -- (771.0864,398.1419) --
      (772.0564,401.3751) -- (767.0449,406.8716) -- (764.9433,408.1649) -- cycle;

    % KY
    \path[USA map/state, USA map/KY, local bounding box=KY] (725.9944,295.2707) -- (723.7011,297.6724) -- (720.1229,301.6664) --
      (715.1983,307.1311) -- (713.9826,308.8469) -- (713.9201,310.9484) --
      (709.5402,313.1125) -- (703.8821,316.5074) -- (696.6502,318.3063) --
      (644.7823,323.2051) -- (629.0228,324.9834) -- (624.4016,325.4961) --
      (620.5332,325.4684) -- (620.3063,329.6887) -- (612.1269,329.8332) --
      (605.1755,330.4799) -- (597.1880,330.4197) -- (598.3958,329.0996) --
      (600.8953,327.5587) -- (601.1239,324.3580) -- (602.0384,322.5290) --
      (600.4316,319.9901) -- (601.2334,318.0833) -- (603.4967,316.3051) --
      (605.5983,315.6584) -- (608.3465,316.9517) -- (611.9030,318.2450) --
      (613.0347,317.9217) -- (613.1963,315.6584) -- (611.9030,313.2335) --
      (612.2264,310.9702) -- (614.1663,309.5153) -- (616.7529,308.8687) --
      (618.3695,308.2220) -- (617.5612,306.4437) -- (616.9145,304.5038) --
      (618.4211,303.5080) .. controls (618.4241,303.4709) and (619.6751,299.9857) ..
      (619.6594,299.8502) -- (622.7127,298.3715) -- (628.0324,297.4016) --
      (632.5265,296.9166) -- (633.9189,298.5440) -- (635.4472,299.4148) --
      (637.0380,296.3066) -- (640.2250,295.0240) -- (642.4301,296.5080) --
      (642.8407,297.5071) -- (644.0142,297.2430) -- (643.8525,294.2901) --
      (646.9834,292.5409) -- (649.1315,291.4674) -- (650.6609,293.1283) --
      (653.9790,293.0841) -- (654.5663,291.5128) -- (654.1988,289.2496) --
      (656.7994,285.2511) -- (661.5759,281.8132) -- (662.2819,276.9773) --
      (665.2069,276.5214) -- (668.9983,274.8757) -- (671.4417,273.1675) --
      (671.2433,271.6025) -- (670.1009,270.1476) -- (670.6667,267.1527) --
      (674.8516,267.0352) -- (677.1515,266.2894) -- (680.4989,267.7185) --
      (682.5530,272.0833) -- (687.6853,272.0941) -- (689.7363,274.3023) --
      (691.3517,274.1546) -- (693.9534,272.8765) -- (699.1905,273.4498) --
      (701.7654,273.6673) -- (703.4530,271.6111) -- (706.0709,270.1852) --
      (707.9527,269.4781) -- (708.5993,272.3147) -- (710.6428,273.3731) --
      (713.2855,275.4556) -- (713.4030,281.1288) -- (714.2113,282.7012) --
      (716.8010,284.2575) -- (717.5727,286.5520) -- (721.7325,289.9890) --
      (723.5379,293.6122) -- (725.9944,295.2707) -- cycle;

    % AL
    \path[USA map/state, USA map/AL, local bounding box=AL] (631.3065,460.4157) -- (629.8159,446.0942) -- (627.0676,427.3416) --
      (627.2293,413.2771) -- (628.0376,382.2382) -- (627.8759,365.5872) --
      (628.0410,359.1681) -- (672.5255,355.5487) -- (672.3777,357.7311) --
      (672.5394,359.8327) -- (673.1860,363.2276) -- (676.5809,371.1489) --
      (679.0058,381.0102) -- (680.4607,387.1534) -- (682.0773,392.0032) --
      (683.5323,398.9546) -- (685.6339,405.2593) -- (688.2205,408.6542) --
      (688.7054,412.0491) -- (690.6454,412.8574) -- (690.8070,414.9590) --
      (689.0287,419.8088) -- (688.5438,423.0420) -- (688.3821,424.9820) --
      (689.9987,429.3468) -- (690.3220,434.6816) -- (689.5137,437.1065) --
      (690.1604,437.9148) -- (691.6153,438.7231) -- (691.9435,441.6119) --
      (686.3458,441.2584) -- (679.5561,441.9050) -- (654.0137,444.8149) --
      (643.6021,446.2217) -- (643.3807,449.0991) -- (645.1590,450.8774) --
      (647.7456,452.8173) -- (648.3264,460.7527) -- (642.7844,463.3256) --
      (640.0361,463.0023) -- (642.7844,461.0624) -- (642.7844,460.0924) --
      (639.7128,454.1110) -- (637.4496,453.4643) -- (635.9946,457.8291) --
      (634.7013,460.5774) -- (634.0547,460.4157) -- (631.3065,460.4157) -- cycle;

    % LA
    \path[USA map/state, USA map/LA, local bounding box=LA] (607.9671,459.1612) -- (604.6824,455.9951) -- (605.6924,450.4949) --
      (605.0310,449.6018) -- (595.7693,450.6084) -- (570.7410,451.0673) --
      (570.0568,448.6726) -- (570.9696,440.2169) -- (574.2855,434.2711) --
      (579.3169,425.5800) -- (578.7428,423.1820) -- (579.9994,422.5012) --
      (580.4583,420.5487) -- (578.1721,418.4927) -- (578.0603,416.5503) --
      (576.2296,412.2048) -- (576.0826,405.8662) -- (520.6088,406.7902) --
      (520.6374,416.3637) -- (521.3233,425.7373) -- (522.0091,429.6238) --
      (524.5240,433.7390) -- (525.4385,438.7688) -- (529.7823,444.2557) --
      (530.0109,447.4564) -- (530.6968,448.1423) -- (530.0109,456.6013) --
      (527.0388,461.6310) -- (528.6392,463.6886) -- (527.9533,466.2035) --
      (527.2675,473.5194) -- (525.8957,476.7201) -- (526.0182,480.3365) --
      (530.7047,478.8164) -- (542.8180,479.0234) -- (553.1643,482.5799) --
      (559.6307,483.7116) -- (563.3489,482.2566) -- (566.5821,483.3882) --
      (569.8153,484.3582) -- (570.6236,482.2566) -- (567.3904,481.1250) --
      (564.8038,481.6100) -- (562.0556,479.9934) .. controls (562.0556,479.9934) and
      (562.2173,478.7001) .. (562.8639,478.5384) .. controls (563.5105,478.3768) and
      (565.9355,477.5685) .. (565.9355,477.5685) -- (567.7137,479.0234) --
      (569.4920,478.0534) -- (572.7252,478.7001) -- (574.1801,481.1250) --
      (574.5035,483.3882) -- (579.0299,483.7116) -- (580.8082,485.4898) --
      (579.9999,487.1064) -- (578.7066,487.9147) -- (580.3232,489.5313) --
      (588.7296,493.0879) -- (592.2861,491.7946) -- (593.2561,489.3697) --
      (595.8426,488.7230) -- (597.6209,487.2681) -- (598.9142,488.2381) --
      (599.7225,491.1479) -- (597.4592,491.9562) -- (598.1059,492.6029) --
      (601.5008,491.3096) -- (603.7640,487.9147) -- (604.5723,487.4298) --
      (602.4707,487.1064) -- (603.2790,485.4898) -- (603.1174,484.0349) --
      (605.2189,483.5499) -- (606.3506,482.2566) -- (606.9972,483.0649) .. controls
      (606.9972,483.0649) and (606.8355,486.1365) .. (607.6439,486.1365) .. controls
      (608.4522,486.1365) and (611.8470,486.7831) .. (611.8470,486.7831) --
      (615.8885,488.7230) -- (616.8585,490.1780) -- (619.7684,490.1780) --
      (620.9000,491.1479) -- (623.1633,488.0764) -- (623.1633,486.6214) --
      (621.8700,486.6214) -- (618.4751,483.8732) -- (612.6553,483.0649) --
      (609.4221,480.8017) -- (610.5537,478.0534) -- (612.8170,478.3768) --
      (612.9786,477.7301) -- (611.2004,476.7602) -- (611.2004,476.2752) --
      (614.4336,476.2752) -- (616.2119,473.2036) -- (614.9186,471.2637) --
      (614.5953,468.5155) -- (613.1403,468.6771) -- (611.2004,470.7787) --
      (610.5537,473.3653) -- (607.4822,472.7186) -- (606.5122,470.9404) --
      (608.2905,469.0005) -- (610.1938,465.5548) -- (609.1327,463.1426) --
      (607.9671,459.1612) -- cycle;

    % MS
    \path[USA map/state, USA map/MS, local bounding box=MS] (631.5588,459.3446) -- (631.3046,460.6007) -- (626.1314,460.6007) --
      (624.6765,459.7924) -- (622.5749,459.4691) -- (615.7851,461.4090) --
      (614.0069,460.6007) -- (611.4203,464.8039) -- (610.3178,465.5819) --
      (609.1939,463.0939) -- (608.0508,459.2074) -- (604.6215,456.0066) --
      (605.7646,450.4621) -- (605.0787,449.5476) -- (603.2498,449.7762) --
      (595.3318,450.6496) -- (570.7853,451.0230) -- (570.0156,448.7976) --
      (570.8890,440.4208) -- (574.0058,434.7480) -- (579.2329,425.6031) --
      (578.7871,423.1705) -- (580.0240,422.5142) -- (580.4599,420.5948) --
      (578.1424,418.5158) -- (578.0273,416.3743) -- (576.1915,412.2532) --
      (576.0825,406.2905) -- (577.4101,403.8095) -- (577.1868,400.3937) --
      (575.4173,397.3111) -- (576.9437,395.8289) -- (575.3731,393.3294) --
      (575.8303,391.6772) -- (577.4077,385.1508) -- (579.8937,383.1145) --
      (579.2520,380.7475) -- (582.9100,375.4450) -- (585.7419,374.0885) --
      (585.5209,372.4134) -- (585.2328,370.7323) -- (588.1088,365.1646) --
      (590.4545,363.9331) -- (590.6062,363.0401) -- (627.9496,359.1589) --
      (628.1345,365.4422) -- (628.2962,382.0933) -- (627.4879,413.1322) --
      (627.3262,427.1966) -- (630.0744,445.9493) -- (631.5588,459.3446) -- cycle;

    % IA
    \path[USA map/state, USA map/IA, local bounding box=IA] (569.1915,199.5843) -- (569.4559,202.3705) -- (571.6796,202.9478) --
      (572.6336,204.1731) -- (573.1336,206.0285) -- (576.9264,209.3871) --
      (577.6123,211.7786) -- (576.9380,215.2031) -- (575.3556,218.4351) --
      (574.5563,221.1768) -- (572.3836,222.7789) -- (570.6680,223.3513) --
      (565.0890,225.2115) -- (563.6976,229.0602) -- (564.4262,230.4319) --
      (566.2667,232.1145) -- (565.9838,236.1508) -- (564.2206,237.6887) --
      (563.4492,239.3318) -- (563.5764,242.1081) -- (561.6901,242.5654) --
      (560.0647,243.6703) -- (559.7859,245.0229) -- (560.0647,247.1378) --
      (558.5137,248.2539) -- (556.0431,245.1206) -- (554.7806,242.6707) --
      (489.0447,245.1856) -- (488.1267,245.3510) -- (486.0743,240.8351) --
      (485.8457,234.2050) -- (484.2453,230.0898) -- (483.5595,224.8315) --
      (481.2732,221.1735) -- (480.3588,216.3724) -- (477.6153,208.8279) --
      (476.4722,203.4552) -- (475.1004,201.2833) -- (473.5001,198.5399) --
      (475.4541,193.6960) -- (476.8258,187.9805) -- (474.0823,185.9229) --
      (473.6251,183.1794) -- (474.5396,180.6645) -- (476.2542,180.6645) --
      (558.9082,179.3951) -- (559.7425,183.5782) -- (561.9947,185.1392) --
      (562.2514,186.5622) -- (560.2219,189.9516) -- (560.4123,193.1571) --
      (562.9271,196.9553) -- (565.4539,198.2489) -- (568.5332,198.7519) --
      (569.1915,199.5843) -- cycle;

    % MN
    \path[USA map/state, USA map/MN, local bounding box=MN] (475.2378,128.8244) -- (474.7806,120.3653) -- (472.9516,113.0494) --
      (471.1226,99.5607) -- (470.6654,89.7299) -- (468.8364,86.3006) --
      (467.2360,81.2709) -- (467.2360,70.9829) -- (467.9219,67.0963) --
      (466.1009,61.6446) -- (496.2334,61.6799) -- (496.5567,53.4352) --
      (497.2033,53.2735) -- (499.4666,53.7585) -- (501.4065,54.5668) --
      (502.2148,60.0633) -- (503.6697,66.2064) -- (505.2863,67.8230) --
      (510.1362,67.8230) -- (510.4595,69.2779) -- (516.7642,69.6012) --
      (516.7642,71.7028) -- (521.6141,71.7028) -- (521.9374,70.4095) --
      (523.0690,69.2779) -- (525.3322,68.6313) -- (526.6255,69.6012) --
      (529.5354,69.6012) -- (533.4153,72.1878) -- (538.7501,74.6127) --
      (541.1750,75.0977) -- (541.6599,74.1277) -- (543.1149,73.6428) --
      (543.5999,76.5526) -- (546.1864,77.8459) -- (546.6714,77.3609) --
      (547.9647,77.5226) -- (547.9647,79.6242) -- (550.5513,80.5942) --
      (553.6228,80.5942) -- (555.2394,79.7859) -- (558.4726,76.5526) --
      (561.0592,76.0677) -- (561.8675,77.8459) -- (562.3525,79.1392) --
      (563.3224,79.1392) -- (564.2924,78.3309) -- (573.1837,78.0076) --
      (574.9620,81.0791) -- (575.6086,81.0791) -- (576.3223,79.9949) --
      (580.7622,79.6242) -- (580.1501,81.9037) -- (576.2113,83.7408) --
      (566.9656,87.8019) -- (562.1908,89.8088) -- (559.1193,92.3954) --
      (556.6944,95.9519) -- (554.4311,99.8318) -- (552.6529,100.6401) --
      (548.1264,105.6515) -- (546.8331,105.8132) -- (542.5053,108.5703) --
      (540.0424,111.7754) -- (539.8138,114.9668) -- (539.9082,123.0102) --
      (538.5322,124.6989) -- (533.4506,128.4589) -- (531.2205,134.4413) --
      (534.0923,136.6750) -- (534.7722,139.9020) -- (532.9169,143.1409) --
      (533.0877,146.8889) -- (533.4566,153.6193) -- (536.4848,156.6213) --
      (539.8138,156.6213) -- (541.7050,159.7539) -- (545.0841,160.2572) --
      (548.9433,165.9287) -- (556.0306,170.0454) -- (558.1737,172.9205) --
      (558.8449,179.3600) -- (477.6334,180.5048) -- (477.2955,144.8280) --
      (476.8382,141.8559) -- (472.7230,138.4265) -- (471.5799,136.5976) --
      (471.5799,134.9972) -- (473.6375,133.3968) -- (475.0092,132.0251) --
      (475.2379,128.8244) -- cycle;

    % OK
    \path[USA map/state, USA map/OK, local bounding box=OK] (380.3431,320.8215) -- (363.6589,319.5482) -- (362.7787,330.5006) --
      (383.2441,331.6575) -- (415.2997,332.9611) -- (412.9651,357.3797) --
      (412.5078,375.2123) -- (412.7364,376.8126) -- (417.0803,380.4706) --
      (419.1379,381.6137) -- (419.8237,381.3851) -- (420.5096,379.3275) --
      (421.8813,381.1565) -- (423.9389,381.1565) -- (423.9389,379.7847) --
      (426.6824,381.1565) -- (426.2252,385.0430) -- (430.3404,385.2717) --
      (432.8552,386.4148) -- (436.9704,387.1007) -- (439.4853,388.9296) --
      (441.7715,386.8720) -- (445.2009,387.5579) -- (447.7157,390.9872) --
      (448.6302,390.9872) -- (448.6302,393.2735) -- (450.9164,393.9593) --
      (453.2026,391.6731) -- (455.0316,392.3590) -- (457.5465,392.3590) --
      (458.4610,394.8738) -- (464.7620,396.9528) -- (466.1338,396.2669) --
      (467.9628,392.1517) -- (469.1059,392.1517) -- (470.2490,394.2093) --
      (474.3642,394.8952) -- (478.0221,396.2669) -- (480.9942,397.1814) --
      (482.8232,396.2669) -- (483.5091,393.7521) -- (487.8529,393.7521) --
      (489.9105,394.6666) -- (492.6540,392.6090) -- (493.7971,392.6090) --
      (494.4830,394.2093) -- (498.5982,394.2093) -- (500.1985,392.1517) --
      (502.0275,392.6090) -- (504.0851,395.1238) -- (507.2858,396.9528) --
      (510.4866,397.8673) -- (512.4277,398.9862) -- (512.0386,361.7692) --
      (510.6668,350.7952) -- (510.5063,341.9229) -- (509.0665,335.3852) --
      (508.2883,328.2055) -- (508.2202,324.3893) -- (496.0833,324.7081) --
      (449.6733,324.2508) -- (404.6344,322.1932) -- (380.3432,320.8215) -- cycle;

    % TX
    \path[USA map/state, USA map/TX, local bounding box=TX] (361.4642,330.5736) -- (384.1550,331.6595) -- (415.2477,332.8026) --
      (412.9131,356.2584) -- (412.6163,374.4120) -- (412.6844,376.4938) --
      (417.0283,380.3122) -- (419.0149,381.7593) -- (420.1991,381.1997) --
      (420.5725,379.3819) -- (421.7128,381.1856) -- (423.8245,381.2295) --
      (423.8215,379.7824) -- (425.4914,380.7496) -- (426.6301,381.1585) --
      (426.2708,385.1261) -- (430.3590,385.2197) -- (433.2843,386.4168) --
      (437.2391,386.9422) -- (439.6205,389.0212) -- (441.7446,386.9450) --
      (445.4695,387.5599) -- (447.6904,390.7849) -- (448.7654,391.1058) --
      (448.6049,393.0711) -- (450.8185,393.8634) -- (453.1487,391.8086) --
      (455.2817,392.4235) -- (457.5111,392.4590) -- (458.4441,394.8944) --
      (464.7722,397.0089) -- (466.3653,396.2420) -- (467.8547,392.0643) --
      (468.1955,392.0643) -- (469.1020,392.1458) -- (470.3310,394.2145) --
      (474.2609,394.8798) -- (477.5979,396.0026) -- (481.0235,397.1986) --
      (482.8641,396.2236) -- (483.5779,393.7088) -- (488.0311,393.7530) --
      (489.8398,394.6837) -- (492.6391,392.5772) -- (493.7427,392.6214) --
      (494.5937,394.2265) -- (498.6485,394.2265) -- (500.1673,392.1979) --
      (502.0347,392.6051) -- (503.9807,395.0084) -- (507.5013,397.0526) --
      (510.3601,397.8624) -- (511.8737,398.6622) -- (514.3204,400.6595) --
      (517.3634,399.3317) -- (520.0545,400.4706) -- (520.6183,406.5766) --
      (520.5785,416.2787) -- (521.2644,425.8127) -- (521.9666,429.4179) --
      (524.6419,433.8377) -- (525.5401,438.7884) -- (529.7560,444.3265) --
      (529.9520,447.4714) -- (530.6984,448.2572) -- (529.9683,456.6373) --
      (527.0962,461.6438) -- (528.6292,463.7967) -- (527.9991,466.1348) --
      (527.3296,473.5391) -- (525.8252,476.8771) -- (526.1201,480.3794) --
      (520.4552,481.9646) -- (510.5940,486.4911) -- (509.6240,488.4310) --
      (507.0374,490.3710) -- (504.9358,491.8259) -- (503.6425,492.6342) --
      (497.9844,497.9690) -- (495.2362,500.0706) -- (489.9014,503.3038) --
      (484.2433,505.7287) -- (477.9385,509.1236) -- (476.1603,510.5785) --
      (470.3405,514.1350) -- (466.9456,514.7817) -- (463.0658,520.2781) --
      (459.0243,520.6015) -- (458.0543,522.5414) -- (460.3176,524.4813) --
      (458.8626,529.9778) -- (457.5693,534.5043) -- (456.4377,538.3841) --
      (455.6294,542.9106) -- (456.4377,545.3355) -- (458.2160,552.2869) --
      (459.1859,558.4300) -- (460.9642,561.1782) -- (459.9942,562.6332) --
      (456.9227,564.5731) -- (451.2646,560.6933) -- (445.7681,559.5616) --
      (444.4748,560.0466) -- (441.2416,559.4000) -- (437.0384,556.3284) --
      (431.8653,555.1968) -- (424.2673,551.8019) -- (422.1657,547.9221) --
      (420.8724,541.4557) -- (417.6392,539.5157) -- (416.9925,537.2525) --
      (417.6392,536.6059) -- (417.9625,533.2110) -- (416.6692,532.5643) --
      (416.0226,531.5944) -- (417.3159,527.2295) -- (415.6993,524.9663) --
      (412.4660,523.6730) -- (409.0712,519.3082) -- (405.5146,512.6801) --
      (401.3115,510.0935) -- (401.4731,508.1536) -- (396.1383,495.8674) --
      (395.3300,491.6642) -- (393.5518,489.7243) -- (393.3901,488.2694) --
      (387.4087,482.9346) -- (384.8221,479.8630) -- (384.8221,478.7314) --
      (382.2355,476.6298) -- (375.4458,475.4982) -- (368.0094,474.8516) --
      (364.9379,472.5883) -- (360.4114,474.3666) -- (356.8548,475.8215) --
      (354.5916,479.0547) -- (353.6216,482.7729) -- (349.2568,488.9160) --
      (346.8319,491.3409) -- (344.2453,490.3710) -- (342.4671,489.2393) --
      (340.5271,488.5927) -- (336.6473,486.3295) -- (336.6473,485.6828) --
      (334.8690,483.7429) -- (329.6959,481.6413) -- (322.2595,473.8816) --
      (319.9963,469.1934) -- (319.9963,461.1104) -- (316.7631,454.6440) --
      (316.2781,451.8958) -- (314.6615,450.9258) -- (313.5298,448.8242) --
      (308.5184,446.7226) -- (307.2251,445.1060) -- (300.1120,437.1847) --
      (298.8187,433.9515) -- (294.1306,431.6882) -- (292.6756,427.3233) --
      (290.0890,424.4135) -- (288.1491,423.9285) -- (287.4999,419.2509) --
      (295.5018,419.9368) -- (324.5368,422.6802) -- (353.5718,424.2806) --
      (355.8054,404.8187) -- (359.6919,349.2637) -- (361.2923,330.5164) --
      (362.6641,330.5450)(461.6934,560.2077) -- (461.1276,553.0947) --
      (458.3794,545.9007) -- (457.8135,538.8685) -- (459.3493,530.6238) --
      (462.6634,523.7532) -- (466.1391,518.3375) -- (469.2915,514.7810) --
      (469.9381,515.0235) -- (465.1691,521.6516) -- (460.8043,528.1989) --
      (458.7835,534.8270) -- (458.4602,540.0001) -- (459.3493,546.1432) --
      (461.9359,553.3372) -- (462.4209,558.5103) -- (462.5825,559.9653) --
      (461.6934,560.2077) -- cycle;

    % NM
    \path[USA map/state, USA map/NM, local bounding box=NM] (288.1526,424.0131) -- (287.3771,419.2650) -- (296.0209,419.7904) --
      (326.1927,422.7363) -- (353.4608,424.4262) -- (355.6761,405.7188) --
      (359.5335,349.8428) -- (361.2711,330.4536) -- (362.8428,330.5821) --
      (363.6683,319.4187) -- (259.6638,308.7828) -- (242.1664,429.2176) --
      (257.6271,431.2067) -- (258.9204,421.1838) -- (288.1525,424.0131) -- cycle;

    % KS
    \path[USA map/state, USA map/KS, local bounding box=KS] (507.8806,324.3803) -- (495.2623,324.5847) -- (449.1732,324.1275) --
      (404.6158,322.0699) -- (379.9860,320.8124) -- (383.8798,256.2175) --
      (405.9633,256.8926) -- (446.2524,257.7340) -- (490.5536,258.7216) --
      (495.6493,258.7216) -- (497.8337,260.8840) -- (499.8513,260.8626) --
      (501.4916,261.8751) -- (501.4291,264.8843) -- (499.6001,266.6097) --
      (499.2679,268.8419) -- (501.1110,272.2442) -- (504.0633,275.4393) --
      (506.3907,277.0537) -- (507.6915,288.2945) -- (507.8806,324.3803) -- cycle;

    % NE
    \path[USA map/state, USA map/NE, local bounding box=NE] (486.0979,240.7006) -- (489.3285,247.7205) -- (489.1999,250.0230) --
      (492.6591,255.5169) -- (495.3784,258.6692) -- (490.3289,258.6692) --
      (446.8463,257.7305) -- (406.0595,256.8402) -- (383.8072,256.0564) --
      (384.8800,234.7285) -- (352.5618,231.8083) -- (356.9056,187.7984) --
      (372.4519,188.8272) -- (392.5707,189.9703) -- (410.4033,191.1134) --
      (434.1801,192.2566) -- (444.9253,191.7993) -- (446.9829,194.0855) --
      (451.7840,197.0576) -- (452.9271,197.9721) -- (457.2709,196.6004) --
      (461.1575,196.1431) -- (463.9010,195.9145) -- (465.7300,197.2863) --
      (469.7874,198.8866) -- (472.7595,200.4870) -- (473.2167,202.0873) --
      (474.1312,204.1449) -- (475.9602,204.1449) -- (476.7582,204.1911) --
      (477.6524,208.8730) -- (480.5727,217.3409) -- (481.1452,221.0976) --
      (483.6687,224.8718) -- (484.2383,229.9860) -- (485.8455,234.2263) --
      (486.0979,240.7006) -- cycle;

    % SD
    \path[USA map/state, USA map/SD, local bounding box=SD] (476.4469,204.0247) -- (476.3995,203.4438) -- (473.5038,198.5983) --
      (475.3640,193.8862) -- (476.8567,187.9997) -- (474.0748,185.9200) --
      (473.6897,183.1765) -- (474.4821,180.6222) -- (477.6706,180.6374) --
      (477.5475,175.6312) -- (477.2142,145.4570) -- (476.5965,141.6894) --
      (472.5242,138.3585) -- (471.5415,136.6815) -- (471.4790,135.0727) --
      (473.5012,133.5433) -- (475.0334,131.8776) -- (475.2783,129.2208) --
      (417.0212,127.6205) -- (362.2220,124.1714) -- (356.8968,187.8626) --
      (371.4870,188.7664) -- (391.4369,189.9720) -- (409.1799,190.9006) --
      (432.9567,192.2042) -- (444.9394,191.7795) -- (446.9057,194.0247) --
      (452.1003,197.2781) -- (452.8642,198.0008) -- (457.4057,196.5480) --
      (463.9462,195.9331) -- (465.6215,197.2694) -- (469.8260,198.8655) --
      (472.7711,200.5013) -- (473.1701,201.9851) -- (474.2096,204.2260) --
      (476.4469,204.0246) -- cycle;

    % ND
    \path[USA map/state, USA map/ND, local bounding box=ND] (475.3053,128.9185) -- (474.6904,120.4848) -- (473.0134,113.6689) --
      (471.1219,100.6446) -- (470.6647,89.6576) -- (468.9252,86.5805) --
      (467.1686,81.3861) -- (467.1998,70.9418) -- (467.8232,67.1177) --
      (465.9891,61.6500) -- (437.3468,61.0859) -- (418.7559,60.4393) --
      (392.2436,59.1460) -- (369.2972,57.0121) -- (362.3040,124.1890) --
      (417.2362,127.5326) -- (475.3052,128.9185) -- cycle;

    % WY
    \path[USA map/state, USA map/WY, local bounding box=WY] (360.3767,143.2759) -- (253.6341,129.8188) -- (239.5506,218.2768) --
      (352.8152,231.8623) -- (360.3767,143.2759) -- cycle;

    % MT
    \path[USA map/state, USA map/MT, local bounding box=MT] (369.2095,56.9691) -- (338.5352,54.1613) -- (309.2746,50.6048) --
      (280.0141,46.5633) -- (247.6820,41.2285) -- (229.2527,37.8336) --
      (196.5291,30.9009) -- (192.0500,52.2484) -- (195.4794,59.7929) --
      (194.1076,64.3654) -- (195.9366,68.9378) -- (199.1374,70.3096) --
      (203.7582,81.0790) -- (206.4533,84.2555) -- (206.9105,85.3987) --
      (210.3399,86.5418) -- (210.7971,88.5994) -- (203.7098,106.2033) --
      (203.7098,108.7182) -- (206.2247,111.9189) -- (207.1391,111.9189) --
      (211.9402,108.9468) -- (212.6261,107.8037) -- (214.2264,108.4896) --
      (213.9978,113.7479) -- (216.7413,126.3221) -- (219.7134,128.8370) --
      (220.6279,129.5228) -- (222.4569,131.8091) -- (221.9996,135.2384) --
      (222.6855,138.6677) -- (223.8286,139.5822) -- (226.1148,137.2960) --
      (228.8583,137.2960) -- (232.0590,138.8964) -- (234.5739,137.9819) --
      (238.6891,137.9819) -- (242.3470,139.5822) -- (245.0905,139.1250) --
      (245.5477,136.1529) -- (248.5198,135.4670) -- (249.8916,136.8388) --
      (250.3488,140.0395) -- (251.7747,140.8741) -- (253.6616,129.8394) --
      (360.4073,143.2683) -- (369.2095,56.9691) -- cycle;

    % CO
    \path[USA map/state, USA map/CO, local bounding box=CO] (380.0324,320.9646) -- (384.9357,234.6396) -- (271.5471,221.9956) --
      (259.3333,309.9348) -- (380.0324,320.9646) -- cycle;

    % ID
    \path[USA map/state, USA map/ID, local bounding box=ID] (148.4788,176.4839) -- (157.2497,141.2632) -- (158.6214,137.0337) --
      (161.1363,131.0895) -- (159.8788,128.8033) -- (157.3640,128.9176) --
      (156.5638,127.8888) -- (157.0211,126.7457) -- (157.3640,123.6593) --
      (161.8221,118.1723) -- (163.6511,117.7151) -- (164.7942,116.5720) --
      (165.3658,113.3713) -- (166.2803,112.6854) -- (170.1668,106.8555) --
      (174.0534,102.5117) -- (174.2821,98.7394) -- (170.8527,96.1103) --
      (169.3172,91.7093) -- (182.9421,28.3676) -- (196.4597,30.8957) --
      (192.0516,52.2787) -- (195.6119,59.7641) -- (194.0308,64.4249) --
      (196.0007,69.0661) -- (199.1389,70.3213) -- (202.9742,79.8779) --
      (206.4869,84.3151) -- (206.9942,85.4582) -- (210.3351,86.6013) --
      (210.7040,88.6984) -- (203.7330,106.0745) -- (203.5678,108.6404) --
      (206.1989,111.9621) -- (207.1040,111.9132) -- (212.0153,108.8876) --
      (212.6927,107.7926) -- (214.2550,108.4515) -- (213.9766,113.8052) --
      (216.7158,126.3879) -- (220.6337,129.5658) -- (222.3148,131.7313) --
      (221.5982,135.8151) -- (222.6644,138.6226) -- (223.7261,139.7138) --
      (226.2054,137.3624) -- (229.0535,137.4113) -- (231.9728,138.7465) --
      (234.7528,138.0646) -- (238.5471,137.9041) -- (242.5260,139.5045) --
      (245.2694,139.2077) -- (245.7662,136.1704) -- (248.6988,135.4056) --
      (249.9589,136.9215) -- (250.3999,139.8664) -- (251.8242,141.0797) --
      (243.4382,194.6883) .. controls (243.4382,194.6883) and (155.4722,177.9877) ..
      (148.4788,176.4840) -- cycle;

    % UT
    \path[USA map/state, USA map/UT, local bounding box=UT] (259.4984,310.1051) -- (175.7493,298.2328) -- (196.3369,185.6915) --
      (243.1173,194.4366) -- (241.6325,205.0670) -- (239.3208,218.2397) --
      (247.1285,219.1681) -- (263.5350,220.9729) -- (271.7460,221.8285) --
      (259.4984,310.1051) -- cycle;

    % AZ
    \path[USA map/state, USA map/AZ, local bounding box=AZ] (144.9112,382.6291) -- (142.2842,384.7874) -- (141.9609,386.2424) --
      (142.4459,387.2123) -- (161.3601,397.8819) -- (173.4847,405.4800) --
      (188.1958,414.0480) -- (205.0084,424.0709) -- (217.2946,426.4958) --
      (242.2458,429.2007) -- (259.5014,310.0737) -- (175.7658,298.1564) --
      (172.6734,314.5689) -- (171.0671,314.5842) -- (169.3524,317.2133) --
      (166.8376,317.0990) -- (165.5802,314.3556) -- (162.8367,314.0126) --
      (161.9222,312.8695) -- (161.0077,312.8695) -- (160.0932,313.4411) --
      (158.1499,314.4699) -- (158.0356,321.4429) -- (157.8070,323.1575) --
      (157.2354,335.7318) -- (155.7494,337.9037) -- (155.1778,341.2187) --
      (157.9213,346.1341) -- (159.1787,351.9640) -- (159.9789,352.9928) --
      (161.0077,353.5643) -- (160.8934,355.8505) -- (159.2930,357.2223) --
      (155.8637,358.9370) -- (153.9204,360.8803) -- (152.4344,364.5382) --
      (151.8628,369.4536) -- (149.0050,372.1971) -- (146.9474,372.8829) --
      (147.0831,373.7128) -- (146.6259,375.4275) -- (147.0831,376.2277) --
      (150.7411,376.7992) -- (150.1695,379.5427) -- (148.6835,381.7146) --
      (144.9112,382.6291) -- cycle;

    % NV
    \path[USA map/state, USA map/NV, local bounding box=NV] (196.3927,185.5755) -- (172.7538,314.3983) -- (170.9216,314.7474) --
      (169.3488,317.1536) -- (166.9759,317.1643) -- (165.5039,314.4208) --
      (162.8855,314.0424) -- (162.1145,312.9348) -- (161.0767,312.8808) --
      (158.2983,314.5251) -- (157.9881,321.3106) -- (157.6260,327.0877) --
      (157.2774,335.6805) -- (155.8303,337.7697) -- (153.3914,336.6957) --
      (84.3115,232.4945) -- (103.3006,164.9096) -- (196.3927,185.5756) -- cycle;

    % OR
    \path[USA map/state, USA map/OR, local bounding box=OR] (148.7218,175.5315) -- (157.5715,140.7300) -- (158.6223,136.5005) --
      (160.9767,130.8773) -- (160.3612,129.7144) -- (157.8463,129.6682) --
      (156.5647,127.9975) -- (157.0220,126.5334) -- (157.5254,123.2865) --
      (161.9835,117.7996) -- (163.8125,116.7004) -- (164.9556,115.5573) --
      (166.4417,111.9917) -- (170.4887,106.3223) -- (174.0543,102.4599) --
      (174.2830,99.0086) -- (171.0141,96.5399) -- (169.2307,91.8973) --
      (156.5669,88.2853) -- (141.4778,84.7417) -- (126.0458,84.8560) --
      (125.5886,83.4842) -- (120.1016,85.5418) -- (115.6435,84.9703) --
      (113.2430,83.3699) -- (111.9855,84.0558) -- (107.2988,83.8272) --
      (105.5841,82.4554) -- (100.3258,80.3978) -- (99.5256,80.5121) --
      (95.1818,79.0261) -- (93.2385,80.8551) -- (87.0657,80.5121) --
      (81.1215,76.3969) -- (81.8073,75.5968) -- (82.0360,67.8236) --
      (79.7497,63.9370) -- (75.6345,63.3654) -- (74.9487,60.8506) --
      (72.5947,60.3840) -- (66.7962,62.4428) -- (64.5330,68.9092) --
      (61.2998,78.9322) -- (58.0665,85.3986) -- (53.0551,99.4631) --
      (46.5887,113.0425) -- (38.5056,125.6521) -- (36.5657,128.5619) --
      (35.7574,137.1299) -- (36.1435,149.2102) -- (148.7218,175.5315) -- cycle;

    % WA
    \path[USA map/state, USA map/WA, local bounding box=WA] (102.0732,7.6118) -- (106.4381,9.0667) -- (116.1377,11.8149) --
      (124.7057,13.7549) -- (144.7516,19.4130) -- (167.7074,25.0711) --
      (182.9305,28.2783) -- (169.2981,91.8641) -- (156.8531,88.3388) --
      (141.3451,84.7681) -- (126.1158,84.8013) -- (125.6603,83.4566) --
      (120.0611,85.6359) -- (115.4656,84.8992) -- (113.3187,83.3151) --
      (112.0054,83.9731) -- (107.2698,83.8329) -- (105.5714,82.4832) --
      (100.3084,80.3709) -- (99.5734,80.5178) -- (95.1843,78.9934) --
      (93.2910,80.8108) -- (87.0251,80.5120) -- (81.0994,76.3863) --
      (81.8784,75.4536) -- (81.9996,67.7761) -- (79.7176,63.9364) --
      (75.6024,63.3294) -- (74.9250,60.8188) -- (72.6494,60.3618) --
      (69.0945,61.5924) -- (66.8313,58.3732) -- (67.1546,55.4633) --
      (69.9028,55.1400) -- (71.5194,51.0984) -- (68.9328,49.9668) --
      (69.0945,46.2486) -- (73.4593,45.6020) -- (70.7111,42.8538) --
      (69.2562,35.7407) -- (69.9028,32.8308) -- (69.9028,24.9094) --
      (68.1245,21.6762) -- (70.3878,12.2999) -- (72.4894,12.7849) --
      (74.9143,15.6948) -- (77.6625,18.2814) -- (80.8957,20.2213) --
      (85.4222,22.3229) -- (88.4938,22.9695) -- (91.4036,24.4245) --
      (94.7985,25.3944) -- (97.0618,25.2328) -- (97.0618,22.8079) --
      (98.3550,21.6762) -- (100.4566,20.3830) -- (100.7800,21.5146) --
      (101.1033,23.2928) -- (98.8400,23.7778) -- (98.5167,25.8794) --
      (100.2950,27.3344) -- (101.4266,29.7593) -- (102.0732,31.6992) --
      (103.5282,31.5375) -- (103.6898,30.2442) -- (102.7199,28.9510) --
      (102.2349,25.7177) -- (103.0432,23.9395) -- (102.3966,22.4845) --
      (102.3966,20.2213) -- (104.1748,16.6648) -- (103.0432,14.0782) --
      (100.6183,9.2284) -- (100.9416,8.4201) -- (102.0732,7.6118) --
      cycle(92.6165,13.5907) -- (94.6373,13.4291) -- (95.1223,14.8032) --
      (96.6581,13.1866) -- (99.0022,13.1866) -- (99.8105,14.7224) --
      (98.2747,16.4198) -- (98.9213,17.2281) -- (98.1939,19.2489) --
      (96.8197,19.6530) .. controls (96.8197,19.6530) and (95.9306,19.7339) ..
      (95.9306,19.4105) .. controls (95.9306,19.0872) and (97.3856,16.8240) ..
      (97.3856,16.8240) -- (95.6881,16.2581) -- (95.3648,17.7131) --
      (94.6373,18.3597) -- (93.1015,16.0965) -- (92.6165,13.5907) -- cycle;

    % CA
    \path[USA map/state, USA map/CA, local bounding box=CA] (144.6944,382.1981) -- (148.6345,381.7095) -- (150.1206,379.6981) --
      (150.6651,376.7570) -- (147.1136,376.1669) -- (146.5994,375.4986) --
      (147.0769,373.4663) -- (146.9176,372.8767) -- (148.8402,372.2571) --
      (151.8830,369.4244) -- (152.4645,364.4293) -- (153.8444,361.0272) --
      (155.7877,358.8609) -- (159.3066,357.2712) -- (160.9610,355.6664) --
      (161.0297,353.5576) -- (160.0363,352.9776) -- (159.0132,351.9048) --
      (157.8580,346.0564) -- (155.1728,341.2263) -- (155.7386,337.7213) --
      (153.3190,336.6920) -- (84.2577,232.5136) -- (103.1598,164.9121) --
      (36.0799,149.2141) -- (34.5730,153.9474) -- (34.4114,161.3838) --
      (29.2382,173.1850) -- (26.1667,175.7715) -- (25.8434,176.9032) --
      (24.0651,177.7115) -- (22.6102,181.9146) -- (21.8019,185.1478) --
      (24.5501,189.3510) -- (26.1667,193.5542) -- (27.2983,197.1107) --
      (26.9750,203.5771) -- (25.1967,206.6487) -- (24.5501,212.4685) --
      (23.5801,216.1867) -- (25.3584,220.0665) -- (28.1066,224.5930) --
      (30.3699,229.4428) -- (31.6632,233.4843) -- (31.3398,236.7175) --
      (31.0165,237.2025) -- (31.0165,239.3041) -- (36.6746,245.6089) --
      (36.1896,248.0338) -- (35.5430,250.2970) -- (34.8964,252.2369) --
      (35.0580,260.4816) -- (37.1596,264.1998) -- (39.0995,266.7864) --
      (41.8478,267.2714) -- (42.8177,270.0196) -- (41.6861,273.5761) --
      (39.5845,275.1927) -- (38.4529,275.1927) -- (37.6446,279.0726) --
      (38.1296,281.9825) -- (41.3628,286.3473) -- (42.9794,291.6821) --
      (44.4343,296.3702) -- (45.7276,299.4418) -- (49.1225,305.2616) --
      (50.5774,307.8481) -- (51.0624,310.7580) -- (52.6790,311.7280) --
      (52.6790,314.1529) -- (51.8707,316.0928) -- (50.0924,323.2059) --
      (49.6075,325.1458) -- (52.0324,327.8940) -- (56.2355,328.3790) --
      (60.7620,330.1573) -- (64.6419,332.2589) -- (67.5518,332.2589) --
      (70.4617,335.3304) -- (73.0482,340.1802) -- (74.1799,342.4435) --
      (78.0597,344.5451) -- (82.9095,345.3534) -- (84.3645,347.4550) --
      (85.0111,350.6882) -- (83.5562,351.3348) -- (83.8795,352.3048) --
      (87.1127,353.1131) -- (89.8609,353.2747) -- (93.0208,351.5879) --
      (96.9007,355.7911) -- (97.7090,358.0543) -- (100.2955,362.2575) --
      (100.6189,365.4907) -- (100.6189,374.8670) -- (101.1038,376.6453) --
      (111.1268,378.1002) -- (130.8494,380.8484) -- (144.6944,382.1981) --
      cycle(56.5592,338.4814) -- (57.8525,340.0172) -- (57.6908,341.3105) --
      (54.4576,341.2297) -- (53.8918,340.0173) -- (53.2452,338.5623) --
      (56.5592,338.4815) -- cycle(58.4992,338.4814) -- (59.7116,337.8348) --
      (63.2682,339.9364) -- (66.3397,341.1488) -- (65.4506,341.7955) --
      (60.9241,341.5530) -- (59.3075,339.9364) -- (58.4992,338.4814) --
      cycle(79.1918,358.2849) -- (80.9700,360.6290) -- (81.7783,361.5990) --
      (83.3141,362.1648) -- (83.8799,360.7098) -- (82.9100,358.9316) --
      (80.2426,356.9108) -- (79.1918,357.0725) -- (79.1918,358.2849) --
      cycle(77.7368,366.9338) -- (79.5151,370.0862) -- (80.7275,372.0261) --
      (79.2726,372.2686) -- (77.9793,371.0562) .. controls (77.9793,371.0562) and
      (77.2518,369.6012) .. (77.2518,369.1970) .. controls (77.2518,368.7929) and
      (77.2518,367.0146) .. (77.2518,367.0146) -- (77.7368,366.9338) -- cycle;

    \end{scope}
}
%% If tikz has been loaded, replace ampersand with \amp macro
\ifdefined\tikzset
    \tikzset{ampersand replacement = \amp}
\fi
%% tcolorbox styles for sidebyside layout
\tcbset{ sbsstyle/.style={raster before skip=2.0ex, raster equal height=rows, raster force size=false} }
\tcbset{ sbspanelstyle/.style={bwminimalstyle} }
%% Enviroments for side-by-side and components
%% Necessary to use \NewTColorBox for boxes of the panels
%% "newfloat" environment to squash page-breaks within a single sidebyside
%% "xparse" environment for entire sidebyside
\NewDocumentEnvironment{sidebyside}{mmmm}
  {\begin{tcbraster}
    [sbsstyle,raster columns=#1,
    raster left skip=#2\linewidth,raster right skip=#3\linewidth,raster column skip=#4\linewidth]}
  {\end{tcbraster}}
%% "tcolorbox" environment for a panel of sidebyside
\NewTColorBox{sbspanel}{mO{top}}{sbspanelstyle,width=#1\linewidth,valign=#2}
%% extpfeil package for certain extensible arrows,
%% as also provided by MathJax extension of the same name
%% NB: this package loads mtools, which loads calc, which redefines
%%     \setlength, so it can be removed if it seems to be in the 
%%     way and your math does not use:
%%     
%%     \xtwoheadrightarrow, \xtwoheadleftarrow, \xmapsto, \xlongequal, \xtofrom
%%     
%%     we have had to be extra careful with variable thickness
%%     lines in tables, and so also load this package late
\usepackage{extpfeil}
%% Custom Preamble Entries, late (use latex.preamble.late)
%This should load all the style information that ptx does not.
\input{latex-preamble-styles}

%% Begin: Author-provided packages
%% (From  docinfo/latex-preamble/package  elements)
%% End: Author-provided packages
%% Begin: Author-provided macros
%% (From  docinfo/macros  element)
%% Plus three from MBX for XML characters
\renewcommand{\d}{\displaystyle}
\newcommand{\N}{\mathbb N}
\newcommand{\B}{\mathbf B}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\C}{\mathbb C}
\newcommand{\U}{\mathcal U}
\newcommand{\pow}{\mathcal P}
\newcommand{\inv}{^{-1}}
\newcommand{\st}{:}
\renewcommand{\iff}{\leftrightarrow}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand{\imp}{\rightarrow}
\newcommand{\Imp}{\Rightarrow}
\newcommand{\isom}{\cong}

\renewcommand{\bar}{\overline}
\newcommand{\card}[1]{\left| #1 \right|}
\newcommand{\twoline}[2]{\begin{pmatrix}#1 \\ #2 \end{pmatrix}}

\newcommand{\vtx}[2]{node[fill,circle,inner sep=0pt, minimum size=4pt,label=#1:#2]{}}
\newcommand{\va}[1]{\vtx{above}{#1}}
\newcommand{\vb}[1]{\vtx{below}{#1}}
\newcommand{\vr}[1]{\vtx{right}{#1}}
\newcommand{\vl}[1]{\vtx{left}{#1}}
\renewcommand{\v}{\vtx{above}{}}
\newcommand{\lt}{<}
\newcommand{\gt}{>}
\newcommand{\amp}{&}
%% End: Author-provided macros
\begin{document}
\frontmatter
%% Cover image, not numbered
\setcounter{page}{0}%
%KWANG
%\includepdf[noautoscale=false]{images/front.pdf}%
%% Blank obverse for 2-sided version
\thispagestyle{empty}\hbox{}\setcounter{page}{0}\cleardoublepage%
%% no half-title
%% No adcard
%% begin: title page
%% my custom page.
\input{frontmatter/title-page}
%% end: title page
%% begin: copyright-page
\input{frontmatter/copyright-page}
%% end:   copyright-page
%% begin: dedication-page
\cleardoublepage
\thispagestyle{empty}
\vspace*{\stretch{1}}
\begin{flushright}\large%
For Madeline and Teagan%
\end{flushright}
\vspace*{\stretch{2}}
\clearpage
%% end:   dedication-page
%% begin: obverse-dedication-page (empty)
\thispagestyle{empty}
\null%
\clearpage
%% end:   obverse-dedication-page
%
%
\typeout{************************************************}
\typeout{Acknowledgements  Acknowledgements}
\typeout{************************************************}
%
\begin{acknowledgement}{Acknowledgements}{}{Acknowledgements}{}{}{g:acknowledgement:idm34}
This book would not exist if not for ``Discrete and Combinatorial Mathematics'' by Richard Grassl and Tabitha Mingus. It is the book I learned discrete math out of, and taught out of the semester before I began writing this text. I wanted to maintain the inquiry based feel of their book but update, expand and rearrange some of the material. Some of the best exposition and exercises here were graciously donated from this source.%
\par
Thanks to Alees Seehausen who co-taught the Discrete Mathematics course with me in 2015 and helped develop many of the \emph{Investigate!} activities and other problems currently used in the text. She also offered many suggestions for improvement of the expository text, for which I am quite grateful. Thanks also to Katie Morrison, Nate Eldredge and Richard Grassl (again) for their suggestions after using parts of this text in their classes.%
\par
While odds are that there are still errors and typos in the current book, there are many fewer thanks to the work of Michelle Morgan over the summer of 2016.%
\par
The book is now available in an interactive online format, and this is entirely thanks to the work of Rob Beezer, David Farmer, and Alex Jordan along with the rest of the participants of the \href{https://groups.google.com/forum/\#!forum/pretext-support}{pretext-support group}.%
\par
Finally, a thank you to the numerous students who have pointed out typos and made suggestions over the years and a thanks in advance to those who will do so in the future.%
\end{acknowledgement}
%
%
\typeout{************************************************}
\typeout{Preface  Preface}
\typeout{************************************************}
%
\begin{preface}{Preface}{}{Preface}{}{}{x:preface:preface}
This text aims to give an introduction to select topics in discrete mathematics at a level appropriate for first or second year undergraduate math majors, especially those who intend to teach middle and high school mathematics. The book began as a set of notes for the Discrete Mathematics course at the University of Northern Colorado. This course serves both as a survey of the topics in discrete math and as the ``bridge'' course for math majors, as UNC does not offer a separate ``introduction to proofs'' course. Most students who take the course plan to teach, although there are a handful of students who will go on to graduate school or study applied math or computer science. For these students the current text hopefully is still of interest, but the intent is not to provide a solid mathematical foundation for computer science, unlike the majority of textbooks on the subject.%
\par
Another difference between this text and most other discrete math books is that this book is intended to be used in a class taught using problem oriented or inquiry based methods. When I teach the class, I will assign sections for reading \emph{after} first introducing them in class by using a mix of group work and class discussion on a few interesting problems. The text is meant to consolidate what we \emph{discover} in class and serve as a reference for students as they master the concepts and techniques covered in the unit. None-the-less, every attempt has been made to make the text sufficient for self study as well, in a way that hopefully mimics an inquiry based classroom.%
\par
The topics covered in this text were chosen to match the needs of the students I teach at UNC. The main areas of study are combinatorics, sequences, logic and proofs, and graph theory, in that order. Induction is covered at the end of the chapter on sequences. Most discrete books put logic first as a preliminary, which certainly has its advantages. However, I wanted to discuss logic and proofs together, and found that doing both of these before anything else was overwhelming for my students given that they didn't yet have context of other problems in the subject. Also, after spending a couple weeks on proofs, we would hardly use that at all when covering combinatorics, so much of the progress we made was quickly lost. Instead, there is a short introduction section on mathematical statements, which should provide enough common language to discuss the logical content of combinatorics and sequences.%
\par
Depending on the speed of the class, it might be possible to include additional material. In past semesters I have included generating functions (after sequences) and some basic number theory (either after the logic and proofs chapter or at the very end of the course). These additional topics are covered in the last chapter.%
\par
While I (currently) believe this selection and order of topics is optimal, you should feel free to skip around to what interests you. There are occasionally examples and exercises that rely on earlier material, but I have tried to keep these to a minimum and usually can either be skipped or understood without too much additional study. If you are an instructor, feel free to edit the \LaTeX{} or PreTeXt source to fit your needs.%
\begin{paragraphs}{Improvements to the 3rd Edition.}{x:paragraphs:pref_editions}%
In addition to lots of minor corrections, both to typographical and mathematical errors, this third edition includes a few major improvements, including:%
\begin{itemize}[label=\textbullet]
\item{}More than 100 new exercises, bringing the total to 473.  The selection of which exercises have solutions has also been improved, which should make the text more useful for instructors who want to assign homework from the book.%
\item{}A new section in on trees in the graph theory chapter.%
\item{}Substantial improvement to the exposition in chapter 0, especially the section on functions.%
\item{}The interactive online version of the book has added interactivity.  Currently, many of the exercises are displayed as WeBWorK problems, allowing readers to enter answers to verify they are correct.%
\end{itemize}
%
\par
The previous editions (2nd edition, released in August 2016, and the Fall 2015 edition) will still be available for instructors who wish to use those versions due to familiarity.%
\par
My hope is to continue improving the book, releasing a new edition each spring in time for fall adoptions.  These new editions will incorporate additions and corrections suggested by instructors and students who use the text the previous semesters. Thus I encourage you to send along any suggestions and comments as you have them.%
\end{paragraphs}%
\nopagebreak\par%
\hfill\begin{tabular}[t]{l@{}}
Oscar Levin, Ph.D.\\
University of Northern Colorado, 2019
\end{tabular}\\\par
\end{preface}
%
%
\typeout{************************************************}
\typeout{Preface  How to use this book}
\typeout{************************************************}
%
\begin{preface}{How to use this book}{}{How to use this book}{}{}{p:preface:dVo}
In addition to expository text, this book has a few features designed to encourage you to interact with the mathematics.%
\begin{paragraphs}{\emph{Investigate!} activities.}{p:paragraphs:qjG}%
Sprinkled throughout the sections (usually at the very beginning of a topic) you will find activities designed to get you acquainted with the topic soon to be discussed. These are similar (sometimes identical) to group activities I give students to introduce material. You really should spend some time thinking about, or even working through, these problems before reading the section. By priming yourself to the types of issues involved in the material you are about to read, you will better understand what is to come. There are no solutions provided for these problems, but don't worry if you can't solve them or are not confident in your answers. My hope is that you will take this frustration with you while you read the proceeding section. By the time you are done with the section, things should be much clearer.%
\end{paragraphs}%
\begin{paragraphs}{Examples.}{p:paragraphs:WqP}%
I have tried to include the ``correct'' number of examples. For those examples which include \emph{problems}, full solutions are included. Before reading the solution, try to at least have an understanding of what the problem is asking. Unlike some textbooks, the examples are not meant to be all inclusive for problems you will see in the exercises. They should not be used as a blueprint for solving other problems. Instead, use the examples to deepen our understanding of the concepts and techniques discussed in each section. Then use this understanding to solve the exercises at the end of each section.%
\end{paragraphs}%
\begin{paragraphs}{Exercises.}{p:paragraphs:CxY}%
You get good at math through practice. Each section concludes with a small number of exercises meant to solidify concepts and basic skills presented in that section. At the end of each chapter, a larger collection of similar exercises is included (as a sort of ``chapter review'') which might bridge material of different sections in that chapter. Many exercise have a hint or solution (which in the pdf version of the text can be found by clicking on the exercises number\textemdash{}clicking on the solution number will bring you back to the exercise). Readers are encouraged to try these exercises before looking at the help.%
\par
Both hints and solutions are intended as a way to check your work, but often what would ``count'' as a correct solution in a math class would be quite a bit more. When I teach with this book, I assign exercises that have solutions as practice and then use them, or similar problems, on quizzes and exams. There are also problems without solutions to challenge yourself (or to be assigned as homework).%
\end{paragraphs}%
\begin{paragraphs}{Interactive Online Version.}{p:paragraphs:iFh}%
For those of you reading this in a pdf or in print, I encourage you to also check out the interactive online version, which makes navigating the book a little easier.  Additionally, some of the exercises are implemented as WeBWorK problems, which allow you to check your work without seeing the correct answer immediately.  Additional interactivity is planned, including instructional videos for examples and additional exercises at the end of sections.  These ``bonus'' features will be added on a rolling basis, so keep an eye out!%
\par
You can view the interactive version for free at \url{http://discrete.openmathbooks.org/} or by scanning the QR code below with your smart phone.%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\includegraphics[width=\linewidth]{images/qrcode.png}
\end{sbspanel}%
\end{sidebyside}%
\end{paragraphs}%
\end{preface}
%% begin: table of contents
%% Adjust Table of Contents
\setcounter{tocdepth}{2}
\renewcommand*\contentsname{Contents}
\tableofcontents
%% end:   table of contents
\mainmatter
%
%
\typeout{************************************************}
\typeout{Chapter 0 Introduction and Preliminaries}
\typeout{************************************************}
%
\begin{chapterptx}{Introduction and Preliminaries}{}{Introduction and Preliminaries}{}{}{x:chapter:ch_intro}
\begin{introduction}{}%
Welcome to Discrete Mathematics. If this is your first time encountering the subject, you will probably find discrete mathematics quite different from other math subjects. You might not even know what discrete math is! Hopefully this short introduction will shed some light on what the subject is about and what you can expect as you move forward in your studies.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Section 0.1 What is Discrete Mathematics?}
\typeout{************************************************}
%
\begin{sectionptx}{What is Discrete Mathematics?}{}{What is Discrete Mathematics?}{}{}{x:section:sec_intro-intro}
\begin{quote}%
dis\textperiodcentered{}crete \slash{} dis'krët.%
\par
\emph{Adjective}: Individually separate and distinct.%
\par
\emph{Synonyms}: separate - detached - distinct - abstract.%
\end{quote}
Defining \emph{discrete mathematics} is hard because defining \emph{mathematics} is hard. What is mathematics? The study of numbers? In part, but you also study functions and lines and triangles and parallelepipeds and vectors and \textellipsis{}. Or perhaps you want to say that mathematics is a collection of tools that allow you to solve problems. What sort of problems? Okay, those that involve numbers, functions, lines, triangles, \textellipsis{}. Whatever your conception of what mathematics is, try applying the concept of ``discrete'' to it, as defined above. Some math fundamentally deals with \emph{stuff} that is individually separate and distinct.%
\par
In an algebra or calculus class, you might have found a particular set of numbers (maybe the set of numbers in the range of a function). You would represent this set as an interval: \([0,\infty)\) is the range of \(f(x) = x^2\) since the set of outputs of the function are all real numbers 0 and greater. This set of numbers is NOT discrete. The numbers in the set are not separated by much at all. In fact, take any two numbers in the set and there are infinitely many more between them which are also in the set.%
\par
Discrete math could still ask about the range of a function, but the set would not be an interval. Consider the function which gives the number of children of each person reading this. What is the range? I'm guessing it is something like \(\{0, 1, 2, 3\}\). Maybe 4 is in there too. But certainly there is nobody reading this that has 1.32419 children. This output set \emph{is} discrete because the elements are separate. The inputs to the function also form a discrete set because each input is an individual person.%
\par
One way to get a feel for the subject is to consider the types of problems you solve in discrete math. Here are a few simple examples:%
\begin{investigation}{}{p:investigation:udO}%
\emph{Note: Throughout the text you will see \emph{Investigate!} activities like this one. Answer the questions in these as best you can to give yourself a feel for what is coming next.}%
\par
%
\begin{enumerate}
\item{}The most popular mathematician in the world is throwing a party for all of his friends. As a way to kick things off, they decide that everyone should shake hands. Assuming all 10 people at the party each shake hands with every other person (but not themselves, obviously) exactly once, how many handshakes take place?%
\item{}At the warm-up event for Oscar's All Star Hot Dog Eating Contest, Al ate one hot dog. Bob then showed him up by eating three hot dogs. Not to be outdone, Carl ate five. This continued with each contestant eating two more hot dogs than the previous contestant. How many hot dogs did Zeno (the 26th and final contestant) eat? How many hot dogs were eaten all together?%
\item{}After excavating for weeks, you finally arrive at the burial chamber. The room is empty except for two large chests. On each is carved a message (strangely in English):%
\begin{sidebyside}{1}{0.1}{0.1}{0}%
\begin{sbspanel}{0.8}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
          \node[shape=rectangle, draw=brown, thick, fill=brown!20!white, inner sep=5mm, minimum height=3cm, minimum width=3.5cm, text width=3.5cm, align=center] (a) { If this chest is empty, then the other chest's message is true.};
          \node[shape=rectangle, draw=brown, thick, fill=brown!20!white, inner sep=5mm, minimum height=3cm, minimum width=3.5cm, text width=3.5cm, align=center, right=of a] {
               This chest is filled with treasure or the other chest contains deadly scorpions.
              };
      \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
You know exactly one of these messages is true. What should you do?%
\item{}Back in the days of yore, five small towns decided they wanted to build roads directly connecting each pair of towns. While the towns had plenty of money to build roads as long and as winding as they wished, it was very important that the roads not intersect with each other (as stop signs had not yet been invented). Also, tunnels and bridges were not allowed. Is it possible for each of these towns to build a road to each of the four other towns without creating any intersections?%
\end{enumerate}
%
\end{investigation}
One reason it is difficult to define discrete math is that it is a very broad description which encapsulates a large number of subjects. In this course we will study four main topics: \terminology{combinatorics} (the theory of ways things \emph{combine}; in particular, how to count these ways), \terminology{sequences}, \terminology{symbolic logic}, and \terminology{graph theory}. However, there are other topics that belong under the discrete umbrella, including computer science, abstract algebra, number theory, game theory, probability, and geometry (some of these, particularly the last two, have both discrete and non-discrete variants).%
\par
Ultimately the best way to learn what discrete math is about is to \emph{do} it. Let's get started! Before we can begin answering more complicated (and fun) problems, we must lay down some foundation. We start by reviewing mathematical statements, sets, and functions in the framework of discrete mathematics.%
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 0.2 Mathematical Statements}
\typeout{************************************************}
%
\begin{sectionptx}{Mathematical Statements}{}{Mathematical Statements}{}{}{x:section:sec_intro-statements}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:oau}%
While walking through a fictional forest, you encounter three trolls guarding a bridge. Each is either a \emph{knight}, who always tells the truth, or a \emph{knave}, who always lies. The trolls will not let you pass until you correctly identify each as either a knight or a knave. Each troll makes a single statement:%
\begin{quote}%
Troll 1: If I am a knave, then there are exactly two knights here.%
\par
Troll 2: Troll 1 is lying.%
\par
Troll 3: Either we are all knaves or at least one of us is a knight.%
\end{quote}
Which troll is which? \index{self reference|see{reference, self}}\index{reference, self|see{self reference}}%
\end{investigation}
In order to \emph{do} mathematics, we must be able to \emph{talk} and \emph{write} about mathematics. Perhaps your experience with mathematics so far has mostly involved finding answers to problems. As we embark towards more advanced and abstract mathematics, writing will play a more prominent role in the mathematical process.%
\par
Communication in mathematics requires more precision than many other subjects, and thus we should take a few pages here to consider the basic building blocks: \emph{mathematical statements}.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Atomic and Molecular Statements}
\typeout{************************************************}
%
\begin{subsectionptx}{Atomic and Molecular Statements}{}{Atomic and Molecular Statements}{}{}{x:subsection:atomic-molecular-statements}
A \terminology{statement} \index{statement} is any declarative sentence which is either true or false. A statement is \terminology{atomic} if it cannot be divided into smaller statements, otherwise it is called \terminology{molecular}.%
\begin{example}{}{p:example:yzz}%
These are statements (in fact, \emph{atomic} statements):%
\begin{itemize}[label=\textbullet]
\item{}Telephone numbers in the USA have 10 digits.%
\item{}The moon is made of cheese.%
\item{}42 is a perfect square.%
\item{}Every even number greater than 2 can be expressed as the sum of two primes.%
\item{}\(3+7 = 12\)%
\end{itemize}
And these are not statements:%
\begin{itemize}[label=\textbullet]
\item{}Would you like some cake?%
\item{}The sum of two squares.%
\item{}\(1+3+5+7+\cdots+2n+1\).%
\item{}Go to your room!%
\item{}\(3+x = 12\)%
\end{itemize}
%
\end{example}
The reason the sentence ``\(3 + x = 12\)'' is not a statement is that it contains a variable. Depending on what \(x\) is, the sentence is either true or false, but right now it is neither. One way to make the \emph{sentence} into a \emph{statement} is to specify the value of the variable in some way. This could be done by specifying a specific substitution, for example, ``\(3+x = 12\) where \(x = 9\),'' which is a true statement. Or you could \emph{capture} the free variable by \emph{quantifying} over it, as in, ``for all values of \(x\), \(3+x = 12\),'' which is false. We will discuss quantifiers in more detail at the end of this section.%
\par
You can build more complicated (molecular) statements out of simpler (atomic or molecular) ones using \terminology{logical connectives}. \index{connectives} For example, this is a molecular statement:%
\begin{quote}%
Telephone numbers in the USA have 10 digits and 42 is a perfect square.%
\end{quote}
Note that we can break this down into two smaller statements. The two shorter statements are \emph{connected} by an ``and.'' We will consider 5 connectives: ``and'' (Sam is a man and Chris is a woman), ``or'' (Sam is a man or Chris is a woman), ``if\textellipsis{}, then\textellipsis{}'' (if Sam is a man, then Chris is a woman), ``if and only if'' (Sam is a man if and only if Chris is a woman), and ``not'' (Sam is not a man). The first four are called \terminology{binary connectives} (because they connect two statements) while ``not'' is an example of a \terminology{unary connective} (since it applies to a single statement).%
\par
These molecular statements are of course still statements, so they must be either true or false. The absolutely key observation here is that which \terminology{truth value} \index{truth value} the molecular statement achieves is completely determined by the type of connective and the truth values of the parts. We do not need to know what the parts actually say, only whether those parts are true or false. So to analyze logical connectives, it is enough to consider \terminology{propositional variables} (sometimes called \emph{sentential} variables), usually capital letters in the middle of the alphabet: \(P, Q, R, S, \ldots\). We think of these as standing in for (usually atomic) statements, but there are only two \emph{values} the variables can achieve: true or false.\footnote{In computer programing, we should call such variables \terminology{Boolean variables}.\label{g:fn:idm255}}\label{g:notation:idm257} We also have symbols for the logical connectives: \(\wedge\), \(\vee\), \(\imp\), \(\iff\), \(\neg\).%
\begin{assemblage}{Logical Connectives.}{p:assemblage:pfN}%
%
\begin{itemize}[label=\textbullet]
\item{}\(P \wedge Q\) is read ``\(P\) and \(Q\),'' and called a \terminology{conjunction}. \index{conjunction}\index{connectives!and}\label{g:notation:idm280}%
\item{}\(P \vee Q\) is read ``\(P\) or \(Q\),'' and called a \terminology{disjunction}. \index{disjunction}\index{connectives!or}\label{g:notation:idm295}%
\item{}\(P \imp Q\) is read ``if \(P\) then \(Q\),'' and called an \terminology{implication} or \terminology{conditional}. \index{implication}\index{conditional}\index{connectives!implies}\index{if\textellipsis{}, then\textellipsis{}}%
\item{}\(P \iff Q\) is read ``\(P\) if and only if \(Q\),'' and called a \terminology{biconditional}. \index{biconditional}\index{connectives!if and only if}\index{if and only if}%
\item{}\(\neg P\) is read ``not \(P\),'' and called a \terminology{negation}. \index{negation}\index{connectives!not}\label{g:notation:idm340}%
\end{itemize}
%
\end{assemblage}
The \terminology{truth value} of a statement is determined by the truth value(s) of its part(s), depending on the connectives:%
\begin{assemblage}{Truth Conditions for Connectives.}{p:assemblage:VmW}%
%
\begin{itemize}[label=\textbullet]
\item{}\(P \wedge Q\) is true when both \(P\) and \(Q\) are true%
\item{}\(P \vee Q\) is true when \(P\) or \(Q\) or both are true.%
\item{}\(P \imp Q\) is true when \(P\) is false or \(Q\) is true or both.%
\item{}\(P \iff Q\) is true when \(P\) and \(Q\) are both true, or both false.%
\item{}\(\neg P\) is true when \(P\) is false.%
\end{itemize}
%
\end{assemblage}
Note that for us, \emph{or} is the \terminology{inclusive or} \index{inclusive or} (and not the sometimes used \emph{exclusive or}) meaning that \(P \vee Q\) is in fact true when both \(P\) and \(Q\) are true. As for the other connectives, ``and'' behaves as you would expect, as does negation. The biconditional (if and only if) might seem a little strange, but you should think of this as saying the two parts of the statements are \emph{equivalent} in that they have the same truth value. This leaves only the conditional \(P \imp Q\) which has a slightly different meaning in mathematics than it does in ordinary usage. However, implications are so common and useful in mathematics, that we must develop fluency with their use, and as such, they deserve their own subsection.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Implications}
\typeout{************************************************}
%
\begin{subsectionptx}{Implications}{}{Implications}{}{}{x:subsection:subsec_implications}
\begin{assemblage}{Implications.}{p:assemblage:Buf}%
An \terminology{implication} or \terminology{conditional} is a molecular statement of the form%
\begin{equation*}
P \imp Q
\end{equation*}
where \(P\) and \(Q\) are statements. We say that%
\begin{itemize}[label=\textbullet]
\item{}\(P\) is the \terminology{hypothesis} (or \terminology{antecedent}).%
\item{}\(Q\) is the \terminology{conclusion} (or \terminology{consequent}).%
\end{itemize}
%
\par
An implication is \emph{true} provided \(P\) is false or \(Q\) is true (or both), and \emph{false} otherwise. In particular, the only way for \(P \imp Q\) to be false is for \(P\) to be true \emph{and} \(Q\) to be false.%
\end{assemblage}
Easily the most common type of statement in mathematics is the implication. Even statements that do not at first look like they have this form conceal an implication at their heart. Consider the \emph{Pythagorean Theorem}. Many a college freshman would quote this theorem as ``\(a^2 + b^2 = c^2\).'' This is absolutely not correct. For one thing, that is not a statement since it has three variables in it. Perhaps they imply that this should be true for any values of the variables? So \(1^2 + 5^2 = 2^2\)??? How can we fix this? Well, the equation is true as long as \(a\) and \(b\) are the legs or a right triangle and \(c\) is the hypotenuse. In other words:%
\begin{quote}%
\emph{If} \(a\) and \(b\) are the legs of a right triangle with hypotenuse \(c\), \emph{then} \(a^2 + b^2 = c^2\).%
\end{quote}
This is a reasonable way to think about implications: our claim is that the conclusion (``then'' part) is true, but on the assumption that the hypothesis (``if'' part) is true. We make no claim about the conclusion in situations when the hypothesis is false.\footnote{However, note that in the case of the Pythagorean Theorem, it is also the case that \emph{if} \(a^2 + b^2 = c^2\), \emph{then} \(a\) and \(b\) are the legs of a right triangle with hypotenuse \(c\). So we could have also expressed this theorem as a biconditional: ``\(a\) and \(b\) are the legs of a right triangle with hypotenuse \(c\) \emph{if and only if} \(a^2 + b^2 = c^2\).''\label{g:fn:idm431}}%
\par
Still, it is important to remember that an implication is a statement, and therefore is either true or false. The truth value of the implication is determined by the truth values of its two parts. To agree with the usage above, we say that an implication is true either when the hypothesis is false, or when the conclusion is true. This leaves only one way for an implication to be false: when the hypothesis is true and the conclusion is false.%
\begin{example}{}{p:example:eGI}%
Consider the statement:%
\begin{quote}%
If Bob gets a 90 on the final, then Bob will pass the class.%
\end{quote}
This is definitely an implication: \(P\) is the statement ``Bob gets a 90 on the final,'' and \(Q\) is the statement ``Bob will pass the class.''%
\par
Suppose I made that statement to Bob. In what circumstances would it be fair to call me a liar? What if Bob really did get a 90 on the final, and he did pass the class? Then I have not lied; my statement is true. However, if Bob did get a 90 on the final and did not pass the class, then I lied, making the statement false. The tricky case is this: what if Bob did not get a 90 on the final? Maybe he passes the class, maybe he doesn't. Did I lie in either case? I think not. In these last two cases, \(P\) was false, and the statement \(P \imp Q\) was true. In the first case, \(Q\) was true, and so was \(P \imp Q\). So \(P \imp Q\) is true when either \(P\) is false or \(Q\) is true.%
\end{example}
Just to be clear, although we sometimes read \(P \imp Q\) as ``\(P\) \emph{implies} \(Q\)'', we are not insisting that there is some causal relationship between the statements \(P\) and \(Q\). In particular, if you claim that \(P \imp Q\) is \emph{false}, you are not saying that \(P\) does not imply \(Q\), but rather that \(P\) is true and \(Q\) is false.%
\begin{example}{}{p:example:KNR}%
Decide which of the following statements are true and which are false. Briefly explain.%
\begin{enumerate}
\item{}If \(1=1\), then most horses have 4 legs.%
\item{}If \(0=1\), then \(1=1\).%
\item{}If 8 is a prime number, then the 7624th digit of \(\pi\) is an 8.%
\item{}If the 7624th digit of \(\pi\) is an 8, then \(2+2 = 4\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:AoM}{}~~%
All four of the statements are true. Remember, the only way for an implication to be false is for the \emph{if} part to be true and the \emph{then} part to be false.%
\begin{enumerate}
\item{}Here both the hypothesis and the conclusion are true, so the implication is true. It does not matter that there is no meaningful connection between the true mathematical fact and the fact about horses.%
\item{}Here the hypothesis is false and the conclusion is true, so the implication is true.%
\item{}I have no idea what the 7624th digit of \(\pi\) is, but this does not matter. Since the hypothesis is false, the implication is automatically true.%
\item{}Similarly here, regardless of the truth value of the hypothesis, the conclusion is true, making the implication true.%
\end{enumerate}
%
\end{example}
It is important to understand the conditions under which an implication is true not only to decide whether a mathematical statement is true, but in order to \emph{prove} that it is. Proofs might seem scary (especially if you have had a bad high school geometry experience) but all we are really doing is explaining (very carefully) why a statement is true. If you understand the truth conditions for an implication, you already have the outline for a proof.%
\begin{assemblage}{Direct Proofs of Implications.}{p:assemblage:hBo}%
To prove an implication \(P \imp Q\), it is enough to assume \(P\), and from it, deduce \(Q\).%
\end{assemblage}
Perhaps a better way to say this is that to prove a statement of the form \(P \imp Q\) directly, you must explain why \(Q\) is true, but you \emph{get to} assume \(P\) is true first. After all, you only care about whether \(Q\) is true in the case that \(P\) is as well.%
\par
There are other techniques to prove statements (implications and others) that we will encounter throughout our studies, and new proof techniques are discovered all the time. Direct proof is the easiest and most elegant style of proof and has the advantage that such a proof often does a great job of explaining \emph{why} the statement is true.%
\begin{example}{}{p:example:qVa}%
Prove: If two numbers \(a\) and \(b\) are even, then their sum \(a+b\) is even.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:gvV}{}~~%
\begin{proofptx}{}{p:proof:MDe}
Suppose the numbers \(a\) and \(b\) are even. This means that \(a = 2k\) and \(b=2j\) for some integers \(k\) and \(j\). The sum is then \(a+b = 2k+2j = 2(k+j)\). Since \(k+j\) is an integer, this means that \(a+b\) is even.%
\end{proofptx}
Notice that since we get to assume the hypothesis of the implication, we immediately have a place to start. The proof proceeds essentially by repeatedly asking and answering, ``what does that mean?'' Eventually, we conclude that it means the conclusion.%
\end{example}
This sort of argument shows up outside of math as well. If you ever found yourself starting an argument with ``hypothetically, let's assume \textellipsis{},'' then you have attempted a direct proof of your desired conclusion.%
\par
An implication is a way of expressing a relationship between two statements. It is often interesting to ask whether there are other relationships between the statements. Here we introduce some common language to address this question.%
\begin{assemblage}{Converse and Contrapositive.}{p:assemblage:NIx}%
%
\begin{itemize}[label=\textbullet]
\item{}The \terminology{converse} \index{converse} of an implication \(P \imp Q\) is the implication \(Q \imp P\). The converse is NOT logically equivalent to the original implication. That is, whether the converse of an implication is true is independent of the truth of the implication.%
\item{}The \terminology{contrapositive} \index{contrapositive} of an implication \(P \imp Q\) is the statement \(\neg Q \imp \neg P\). An implication and its contrapositive are logically equivalent (they are either both true or both false).%
\end{itemize}
%
\end{assemblage}
Mathematics is overflowing with examples of true implications which have a false converse. If a number greater than 2 is prime, then that number is odd. However, just because a number is odd does not mean it is prime. If a shape is a square, then it is a rectangle. But it is false that if a shape is a rectangle, then it is a square.%
\par
However, sometimes the converse of a true statement is also true. For example, the Pythagorean theorem has a true converse: if\(a^2 + b^2 = c^2\), then the triangle with sides \(a\), \(b\), and \(c\) is a \emph{right} triangle. Whenever you encounter an implication in mathematics, it is always reasonable to ask whether the converse is true.%
\par
The contrapositive, on the other hand, always has the same truth value as its original implication. This can be very helpful in deciding whether an implication is true: often it is easier to analyze the contrapositive.%
\begin{example}{}{p:example:Xcj}%
True or false: If you draw any nine playing cards from a regular deck, then you will have at least three cards all of the same suit. Is the converse true?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:sKn}{}~~%
True. The original implication is a little hard to analyze because there are so many different combinations of nine cards. But consider the contrapositive: If you \emph{don't} have at least three cards all of the same suit, then you don't have nine cards. It is easy to see why this is true: you can at most have two cards of each of the four suits, for a total of eight cards (or fewer).%
\par
The converse: If you have at least three cards all of the same suit, then you have nine cards. This is false. You could have three spades and nothing else. Note that to demonstrate that the converse (an implication) is false, we provided an example where the hypothesis is true (you do have three cards of the same suit), but where the conclusion is false (you do not have nine cards).%
\end{example}
Understanding converses and contrapositives can help understand implications and their truth values:%
\begin{example}{}{p:example:Djs}%
Suppose I tell Sue that if she gets a 93\% on her final, then she will get an A in the class. Assuming that what I said is true, what can you conclude in the following cases:%
\par
%
\begin{enumerate}
\item{}Sue gets a 93\% on her final.%
\item{}Sue gets an A in the class.%
\item{}Sue does not get a 93\% on her final.%
\item{}Sue does not get an A in the class.%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:YRw}{}~~%
Note first that whenever \(P \imp Q\) and \(P\) are both true statements, \(Q\) must be true as well. For this problem, take \(P\) to mean ``Sue gets a 93\% on her final'' and \(Q\) to mean ``Sue will get an A in the class.''%
\par
%
\begin{enumerate}
\item{}We have \(P \imp Q\) and \(P\), so \(Q\) follows. Sue gets an A.%
\item{}You cannot conclude anything. Sue could have gotten the A because she did extra credit for example. Notice that we do not know that if Sue gets an \(A\), then she gets a 93\% on her final. That is the converse of the original implication, so it might or might not be true.%
\item{}The contrapositive of the converse of \(P \imp Q\) is \(\neg P \imp \neg Q\), which states that if Sue does not get a 93\% on the final, then she will not get an A in the class. But this does not follow from the original implication. Again, we can conclude nothing. Sue could have done extra credit.%
\item{}What would happen if Sue does not get an A but \emph{did} get a 93\% on the final? Then \(P\) would be true and \(Q\) would be false. This makes the implication \(P \imp Q\) false! It must be that Sue did not get a 93\% on the final. Notice now we have the implication \(\neg Q \imp \neg P\) which is the contrapositive of \(P \imp Q\). Since \(P \imp Q\) is assumed to be true, we know \(\neg Q \imp \neg P\) is true as well.%
\end{enumerate}
%
\end{example}
As we said above, an implication is not logically equivalent to its converse, but it is possible that both the implication and its converse are true. In this case, when both \(P \imp Q\) and \(Q \imp P\) are true, we say that \(P\) and \(Q\) are equivalent and write \(P \iff Q\). This is the biconditional we mentioned earlier.%
\begin{assemblage}{If and only if.}{p:assemblage:tPG}%
\begin{quote}%
\(P \iff Q\) is logically equivalent to \((P \imp Q) \wedge (Q \imp P)\).%
\end{quote}
Example: Given an integer \(n\), it is true that \(n\) is even if and only if \(n^2\) is even. That is, if \(n\) is even, then \(n^2\) is even, as well as the converse: if \(n^2\) is even, then \(n\) is even.%
\end{assemblage}
You can think of ``if and only if'' statements as having two parts: an implication and its converse. We might say one is the ``if'' part, and the other is the ``only if'' part. We also sometimes say that ``if and only if'' statements have two directions: a forward direction \((P \imp Q)\) and a backwards direction (\(P \leftarrow Q\), which is really just sloppy notation for \(Q \imp P\)).%
\par
Let's think a little about which part is which. Is \(P \imp Q\) the ``if'' part or the ``only if'' part? Consider an example.%
\begin{example}{}{p:example:jqB}%
Suppose it is true that I sing if and only if I'm in the shower. We know this means both that if I sing, then I'm in the shower, and also the converse, that if I'm in the shower, then I sing. Let \(P\) be the statement, ``I sing,'' and \(Q\) be, ``I'm in the shower.'' So \(P \imp Q\) is the statement ``if I sing, then I'm in the shower.'' Which part of the if and only if statement is this?%
\par
What we are really asking for is the meaning of ``I sing \emph{if} I'm in the shower'' and ``I sing \emph{only if} I'm in the shower.'' When is the first one (the ``if'' part) \emph{false}? When I am in the shower but not singing. That is the same condition on being false as the statement ``if I'm in the shower, then I sing.'' So the ``if'' part is \(Q \imp P\). On the other hand, to say, ``I sing only if I'm in the shower'' is equivalent to saying ``if I sing, then I'm in the shower,'' so the ``only if'' part is \(P \imp Q\).%
\end{example}
It is not terribly important to know which part is the ``if'' or ``only if'' part, but this does illustrate something very, very important: \emph{there are many ways to state an implication!}%
\begin{example}{}{p:example:PxK}%
Rephrase the implication, ``if I dream, then I am asleep'' in as many different ways as possible. Then do the same for the converse.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:EYF}{}~~%
The following are all equivalent to the original implication:%
\begin{enumerate}
\item{}I am asleep if I dream.%
\item{}I dream only if I am asleep.%
\item{}In order to dream, I must be asleep.%
\item{}To dream, it is necessary that I am asleep.%
\item{}To be asleep, it is sufficient to dream.%
\item{}I am not dreaming unless I am asleep.%
\end{enumerate}
The following are equivalent to the converse (if I am asleep, then I dream):%
\begin{enumerate}
\item{}I dream if I am asleep.%
\item{}I am asleep only if I dream.%
\item{}It is necessary that I dream in order to be asleep.%
\item{}It is sufficient that I be asleep in order to dream.%
\item{}If I don't dream, then I'm not asleep.%
\end{enumerate}
%
\end{example}
Hopefully you agree with the above example. We include the ``necessary and sufficient'' versions because those are common when discussing mathematics. In fact, let's agree once and for all what they mean.%
\begin{assemblage}{Necessary and Sufficient.}{p:assemblage:ZWP}%
%
\begin{itemize}[label=\textbullet]
\item{}``\(P\) is necessary for \(Q\)'' means \(Q \imp P\).%
\item{}``\(P\) is sufficient for \(Q\)'' means \(P \imp Q\).%
\item{}If \(P\) is necessary and sufficient for \(Q\), then \(P \iff Q\).%
\end{itemize}
%
\end{assemblage}
To be honest, I have trouble with these if I'm not very careful. I find it helps to keep a standard example for reference.%
\begin{example}{}{p:example:vET}%
Recall from calculus, if a function is differentiable at a point \(c\), then it is continuous at \(c\), but that the converse of this statement is not true (for example, \(f(x) = |x|\) at the point 0). Restate this fact using ``necessary and sufficient'' language.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:lfO}{}~~%
It is true that in order for a function to be differentiable at a point \(c\), it is necessary for the function to be continuous at \(c\). However, it is not necessary that a function be differentiable at \(c\) for it to be continuous at \(c\).%
\par
It is true that to be continuous at a point \(c\), it is sufficient that the function be differentiable at \(c\). However, it is not the case that being continuous at \(c\) is sufficient for a function to be differentiable at \(c\).%
\end{example}
Thinking about the necessity and sufficiency of conditions can also help when writing proofs and justifying conclusions. If you want to establish some mathematical fact, it is helpful to think what other facts would \emph{be enough} (be sufficient) to prove your fact. If you have an assumption, think about what must also be necessary if that hypothesis is true.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Predicates and Quantifiers}
\typeout{************************************************}
%
\begin{subsectionptx}{Predicates and Quantifiers}{}{Predicates and Quantifiers}{}{}{x:subsection:subsec_quantifiers}
\begin{investigation}{}{p:investigation:bMc}%
Consider the statements below. Decide whether any are equivalent to each other, or whether any imply any others.%
\par
%
\begin{enumerate}
\item{}You can fool some people all of the time.%
\item{}You can fool everyone some of the time.%
\item{}You can always fool some people.%
\item{}Sometimes you can fool everyone.%
\end{enumerate}
%
\end{investigation}
\index{free variable}\index{predicate} It would be nice to use variables in our mathematical sentences. For example, suppose we wanted to claim that if \(n\) is prime, then \(n+7\) is not prime. This looks like an implication. I would like to write something like%
\begin{equation*}
P(n) \imp \neg P(n+7)
\end{equation*}
where \(P(n)\) means ``\(n\) is prime.'' But this is not quite right. For one thing, because this sentence has a \terminology{free variable} (that is, a variable that we have not specified anything about), it is not a statement.  A sentence that contains variables is called a \terminology{predicate}.%
\par
Now, if we plug in a specific value for \(n\), we do get a statement. In fact, it turns out that no matter what value we plug in for \(n\), we get a true implication in this case. What we really want to say is that \emph{for all} values of \(n\), if \(n\) is prime, then \(n+7\) is not. We need to \emph{quantify} the variable.%
\par
Although there are many types of \emph{quantifiers} in English (e.g., many, few, most, etc.) in mathematics we, for the most part, stick to two: existential and universal.%
\begin{assemblage}{Universal and Existential Quantifiers.}{p:assemblage:mlh}%
The existential quantifier is \(\exists\) and is read ``there exists'' or ``there is.'' For example, \index{existential quantifier}\index{quantifiers!exists}\label{g:notation:idm815}%
\begin{equation*}
\exists x (x \lt 0)
\end{equation*}
asserts that there is a number less than 0.%
\par
The universal quantifier is \(\forall\) and is read ``for all'' or ``every.'' For example, \index{universal quantifier}\index{quantifiers!for all}\label{g:notation:idm828}%
\begin{equation*}
\forall x (x \ge 0)
\end{equation*}
asserts that every number is greater than or equal to 0.%
\end{assemblage}
As with all mathematical statements, we would like to decide whether quantified statements are true or false. Consider the statement%
\begin{equation*}
\forall x \exists y (y \lt x)\text{.}
\end{equation*}
You would read this, ``for every \(x\) there is some \(y\) such that \(y\) is less than \(x\).'' Is this true? The answer depends on what our \emph{domain of discourse} is: when we say ``for all'' \(x\), do we mean all positive integers or all real numbers or all elements of some other set? Usually this information is implied. In discrete mathematics, we almost always quantify over the \emph{natural numbers}, 0, 1, 2, \textellipsis{}, so let's take that for our domain of discourse here.%
\par
For the statement to be true, we need it to be the case that no matter what natural number we select, there is always some natural number that is strictly smaller. Perhaps we could let \(y\) be \(x-1\)? But here is the problem: what if \(x = 0\)? Then \(y = -1\) and that is \emph{not a number!} (in our domain of discourse). Thus we see that the statement is false because there is a number which is less than or equal to all other numbers. In symbols,%
\begin{equation*}
\exists x \forall y (y \ge x)\text{.}
\end{equation*}
%
\par
To show that the original statement is false, we proved that the \emph{negation} was true. Notice how the negation and original statement compare. This is typical.%
\begin{assemblage}{Quantifiers and Negation.}{p:assemblage:Ssq}%
\begin{quote}%
\(\neg \forall x P(x)\) is equivalent to \(\exists x \neg P(x)\).%
\par
\(\neg \exists x P(x)\) is equivalent to \(\forall x \neg P(x)\).%
\end{quote}
\end{assemblage}
Essentially, we can pass the negation symbol over a quantifier, but that causes the quantifier to switch type. This should not be surprising: if not everything has a property, then something doesn't have that property. And if there is not something with a property, then everything doesn't have that property.%
\begin{paragraphs}{Implicit Quantifiers.}{x:paragraphs:pars-implicituantifiers}%
It is always a good idea to be precise in mathematics.  Sometimes though, we can relax a little bit, as long as we all agree on a convention.  An example of such a convention is to assume that sentences containing predicates with free variables are intended as statements, where the variables are universally quantified.%
\par
For example, do you believe that if a shape is a square, then it is a rectangle?  But how can that be true if it is not a statement?  To be a little more precise, we have two predicates: \(S(x)\) standing for ``\(x\) is a square'' and \(R(x)\) standing for ``\(x\) is a rectangle''.  The \emph{sentence} we are looking at is,%
\begin{equation*}
S(x) \imp R(x)\text{.}
\end{equation*}
This is neither true nor false, as it is not a statement.  But come on!  We all know that we meant to consider the statement,%
\begin{equation*}
\forall x (S(x) \imp R(x))\text{,}
\end{equation*}
and this is what our convention tells us to consider.%
\par
Similarly, we will often be a bit sloppy about the distinction between a predicate and a statement.  For example, we might write, \emph{let \(P(n)\) be the \emph{statement}, ``\(n\) is prime,''} which is technically incorrect.  It is implicit that we mean that we are defining \(P(n)\) to be a predicate, which for each \(n\) becomes the statement, \(n\) is prime.%
\end{paragraphs}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_intro-statements}
\begin{divisionexercise}{\hyperlink{g:solution:idm962-back}{1}}{}{}{p:exercise:vWb}%
For each sentence below, decide whether it is an atomic statement, a molecular statement, or not a statement at all.%
\begin{enumerate}[label=(\alph*)]
\item{}Customers must wear shoes. %
\item{}The customers wore shoes. %
\item{}The customers wore shoes and they wore socks. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:cdk}%
Classify each of the sentences below as an atomic statement, a molecular statement, or not a statement at all. If the statement is molecular, say what kind it is (conjuction, disjunction, conditional, biconditional, negation).%
\begin{enumerate}[label=(\alph*)]
\item{}The sum of the first 100 odd positive integers.%
\item{}Everybody needs somebody sometime.%
\item{}The Broncos will win the Super Bowl or I'll eat my hat.%
\item{}We can have donuts for dinner, but only if it rains.%
\item{}Every natural number greater than 1 is either prime or composite.%
\item{}This sentence is false.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:uQI-back}{3}}{}{}{p:exercise:Ikt}%
Suppose \(P\) and \(Q\) are the statements: \(P\): Jack passed math. \(Q\): Jill passed math.%
\begin{enumerate}[label=(\alph*)]
\item{}Translate ``Jack and Jill both passed math'' into symbols.%
\item{}Translate ``If Jack passed math, then Jill did not'' into symbols.%
\item{}Translate ``\(P \vee Q\)'' into English.%
\item{}Translate ``\(\neg(P \wedge Q) \imp Q\)'' into English.%
\item{}Suppose you know that if Jack passed math, then so did Jill. What can you conclude if you know that:%
\begin{enumerate}[label=\roman*.]
\item{}Jill passed math?%
\item{}Jill did not pass math?%
\end{enumerate}
%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1184-back}{4}}{}{}{p:exercise:orC}%
Determine whether each molecular statement below is true or false, or whether it is impossible to determine. Assume you do not know what my favorite number is (but you do know that 13 is prime).%
\begin{enumerate}[label=(\alph*)]
\item{}If 13 is prime, then 13 is my favorite number. %
\item{}If 13 is my favorite number, then 13 is prime. %
\item{}If 13 is not prime, then 13 is my favorite number. %
\item{}13 is my favorite number or 13 is prime. %
\item{}13 is my favorite number and 13 is prime. %
\item{}7 is my favorite number and 13 is not prime. %
\item{}13 is my favorite number or 13 is not my favorite number. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1319-back}{5}}{}{}{p:exercise:UyL}%
In my safe is a sheet of paper with two shapes drawn on it in colored crayon. One is a square, and the other is a triangle. Each shape is drawn in a single color. Suppose you believe me when I tell you that \emph{if the square is blue, then the triangle is green}. What do you therefore know about the truth value of the following statements?%
\begin{enumerate}[label=(\alph*)]
\item{}The square and the triangle are both blue. %
\item{}The square and the triangle are both green. %
\item{}If the triangle is not green, then the square is not blue. %
\item{}If the triangle is green, then the square is blue. %
\item{}The square is not blue or the triangle is green. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1435-back}{6}}{}{}{p:exercise:AFU}%
Again, suppose the statement ``if the square is blue, then the triangle is green'' is true. This time however, assume the converse is false. Classify each statement below as true or false (if possible).%
\begin{enumerate}[label=(\alph*)]
\item{}The square is blue if and only if the triangle is green. %
\item{}The square is blue if and only if the triangle is not green. %
\item{}The square is blue. %
\item{}The triangle is green. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1575-back}{7}}{}{}{p:exercise:gNd}%
Consider the statement, ``If you will give me a cow, then I will give you magic beans.'' Decide whether each statement below is the converse, the contrapositive, or neither.%
\begin{enumerate}[label=(\alph*)]
\item{}If you will give me a cow, then I will not give you magic beans. %
\item{}If I will not give you magic beans, then you will not give me a cow. %
\item{}If I will give you magic beans, then you will give me a cow. %
\item{}If you will not give me a cow, then I will not give you magic beans. %
\item{}You will give me a cow and I will not give you magic beans. %
\item{}If I will give you magic beans, then you will not give me a cow. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:MUm}%
Consider the statement ``If Oscar eats Chinese food, then he drinks milk.''%
\begin{enumerate}[label=(\alph*)]
\item{}Write the converse of the statement.%
\item{}Write the contrapositive of the statement.%
\item{}Is it possible for the contrapositive to be false? If it was, what would that tell you?%
\item{}Suppose the original statement is true, and that Oscar drinks milk. Can you conclude anything (about his eating Chinese food)? Explain.%
\item{}Suppose the original statement is true, and that Oscar does not drink milk. Can you conclude anything (about his eating Chinese food)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1779-back}{9}}{}{}{p:exercise:tbv}%
You have discovered an old paper on graph theory that discusses the \emph{viscosity} of a graph (which for all you know, is something completely made up by the author). A theorem in the paper claims that ``if a graph satisfies \emph{condition (V)}, then the graph is \emph{viscous}.'' Which of the following are equivalent ways of stating this claim? Which are equivalent to the \emph{converse} of the claim?%
\begin{enumerate}[label=(\alph*)]
\item{}A graph is viscous only if it satisfies condition (V). %
\item{}A graph is viscous if it satisfies condition (V). %
\item{}For a graph to be viscous, it is necessary that it satisfies condition (V). %
\item{}For a graph to be viscous, it is sufficient for it to satisfy condition (V). %
\item{}Satisfying condition (V) is a sufficient condition for a graph to be viscous. %
\item{}Satisfying condition (V) is a necessary condition for a graph to be viscous. %
\item{}Every viscous graph satisfies condition (V). %
\item{}Only viscous graphs satisfy condition (V). %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:fHK-back}{10}}{}{}{p:exercise:ZiE}%
Write each of the following statements in the form, ``if \textellipsis{}, then \textellipsis{}.'' Careful, some of the statements might be false (which is alright for the purposes of this question).%
\begin{enumerate}[label=(\alph*)]
\item{}To lose weight, you must exercise.%
\item{}To lose weight, all you need to do is exercise.%
\item{}Every American is patriotic.%
\item{}You are patriotic only if you are American.%
\item{}The set of rational numbers is a subset of the real numbers.%
\item{}A number is prime if it is not even.%
\item{}Either the Broncos will win the Super Bowl, or they won't play in the Super Bowl.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:FpN}%
Which of the following statements are equivalent to the implication, ``if you win the lottery, then you will be rich,'' and which are equivalent to the converse of the implication?%
\begin{enumerate}[label=(\alph*)]
\item{}Either you win the lottery or else you are not rich.%
\item{}Either you don't win the lottery or else you are rich.%
\item{}You will win the lottery and be rich.%
\item{}You will be rich if you win the lottery.%
\item{}You will win the lottery if you are rich.%
\item{}It is necessary for you to win the lottery to be rich.%
\item{}It is sufficient to win the lottery to be rich.%
\item{}You will be rich only if you win the lottery.%
\item{}Unless you win the lottery, you won't be rich.%
\item{}If you are rich, you must have won the lottery.%
\item{}If you are not rich, then you did not win the lottery.%
\item{}You will win the lottery if and only if you are rich.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm1940-back}{12}}{}{}{p:exercise:lwW}%
Let \(P(x)\) be the predicate, ``\(3x+1\) is even.''%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(P(5)\) true or false? %
\item{}What, if anything, can you conclude about \(\exists x P(x)\) from the truth value of \(P(5)\text{?}\)%
\item{}What, if anything, can you conclude about \(\forall x P(x)\) from the truth value of \(P(5)\text{?}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:REf}%
Let \(P(x)\) be the predicate, ``\(4x+1\) is even.''%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(P(5)\) true or false? %
\item{}What, if anything, can you conclude about \(\exists x P(x)\) from the truth value of \(P(5)\text{?}\)%
\item{}What, if anything, can you conclude about \(\forall x P(x)\) from the truth value of \(P(5)\text{?}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm2107-back}{14}}{}{}{p:exercise:xLo}%
For a given predicate \(P(x)\text{,}\) you might believe that the statements \(\forall x P(x)\) or \(\exists x P(x)\) are either true or false. How would you decide if you were correct in each case?  You have four choices: you could give an example of an element \(n\) in the domain for which \(P(n)\) is true or for which \(P(n)\) if false, or you could argue that no matter what \(n\) is, \(P(n)\) is true or is false.%
\begin{enumerate}[label=(\alph*)]
\item{}What would you need to do to prove \(\forall x P(x)\) is true?%
\item{}What would you need to do to prove \(\forall x P(x)\) is false?%
\item{}What would you need to do to prove \(\exists x P(x)\) is true?%
\item{}What would you need to do to prove \(\exists x P(x)\) is false?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm2295-back}{15}}{}{}{p:exercise:dSx}%
Suppose \(P(x,y)\) is some binary predicate defined on a very small domain of discourse: just the integers 1, 2, 3, and 4. For each of the 16 pairs of these numbers, \(P(x,y)\) is either true or false, according to the following table (\(x\) values are rows, \(y\) values are columns).%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
{\centering%
{\tabularfont%
\begin{tabular}{lllll}
\multicolumn{1}{rA}{}&1&2&3&4\tabularnewline\hrulethin
\multicolumn{1}{rA}{1}&T&F&F&F\tabularnewline[0pt]
\multicolumn{1}{rA}{2}&F&T&T&F\tabularnewline[0pt]
\multicolumn{1}{rA}{3}&T&T&T&T\tabularnewline[0pt]
\multicolumn{1}{rA}{4}&F&F&F&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
For example, \(P(1,3)\) is false, as indicated by the F in the first row, third column.%
\par\medskip
Use the table to decide whether the following statements are true or false.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\forall x \exists y P(x,y)\text{.}\) %
\item{}\(\forall y \exists x P(x,y)\text{.}\) %
\item{}\(\exists x \forall y P(x,y)\text{.}\) %
\item{}\(\exists y \forall x P(x,y)\text{.}\) %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Eku-back}{16}}{}{}{p:exercise:JZG}%
Translate into symbols. Use \(E(x)\) for ``\(x\) is even'' and \(O(x)\) for ``\(x\) is odd.''%
\begin{enumerate}[label=(\alph*)]
\item{}No number is both even and odd.%
\item{}One more than any even number is an odd number.%
\item{}There is prime number that is even.%
\item{}Between any two numbers there is a third number.%
\item{}There is no number between a number and one more than that number.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:krD-back}{17}}{}{}{p:exercise:qgP}%
Translate into English:%
\begin{enumerate}[label=(\alph*)]
\item{}\(\forall x (E(x) \imp E(x +2))\).%
\item{}\(\forall x \exists y (\sin(x) = y)\).%
\item{}\(\forall y \exists x (\sin(x) = y)\).%
\item{}\(\forall x \forall y (x^3 = y^3 \imp x = y)\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:QyM-back}{18}}{}{}{p:exercise:WnY}%
Suppose \(P(x)\) is some predicate for which the statement \(\forall x P(x)\) is true. Is it also the case that \(\exists x P(x)\) is true? In other words, is the statement \(\forall x P(x) \imp \exists x P(x)\) always true? Is the converse always true?  Assume the domain of discourse is non-empty.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:wFV-back}{19}}{}{}{p:exercise:Cvh}%
For each of the statements below, give a domain of discourse for which the statement is true, and a domain for which the statement is false.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\forall x \exists y (y^2 = x)\).%
\item{}\(\forall x \forall y (x \lt y \imp \exists z (x \lt z \lt y))\).%
\item{}\(\exists x \forall y \forall z (y \lt z \imp y \le x \le z)\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{20}{}{}{p:exercise:iCq}%
Consider the statement, ``For all natural numbers \(n\), if \(n\) is prime, then \(n\) is solitary.'' You do not need to know what \emph{solitary} means for this problem, just that it is a property that some numbers have and others do not.%
\begin{enumerate}[label=(\alph*)]
\item{}Write the converse and the contrapositive of the statement, saying which is which. Note: the original statement claims that an implication is true for all \(n\), and it is that implication that we are taking the converse and contrapositive of.%
\item{}Write the negation of the original statement. What would you need to show to prove that the statement is false?%
\item{}Even though you don't know whether 10 is solitary (in fact, nobody knows this), is the statement ``if 10 is prime, then 10 is solitary'' true or false? Explain.%
\item{}It turns out that 8 is solitary. Does this tell you anything about the truth or falsity of the original statement, its converse or its contrapositive? Explain.%
\item{}Assuming that the original statement is true, what can you say about the relationship between the \emph{set} \(P\) of prime numbers and the \emph{set} \(S\) of solitary numbers. Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 0.3 Sets}
\typeout{************************************************}
%
\begin{sectionptx}{Sets}{}{Sets}{}{}{x:section:sec_intro-sets}
\begin{introduction}{}%
The most fundamental objects we will use in our studies (and really in all of math) are \emph{sets}. Much of what follows might be review, but it is very important that you are fluent in the language of set theory. Most of the notation we use below is standard, although some might be a little different than what you have seen before.%
\par
For us, a \terminology{set} \index{set} will simply be an unordered collection of objects. Two examples: we could consider the set of all actors who have played \emph{The Doctor} on \emph{Doctor Who}, \index{Doctor Who} or the set of natural numbers between 1 and 10 inclusive. In the first case, Tom Baker is a element (or member) of the set, while Idris Elba, among many others, is not an element of the set. Also, the two examples are of different sets. Two sets are equal exactly if they contain the exact same elements. For example, the set containing all of the vowels in the declaration of independence is precisely the same set as the set of vowels in the word ``questionably'' (namely, all of them); we do not care about order or repetitions, just whether the element is in the set or not.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Notation}
\typeout{************************************************}
%
\begin{subsectionptx}{Notation}{}{Notation}{}{}{x:subsection:subsec_notation}
We need some notation to make talking about sets easier. Consider,%
\begin{equation*}
A = \{1, 2, 3\}\text{.}
\end{equation*}
%
\par
This is read, ``\(A\) is the set containing the elements 1, 2 and 3.'' We use curly braces ``\(\{,~~ \}\)'' to enclose elements of a set. Some more notation:%
\begin{equation*}
a \in \{a, b, c\}\text{.}
\end{equation*}
%
\par
The symbol ``\(\in\)'' is read ``is in'' or ``is an element of.'' Thus the above means that \(a\) is an element of the set containing the letters \(a\), \(b\), and \(c\). Note that this is a true statement. It would also be true to say that \(d\) is not in that set:%
\begin{equation*}
d \not\in \{a, b, c\}\text{.}
\end{equation*}
%
\par
Be warned: we write ``\(x \in A\)'' when we wish to express that one of the elements of the set \(A\) is \(x\). For example, consider the set,%
\begin{equation*}
A = \{1, b, \{x, y, z\}, \emptyset\}\text{.}
\end{equation*}
%
\par
This is a strange set, to be sure. It contains four elements: the number 1, the letter b, the set \(\{x,y,z\}\), and the empty set \(\emptyset = \{ \}\), the set containing no elements. Is \(x\) in \(A\)? The answer is no. None of the four elements in \(A\) are the letter \(x\), so we must conclude that \(x \notin A\). Similarly, consider the set \(B = \{1,b\}\). Even though the elements of \(B\) are elements of \(A\), we cannot say that the \emph{set} \(B\) is one of the elements of \(A\). Therefore \(B \notin A\). (Soon we will see that \(B\) is a \emph{subset} of \(A\), but this is different from being an \emph{element} of \(A\).)%
\par
We have described the sets above by listing their elements. Sometimes this is hard to do, especially when there are a lot of elements in the set (perhaps infinitely many). For instance, if we want \(A\) to be the set of all even natural numbers, would could write,%
\begin{equation*}
A = \{0, 2, 4, 6, \ldots\}\text{,}
\end{equation*}
but this is a little imprecise. A better way would be%
\begin{equation*}
A = \{x \in \N \st \exists n\in \N ( x = 2 n)\}\text{.}
\end{equation*}
%
\par
Let's look at this carefully.  First, there are some new symbols to digest: ``\(\N\)'' is the symbol usually used to denote that \terminology{natural numbers}, which we will take to be the set \(\{0, 1, 2, 3, \ldots\}\).   Next, the colon, ``:'', is read \emph{such that}; it separates the elements that are in the set from the condition that the elements in the set must satisfy. So putting this all together, we would read the set as, ``the set of all \(x\) in the natural numbers, such that there exists some \(n\) in the natural numbers for which \(x\) is twice \(n\).'' In other words, the set of all natural numbers, that are even.  Here is another way to write the same set.%
\begin{equation*}
A = \{x \in \N \st x\text{ is even} \}\text{.}
\end{equation*}
%
\par
Note: Sometimes mathematicians use \(|\) or \(\backepsilon\) for the ``such that'' symbol instead of the colon. Also, there is a fairly even split between mathematicians about whether \(0\) is an element of the natural numbers, so be careful there.%
\par
This notation is usually called \terminology{set builder notation}. It tells use how to \emph{build} a set by telling us precisely the condition elements must meet to gain access (the condition is the logical statement after the ``\(\st\)'' symbol).  Reading and comprehending sets written in this way takes practice. Here are some more examples:%
\begin{example}{}{p:example:Csh}%
Describe each of the following sets both in words and by listing out enough elements to see the pattern.%
\par
%
\begin{enumerate}
\item{}\(\{x \st x + 3 \in \N\}\).%
\item{}\(\{x \in \N \st x + 3 \in \N\}\).%
\item{}\(\{x \st x \in \N \vee -x \in \N\}\).%
\item{}\(\{x \st x \in \N \wedge -x \in \N\}\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:koD}{}~~%
%
\begin{enumerate}
\item{}This is the set of all numbers which are 3 less than a natural number (i.e., that if you add 3 to them, you get a natural number). The set could also be written as \(\{-3, -2, -1, 0, 1, 2, \ldots\}\) (note that 0 is a natural number, so \(-3\) is in this set because \(-3 + 3 = 0\)).%
\item{}This is the set of all natural numbers which are 3 less than a natural number. So here we just have \(\{0, 1, 2,3 \ldots\}\).%
\item{}This is the set of all integers \index{integers} (positive and negative whole numbers, written \(\Z\)). In other words, \(\{\ldots, -2, -1, 0, 1, 2, \ldots\}\).%
\item{}Here we want all numbers \(x\) such that \(x\) and \(-x\) are natural numbers. There is only one: 0. So we have the set \(\{0\}\).%
\end{enumerate}
%
\end{example}
There is also a subtle variation on set builder notation.  While the condition is generally given after the ``such that'', sometimes it is hidden in the first part.  Here is an example.%
\begin{example}{}{p:example:izq}%
List a few elements in the sets below and describe them in words.  The set \(\Z\) is the set of \terminology{integers}; positive and negative whole numbers.%
\begin{enumerate}
\item{}\(A = \{x \in \Z \st x^2 \in \N\}\)%
\item{}\(B = \{x^2 \st x \in \N\}\)%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:QvM}{}~~%
%
\begin{enumerate}
\item{}The set of integers that pass the condition that their square is a natural number.  Well, every integer, when you square it, gives you a non-negative integer, so a natural number.  Thus \(A = \Z = \{\ldots, -2, -1, 0, 1, 2, 3, \ldots\}\).%
\item{}Here we are looking for the set of all \(x^2\)s where \(x\) is a natural number.  So this set is simply the set of perfect squares.  \(B = \{0, 1, 4, 9, 16, \ldots\}\).%
\par
Another way we could have written this set, using more strict set builder notation, would be as \(B = \{x \in \N \st x = n^2 \text{ for some } n \in \N\}\).%
\end{enumerate}
%
\end{example}
We already have a lot of notation, and there is more yet. Below is a handy chart of symbols. Some of these will be discussed in greater detail as we move forward.%
\begin{assemblage}{Special sets.}{p:assemblage:qdP}%
%
\begin{description}
\item[{\(\emptyset\)}]The \terminology{empty set} is the set which contains no elements. \label{g:notation:idm2608}\index{empty set}%
\item[{\(\U\)}]The \terminology{universe set} is the set of all elements. \label{g:notation:idm2618}%
\item[{\(\N\)}]The set of natural numbers. That is, \(\N = \{0, 1, 2, 3\ldots\}\). \label{g:notation:idm2626}\index{natural numbers}%
\item[{\(\Z\)}]The set of integers. That is, \(\Z = \{\ldots, -2, -1, 0, 1, 2, 3, \ldots\}\). \index{integers}\label{g:notation:idm2638}%
\item[{\(\Q\)}]The set of rational numbers. \label{g:notation:idm2645}\index{rationals}%
\item[{\(\R\)}]The set of real numbers. \label{g:notation:idm2654}\index{reals}%
\item[{\(\pow(A)\)}]The \terminology{power set} of any set \(A\) is the set of all subsets of \(A\). \index{power set}\label{g:notation:idm2668}%
\end{description}
%
\end{assemblage}
\begin{assemblage}{Set Theory Notation.}{p:assemblage:WkY}%
%
\begin{description}
\item[{\(\{, \}\)}]We use these \terminology{braces} to enclose the elements of a set. So \(\{1,2,3\}\) is the set containing 1, 2, and 3. \label{g:notation:idm2682}%
\item[{\(\st\)}]\(\{x \st x > 2\}\) is the set of all \(x\) \terminology{such that} \(x\) is greater than 2. \label{g:notation:idm2693}%
\item[{\(\in\)}]\(2 \in \{1,2,3\}\) asserts that 2 is \terminology{an element of} the set \(\{1,2,3\}\). \label{g:notation:idm2704}%
\item[{\(\not\in\)}]\(4 \notin \{1,2,3\}\) because 4 \terminology{is not an element of} the set \(\{1,2,3\}\).%
\item[{\(\subseteq\)}]\(A \subseteq B\) asserts that \terminology{\(A\) is a subset of \(B\)}: every element of \(A\) is also an element of \(B\). \label{g:notation:idm2725}%
\item[{\(\subset\)}]\(A \subset B\) asserts that \terminology{\(A\) is a proper subset of \(B\)}: every element of \(A\) is also an element of \(B\), but \(A \ne B\). \label{g:notation:idm2740}%
\item[{\(\cap\)}]\(A \cap B\) is the \terminology{intersection of \(A\) and \(B\)}: the set containing all elements which are elements of both \(A\) and \(B\). \label{g:notation:idm2754}\index{intersection}%
\item[{\(\cup\)}]\(A \cup B\) is the \terminology{union of \(A\) and \(B\)}: is the set containing all elements which are elements of \(A\) or \(B\) or both. \label{g:notation:idm2769}\index{union}%
\item[{\(\times\)}]\(A \times B\) is the \terminology{Cartesian product of \(A\) and \(B\)}: the set of all ordered pairs \((a,b)\) with \(a \in A\) and \(b \in B\). \label{g:notation:idm2785}%
\item[{\(\setminus\)}]\(A \setminus B\) is \terminology{\(A\) set-minus \(B\)}: the set containing all elements of \(A\) which are not elements of \(B\). \label{g:notation:idm2798}%
\item[{\(\bar{A}\)}]The \terminology{complement of \(A\)} is the set of everything which is not an element of \(A\). \label{g:notation:idm2808}%
\item[{\(\card{A}\)}]The \terminology{cardinality (or size) of \(A\)} is the number of elements in \(A\). \label{g:notation:idm2819}\index{cardinality}%
\end{description}
%
\end{assemblage}
\begin{investigation}{}{p:investigation:OGz}%
%
\begin{enumerate}
\item{}Find the cardinality of each set below.%
\begin{enumerate}
\item{}\(A = \{3,4,\ldots, 15\}\).%
\item{}\(B = \{n \in \N \st 2 \lt n \le 200\}\).%
\item{}\(C = \{n \le 100 \st n \in \N \wedge \exists m \in \N (n = 2m+1)\}\).%
\end{enumerate}
%
\item{}Find two sets \(A\) and \(B\) for which \(|A| = 5\), \(|B| = 6\), and \(|A\cup B| = 9\). What is \(|A \cap B|\)?%
\item{}Find sets \(A\) and \(B\) with \(|A| = |B|\) such that \(|A\cup B| = 7\) and \(|A \cap B| = 3\). What is \(|A|\)?%
\item{}Let \(A = \{1,2,\ldots, 10\}\). Define \(\mathcal{B}_2 = \{B \subseteq A \st |B| = 2\}\). Find \(|\mathcal{B}_2|\).%
\item{}For any sets \(A\) and \(B\), define \(AB = \{ab \st a\in A \wedge b \in B\}\). If \(A = \{1,2\}\) and \(B = \{2,3,4\}\), what is \(|AB|\)? What is \(|A \times B|\)?%
\end{enumerate}
%
\end{investigation}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Relationships Between Sets}
\typeout{************************************************}
%
\begin{subsectionptx}{Relationships Between Sets}{}{Relationships Between Sets}{}{}{p:subsection:xIo}
We have already said what it means for two sets to be equal: they have exactly the same elements. Thus, for example,%
\begin{equation*}
\{1, 2, 3\} = \{2, 1, 3\}\text{.}
\end{equation*}
%
\par
(Remember, the order the elements are written down in does not matter.) Also,%
\begin{equation*}
\{1, 2, 3\} = \{1, 1+1, 1+1+1\} = \{I, II, III\} = \{1, 2, 3, 1+2\}
\end{equation*}
since these are all ways to write the set containing the first three positive integers (how we write them doesn't matter, just what they are).%
\par
What about the sets \(A = \{1, 2, 3\}\) and \(B = \{1, 2, 3, 4\}\)? Clearly \(A \ne B\), but notice that every element of \(A\) is also an element of \(B\). Because of this we say that \(A\) is a \emph{subset} \index{subset} of \(B\), or in symbols \(A \subset B\) or \(A \subseteq B\). Both symbols are read ``is a subset of.'' The difference is that sometimes we want to say that \(A\) is either equal to or is a subset of \(B\), in which case we use \(\subseteq\). This is analogous to the difference between \(\lt\) and \(\le\).%
\begin{example}{}{p:example:uNI}%
Let \(A = \{1, 2, 3, 4, 5, 6\}\), \(B = \{2, 4, 6\}\), \(C = \{1, 2, 3\}\) and \(D = \{7, 8, 9\}\). Determine which of the following are true, false, or meaningless.%
\par
%
\begin{multicols}{3}
\begin{enumerate}
\item{}\(A \subset B\).%
\item{}\(B \subset A\).%
\item{}\(B \in C\).%
\item{}\(\emptyset \in A\).%
\item{}\(\emptyset \subset A\).%
\item{}\(A \lt D\).%
\item{}\(3 \in C\).%
\item{}\(3 \subset C\).%
\item{}\(\{3\} \subset C\).%
\end{enumerate}
\end{multicols}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:wCV}{}~~%
%
\begin{enumerate}
\item{}False. For example, \(1\in A\) but \(1 \notin B\).%
\item{}True. Every element in \(B\) is an element in \(A\).%
\item{}False. The elements in \(C\) are 1, 2, and 3. The \emph{set} \(B\) is not equal to 1, 2, or 3.%
\item{}False. \(A\) has exactly 6 elements, and none of them are the empty set.%
\item{}True. Everything in the empty set (nothing) is also an element of \(A\). Notice that the empty set is a subset of every set.%
\item{}Meaningless. A set cannot be less than another set.%
\item{}True. \(3\) is one of the elements of the set \(C\).%
\item{}Meaningless. \(3\) is not a set, so it cannot be a subset of another set.%
\item{}True. \(3\) is the only element of the set \(\{3\}\), and is an element of \(C\), so every element in \(\{3\}\) is an element of \(C\).%
\end{enumerate}
%
\end{example}
In the example above, \(B\) is a subset of \(A\). You might wonder what other sets are subsets of \(A\). If you collect all these subsets of \(A\) into a new set, we get a set of sets. We call the set of all subsets of \(A\) the \terminology{power set} \index{power set} of \(A\), and write it \(\pow(A)\).%
\begin{example}{}{p:example:aUR}%
Let \(A = \{1,2,3\}\). Find \(\pow(A)\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:cKe}{}~~%
\(\pow(A)\) is a set of sets, all of which are subsets of \(A\). So%
\begin{equation*}
\pow(A) = \{ \emptyset, \{1\}, \{2\}, \{3\}, \{1,2\}, \{1, 3\}, \{2,3\}, \{1,2,3\}\}\text{.}
\end{equation*}
%
\par
Notice that while \(2 \in A\), it is wrong to write \(2 \in \pow(A)\) since none of the elements in \(\pow(A)\) are numbers! On the other hand, we do have \(\{2\} \in \pow(A)\) because \(\{2\} \subseteq A\).%
\par
What does a subset of \(\pow(A)\) look like? Notice that \(\{2\} \not\subseteq \pow(A)\) because not everything in \(\{2\}\) is in \(\pow(A)\). But we do have \(\{ \{2\} \} \subseteq \pow(A)\). The only element of \(\{\{2\}\}\) is the set \(\{2\}\) which is also an element of \(\pow(A)\). We could take the collection of all subsets of \(\pow(A)\) and call that \(\pow(\pow(A))\). Or even the power set of that set of sets of sets.%
\end{example}
Another way to compare sets is by their \emph{size}. Notice that in the example above, \(A\) has 6 elements and \(B\), \(C\), and \(D\) all have 3 elements. The size of a set is called the set's \terminology{cardinality} . \index{cardinality} We would write \(|A| = 6\), \(|B| = 3\), and so on. For sets that have a finite number of elements, the cardinality of the set is simply the number of elements in the set. Note that the cardinality of \(\{ 1, 2, 3, 2, 1\}\) is 3. We do not count repeats (in fact, \(\{1, 2, 3, 2, 1\}\) is exactly the same set as \(\{1, 2, 3\}\)). There are sets with infinite cardinality, such as \(\N\), the set of rational numbers (written \(\mathbb Q\)), the set of even natural numbers, and the set of real numbers (\(\mathbb R\)). It is possible to distinguish between different infinite cardinalities, but that is beyond the scope of this text. For us, a set will either be infinite, or finite; if it is finite, the we can determine its cardinality by counting elements.%
\begin{example}{}{p:example:Hca}%
%
\begin{enumerate}
\item{}Find the cardinality of \(A = \{23, 24, \ldots, 37, 38\}\).%
\item{}Find the cardinality of \(B = \{1, \{2, 3, 4\}, \emptyset\}\).%
\item{}If \(C = \{1,2,3\}\), what is the cardinality of \(\pow(C)\)?%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:IRn}{}~~%
%
\begin{enumerate}
\item{}Since \(38 - 23 = 15\), we can conclude that the cardinality of the set is \(|A| = 16\) (you need to add one since 23 is included).%
\item{}Here \(|B| = 3\). The three elements are the number 1, the set \(\{2,3,4\}\), and the empty set.%
\item{}We wrote out the elements of the power set \(\pow(C)\) above, and there are 8 elements (each of which is a set). So \(\card{\pow(C)} = 8\). (You might wonder if there is a relationship between \(\card{A}\) and \(\card{\pow(A)}\) for all sets \(A\). This is a good question which we will return to in \hyperref[x:chapter:ch_counting]{Chapter~\ref{x:chapter:ch_counting}}.)%
\end{enumerate}
%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Operations On Sets}
\typeout{************************************************}
%
\begin{subsectionptx}{Operations On Sets}{}{Operations On Sets}{}{}{p:subsection:dPx}
Is it possible to add two sets? Not really, however there is something similar. If we want to combine two sets to get the collection of objects that are in either set, then we can take the \terminology{union} \index{union} of the two sets. Symbolically,%
\begin{equation*}
C = A \cup B\text{,}
\end{equation*}
read, ``\(C\) is the union of \(A\) and \(B\),'' means that the elements of \(C\) are exactly the elements which are either an element of \(A\) or an element of \(B\) (or an element of both). For example, if \(A = \{1, 2, 3\}\) and \(B = \{2, 3, 4\}\), then \(A \cup B = \{1, 2, 3, 4\}\).%
\par
The other common operation on sets is \terminology{intersection}. \index{intersection} We write,%
\begin{equation*}
C = A \cap B
\end{equation*}
and say, ``\(C\) is the intersection of \(A\) and \(B\),'' when the elements in \(C\) are precisely those both in \(A\) and in \(B\). So if \(A = \{1, 2, 3\}\) and \(B = \{2, 3, 4\}\), then \(A \cap B = \{2, 3\}\).%
\par
Often when dealing with sets, we will have some understanding as to what ``everything'' is. Perhaps we are only concerned with natural numbers. In this case we would say that our \terminology{universe} is \(\N\). Sometimes we denote this universe by \(\U\). Given this context, we might wish to speak of all the elements which are \emph{not} in a particular set. We say \(B\) is the \terminology{complement} \index{complement} of \(A\), and write,%
\begin{equation*}
B = \bar A
\end{equation*}
when \(B\) contains every element not contained in \(A\). So, if our universe is \(\{1, 2,\ldots, 9, 10\}\), and \(A = \{2, 3, 5, 7\}\), then \(\bar A = \{1, 4, 6, 8, 9,10\}\).%
\par
Of course we can perform more than one operation at a time. For example, consider%
\begin{equation*}
A \cap \bar B\text{.}
\end{equation*}
%
\par
This is the set of all elements which are both elements of \(A\) and not elements of \(B\). What have we done? We've started with \(A\) and removed all of the elements which were in \(B\). Another way to write this is the \terminology{set difference}: \index{set difference}\index{difference, of sets}%
\begin{equation*}
A \cap \bar B = A \setminus B\text{.}
\end{equation*}
%
\par
It is important to remember that these operations (union, intersection, complement, and difference) on sets produce other sets. Don't confuse these with the symbols from the previous section (element of and subset of). \(A \cap B\) is a set, while \(A \subseteq B\) is true or false. This is the same difference as between \(3 + 2\) (which is a number) and \(3 \le 2\) (which is false).%
\begin{example}{}{p:example:njj}%
Let \(A = \{1, 2, 3, 4, 5, 6\}\), \(B = \{2, 4, 6\}\), \(C = \{1, 2, 3\}\) and \(D = \{7, 8, 9\}\). If the universe is \(\U = \{1, 2, \ldots, 10\}\), find:%
\begin{multicols}{3}
\begin{enumerate}
\item{}\(A \cup B\).%
\item{}\(A \cap B\).%
\item{}\(B \cap C\).%
\item{}\(A \cap D\).%
\item{}\(\bar{B \cup C}\).%
\item{}\(A \setminus B\).%
\item{}\((D \cap \bar C) \cup \bar{A \cap B}\).%
\item{}\(\emptyset \cup C\).%
\item{}\(\emptyset \cap C\).%
\end{enumerate}
\end{multicols}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:oYw}{}~~%
%
\begin{enumerate}
\item{}\(A \cup B = \{1, 2, 3, 4, 5, 6\} = A\) since everything in \(B\) is already in \(A\).%
\item{}\(A \cap B = \{2, 4, 6\} = B\) since everything in \(B\) is in \(A\).%
\item{}\(B \cap C = \{2\}\) as the only element of both \(B\) and \(C\) is 2.%
\item{}\(A \cap D = \emptyset\) since \(A\) and \(D\) have no common elements.%
\item{}\(\bar{B \cup C} = \{5, 7, 8, 9, 10\}\). First we find that \(B \cup C = \{1, 2, 3, 4, 6\}\), then we take everything not in that set.%
\item{}\(A \setminus B = \{1, 3, 5\}\) since the elements 1, 3, and 5 are in \(A\) but not in \(B\). This is the same as \(A \cap \bar B\).%
\item{}\((D \cap \bar C) \cup \bar{A \cap B} = \{1, 3, 5, 7, 8, 9, 10\}\). The set contains all elements that are either in \(D\) but not in \(C\) (i.e., \(\{7,8,9\}\)), or not in both \(A\) and \(B\) (i.e., \(\{1,3,5,7,8,9,10\}\)).%
\item{}\(\emptyset \cup C = C\) since nothing is added by the empty set.%
\item{}\(\emptyset \cap C = \emptyset\) since nothing can be both in a set and in the empty set.%
\end{enumerate}
%
\end{example}
Having notation like this is useful.  We will often want to add or remove elements from sets, and our notation allows us to do so precisely.%
\begin{example}{}{p:example:Tqs}%
If \(A = \{1,2,3\}\), then we can describe the set we get by adding the number 4 as \(A \cup \{4\}\).  If we want to express the set we get by removing the number 2 from \(A\) we can do so by writing \(A \setminus \{2\}\).%
\par
Careful though.  If you add an element to the set, you get a new set!  So you would have \(B = A \cup \{4\}\) and then correctly say that \(B\) contains 4, but \(A\) does not.%
\end{example}
You might notice that the symbols for union and intersection slightly resemble the logic symbols for ``or'' and ``and.'' This is no accident. What does it mean for \(x\) to be an element of \(A\cup B\)? It means that \(x\) is an element of \(A\) \emph{or} \(x\) is an element of \(B\) (or both). That is,%
\begin{equation*}
x \in A \cup B \qquad \Iff \qquad x \in A \vee x \in B\text{.}
\end{equation*}
%
\par
Similarly,%
\begin{equation*}
x \in A \cap B \qquad \Iff \qquad x \in A \wedge x \in B\text{.}
\end{equation*}
%
\par
Also,%
\begin{equation*}
x \in \bar A \qquad \Iff \qquad \neg (x \in A)\text{.}
\end{equation*}
which says \(x\) is an element of the complement of \(A\) if \(x\) is not an element of \(A\).%
\par
There is one more way to combine sets which will be useful for us: the \terminology{Cartesian product}, \index{Cartesian product} \(A \times B\). \label{g:notation:idm3213} This sounds fancy but is nothing you haven't seen before. When you graph a function in calculus, you graph it in the Cartesian plane. This is the set of all ordered pairs of real numbers \((x,y)\). We can do this for \emph{any} pair of sets, not just the real numbers with themselves.%
\par
Put another way, \(A \times B = \{(a,b) \st a \in A \wedge b \in B\}\). The first coordinate comes from the first set and the second coordinate comes from the second set. Sometimes we will want to take the Cartesian product of a set with itself, and this is fine: \(A \times A = \{(a,b) \st a, b \in A\}\) (we might also write \(A^2\) for this set). Notice that in \(A \times A\), we still want \emph{all} ordered pairs, not just the ones where the first and second coordinate are the same. We can also take products of 3 or more sets, getting ordered triples, or quadruples, and so on.%
\begin{example}{}{p:example:zxB}%
Let \(A = \{1,2\}\) and \(B = \{3,4,5\}\). Find \(A \times B\) and \(A \times A\). How many elements do you expect to be in \(B \times B\)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:VfF}{}~~%
\(A \times B = \{(1,3), (1,4), (1,5), (2,3), (2,4), (2,5)\}\).%
\par
\(A \times A = A^2 = \{(1,1), (1,2), (2,1), (2,2)\}\).%
\par
\(|B\times B| = 9\). There will be 3 pairs with first coordinate \(3\), three more with first coordinate \(4\), and a final three with first coordinate \(5\).%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Venn Diagrams}
\typeout{************************************************}
%
\begin{subsectionptx}{Venn Diagrams}{}{Venn Diagrams}{}{}{p:subsection:JWG}
There is a very nice visual tool we can use to represent operations on sets. A \terminology{Venn diagram} displays sets as intersecting circles. \index{Venn diagram} We can shade the region we are talking about when we carry out an operation. We can also represent cardinality of a particular set by putting the number in the corresponding region.%
\begin{sidebyside}{2}{0.08}{0.08}{0.16}%
\begin{sbspanel}{0.34}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[fill=gray!50,scale=0.85]
 \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.34}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=.60, fill=gray!50]
 \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Each circle represents a set. The rectangle containing the circles represents the universe. To represent combinations of these sets, we shade the corresponding region. For example, we could draw \(A \cap B\) as:%
\begin{sidebyside}{1}{0.33}{0.33}{0}%
\begin{sbspanel}{0.34}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}[fill=gray!50,scale=0.85]
	\begin{scope}
	\clip \circleA;
	\fill \circleB;
	\end{scope}
 \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Here is a representation of \(A \cap \bar B\), or equivalently \(A \setminus B\):%
\begin{sidebyside}{1}{0.33}{0.33}{0}%
\begin{sbspanel}{0.34}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}[fill=gray!50,scale=0.85]
	\begin{scope}
	\clip \twosetbox \circleB;
	\fill \circleA;
	\end{scope}
 \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
A more complicated example is \((B \cap C) \cup (C \cap \bar A)\), as seen below.%
\begin{sidebyside}{1}{0.37}{0.37}{0}%
\begin{sbspanel}{0.26}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}[fill=gray!50,scale=0.65]
	\fill \circleC;
	\begin{scope}
	    \clip \circleC;
	    \fill[white] \circleA \circleB;
	  \end{scope}
	  \begin{scope}
	  	\clip \circleC;
	  	\fill \circleB;
	  \end{scope}
 \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Notice that the shaded regions above could also be arrived at in another way. We could have started with all of \(C\), then excluded the region where \(C\) and \(A\) overlap outside of \(B\). That region is \((A \cap C) \cap \bar B\). So the above Venn diagram also represents \(C \cap \bar{\left((A\cap C)\cap \bar B\right)}\). So using just the picture, we have determined that%
\begin{equation*}
(B \cap C) \cup (C \cap \bar A) = C \cap \bar{\left((A\cap C)\cap \bar B\right)}\text{.}
\end{equation*}
%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_intro-sets}
\begin{divisionexercise}{\hyperlink{g:solution:idm3364-back}{1}}{}{}{p:exercise:AUc}%
Let \(A = \{1, 4, 9\}\) and \(B = \{1, 3, 6, 10\}\text{.}\) Find each of the following sets.%
\begin{enumerate}[label=(\alph*)]
\item{}\(A \cup B\text{.}\)%
\item{}\(A \cap B\text{.}\)%
\item{}\(A \setminus B\text{.}\)%
\item{}\(B \setminus A\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3472-back}{2}}{}{}{p:exercise:hbl}%
Find the least element of each of the following sets, if there is one.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\{n \in \N \st n^2 - 3 \ge 2\}\text{.}\)%
\item{}\(\{n \in \N \st n^2 - 5 \in \N\}\text{.}\)%
\item{}\(\{n^2+1 \st n \in \N\}\text{.}\)%
\item{}\(\{n \in \N \st n = k^2 + 1 \text{ for some } k \in \N\}\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3571-back}{3}}{}{}{p:exercise:Niu}%
Find the following cardinalities:%
\begin{enumerate}[label=(\alph*)]
\item{}\(|A|\) when \(A = \{4,5,6,\ldots,37\}\text{.}\)%
\item{}\(|A|\) when \(A = \{x \in \Z \st -2 \le x \le 100\}\text{.}\)%
\item{}\(|A \cap B|\) when \(A = \{x \in \N \st x \le 20\}\) and \(B = \{x \in \N \st x \mbox{ is prime} \}\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3612-back}{4}}{}{}{p:exercise:tpD}%
Find a set of largest possible size that is a subset of both \(\{1, 2, 3, 4, 5\}\) and \(\{2, 4, 6, 8,10\}\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3644-back}{5}}{}{}{p:exercise:ZwM}%
Find a set of smallest possible size that has both \(\{1,2,3,4,5\}\) and \(\{2,4,6,8,10\}\) as subsets.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3677-back}{6}}{}{}{p:exercise:FDV}%
Let \(A = \{n \in \N \st 20 \le n \lt 50\}\) and \(B = \{n \in \N \st 10 \lt n \le 30\}\text{.}\) Suppose \(C\) is a set such that \(C \subseteq A\) and \(C \subseteq B\text{.}\) What is the largest possible cardinality of \(C\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm3718-back}{7}}{}{}{p:exercise:lLe}%
Let \(A = \{1,2,3,4,5\}\) and \(B = \{2, 3, 4\}\text{.}\) How many sets \(C\) have the property that \(C \subseteq A\) and \(B \subseteq C\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3819-back}{8}}{}{}{p:exercise:RSn}%
Let \(A = \{1,2,3,4,5\}\text{,}\) \(B = \{3,4,5,6,7\}\text{,}\) and \(C = \{2,3,5\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Find \(A \cap B\text{.}\)%
\item{}Find \(A \cup B\text{.}\)%
\item{}Find \(A \setminus B\text{.}\)%
\item{}Find \(A \cap \overline{(B \cup C)}\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm3896-back}{9}}{}{}{p:exercise:xZw}%
Let \(A = \{x \in \N \st 4 \le x \lt 12\}\) and \(B = \{x \in \N \st x \text{ is even}\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Find \(A \cap B\text{.}\)%
\item{}Find \(A \setminus B\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:egF}%
Let \(A = \{x \in \N \st 3 \le x \le 13\}\), \(B = \{x \in \N \st x \mbox{ is even} \}\), and \(C = \{x \in \N \st x \mbox{ is odd} \}\).%
\begin{enumerate}[label=(\alph*)]
\item{}Find \(A \cap B\).%
\item{}Find \(A \cup B\).%
\item{}Find \(B \cap C\).%
\item{}Find \(B \cup C\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:muY-back}{11}}{}{}{p:exercise:KnO}%
Find an example of sets \(A\) and \(B\) such that \(A\cap B = \{3, 5\}\) and \(A \cup B = \{2, 3, 5, 7, 8\}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:SCh-back}{12}}{}{}{p:exercise:quX}%
Find an example of sets \(A\) and \(B\) such that \(A \subseteq B\) and \(A \in B\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:yJq-back}{13}}{}{}{p:exercise:WCg}%
Recall \(\Z = \{\ldots,-2,-1,0, 1,2,\ldots\}\) (the integers). Let \(\Z^+ = \{1, 2, 3, \ldots\}\) be the positive integers. Let \(2\Z\) be the even integers, \(3\Z\) be the multiples of 3, and so on.%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(\Z^+ \subseteq 2\Z\)? Explain.%
\item{}Is \(2\Z \subseteq \Z^+\)? Explain.%
\item{}Find \(2\Z \cap 3\Z\). Describe the set in words, and using set notation.%
\item{}Express \(\{x \in \Z \st \exists y\in \Z (x = 2y \vee x = 3y)\}\) as a union or intersection of two sets already described in this problem.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:eQz-back}{14}}{}{}{p:exercise:CJp}%
Let \(A_2\) be the set of all multiples of 2 except for \(2\). Let \(A_3\) be the set of all multiples of 3 except for 3. And so on, so that \(A_n\) is the set of all multiples of \(n\) except for \(n\), for any \(n \ge 2\). Describe (in words) the set \(\bar{A_2 \cup A_3 \cup A_4 \cup \cdots}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:KXI-back}{15}}{}{}{p:exercise:iQy}%
Draw a Venn diagram to represent each of the following:%
\begin{enumerate}[label=(\alph*)]
\item{}\(\displaystyle A \cup \bar B\)%
\item{}\(\displaystyle \bar{(A \cup B)}\)%
\item{}\(\displaystyle A \cap (B \cup C)\)%
\item{}\(\displaystyle (A \cap B) \cup C\)%
\item{}\(\displaystyle \bar A \cap B \cap \bar C\)%
\item{}\(\displaystyle (A \cup B) \setminus C\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{16}{}{}{p:exercise:OXH}%
Describe a set in terms of \(A\) and \(B\) (using set notation) which has the following Venn diagram:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[fill=gray!50, scale=0.5]
\scope
\clip (-2,-2) rectangle (2,2)
    (1,0) circle (1);
\fill (0,0) circle (1);
\endscope
\scope
\clip (-2,-2) rectangle (2,2)
    (0,0) circle (1);
\fill (1,0) circle (1);
\endscope
\draw[thick] (0,0) circle (1) (-1,.7)  node [text=black,above] {\(A\)}
    (1,0) circle (1) (2,.7)  node [text=black,above] {\(B\)}
    (-1.5,-1.5) rectangle (2.5,1.5);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Xma-back}{17}}{}{}{p:exercise:veQ}%
Let \(A = \{a, b, c, d\}\). Find \(\pow(A)\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm4106-back}{18}}{}{}{p:exercise:blZ}%
Let \(A = \{1,2,\ldots, 10\}\text{.}\) How many subsets of \(A\) contain exactly one element (i.e., how many singleton subsets are there)?%
\par
How many doubleton subsets (containing exactly two elements) are there?%
\end{divisionexercise}%
\begin{divisionexercise}{19}{}{}{p:exercise:Hti}%
Let \(A = \{1,2,3,4,5,6\}\). Find all sets \(B \in \pow(A)\) which have the property \(\{2,3,5\} \subseteq B\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:jAs-back}{20}}{}{}{p:exercise:nAr}%
Find an example of sets \(A\) and \(B\) such that \(|A| = 4\), \(|B| = 5\), and \(|A \cup B| = 9\).%
\end{divisionexercise}%
\begin{divisionexercise}{21}{}{}{p:exercise:THA}%
Find an example of sets \(A\) and \(B\) such that \(|A| = 3\), \(|B| = 4\), and \(|A \cup B| = 5\).%
\end{divisionexercise}%
\begin{divisionexercise}{22}{}{}{p:exercise:zOJ}%
Are there sets \(A\) and \(B\) such that \(|A| = |B|\), \(|A\cup B| = 10\), and \(|A\cap B| = 5\)? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{23}{}{}{p:exercise:fVS}%
Let \(A = \{2, 4, 6, 8\}\text{.}\) Suppose \(B\) is a set with \(|B| = 5\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}What are the smallest and largest possible values of \(|A \cup B|\text{?}\) Explain.%
\item{}What are the smallest and largest possible values of \(|A \cap B|\text{?}\) Explain.%
\item{}What are the smallest and largest possible values of \(|A \times B|\text{?}\) Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{24}{}{}{p:exercise:Mdb}%
Let \(X = \{n \in \N \st 10 \le n \lt 20\}\). Find examples of sets with the properties below and very briefly explain why your examples work.%
\begin{enumerate}[label=(\alph*)]
\item{}A set \(A \subseteq \N\) with \(|A| = 10\) such that \(X \setminus A = \{10, 12, 14\}\).%
\item{}A set \(B \in \pow(X)\) with \(|B| = 5\).%
\item{}A set \(C \subseteq \pow(X)\) with \(|C| = 5\).%
\item{}A set \(D \subseteq X \times X\) with \(|D| = 5\)%
\item{}A set \(E \subseteq X\) such that \(|E| \in E\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{25}{}{}{p:exercise:skk}%
Let \(A\), \(B\) and \(C\) be sets.%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose that \(A \subseteq B\) and \(B \subseteq C\). Does this mean that \(A \subseteq C\)? Prove your answer. Hint: to prove that \(A \subseteq C\) you must prove the implication, ``for all \(x\), if \(x \in A\) then \(x \in C\).''%
\item{}Suppose that \(A \in B\) and \(B \in C\). Does this mean that \(A \in C\)? Give an example to prove that this does NOT always happen (and explain why your example works). You should be able to give an example where \(|A| = |B| = |C| = 2\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{26}{}{}{p:exercise:Yrt}%
In a regular deck of playing cards there are 26 red cards and 12 face cards. Explain, using sets and what you have learned about cardinalities, why there are only 32 cards which are either red or a face card.%
\end{divisionexercise}%
\begin{divisionexercise}{27}{}{}{p:exercise:EyC}%
Find an example of a set \(A\) with \(|A| = 3\) which contains only other sets and has the following property: for all sets \(B \in A\), we also have \(B \subseteq A\). Explain why your example works. (FYI: sets that have this property are called \terminology{transitive}.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PHB-back}{28}}{}{}{p:exercise:kFL}%
Consider the sets \(A\) and \(B\), where \(A = \{3, |B|\}\) and \(B = \{1, |A|, |B|\}\).  What are the sets?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vOK-back}{29}}{}{}{p:exercise:QMU}%
Explain why there is no set \(A\) which satisfies \(A = \{2, \card{A}\}\).%
\end{divisionexercise}%
\begin{divisionexercise}{30}{}{}{p:exercise:wUd}%
Find all sets \(A\), \(B\), and \(C\) which satisfy the following.%
\begin{align*}
A = \amp \{1, \card{B}, \card{C}\}\\
B = \amp \{2, \card{A}, \card{C}\}\\
C = \amp \{1, 2, \card{A}, \card{B}\}\text{.}
\end{align*}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 0.4 Functions}
\typeout{************************************************}
%
\begin{sectionptx}{Functions}{}{Functions}{}{}{x:section:sec_intro-functions}
\(\textit{}\)\begin{introduction}{}%
A \terminology{function} \index{function} is a rule that assigns each input exactly one output. We call the output the \terminology{image} of the input. The set of all inputs for a function is called the \terminology{domain}. \index{domain} The set of all allowable outputs is called the \terminology{codomain}. \index{codomain} We would write \(f:X \to Y\) to describe a function with name \(f\), domain \(X\) and codomain \(Y\). This does not tell us \emph{which} function \(f\) is though. To define the function, we must describe the rule. This is often done by giving a formula to compute the output for any input (although this is certainly not the only way to describe the rule).%
\par
For example, consider the function \(f:\N \to \N\) defined by \(f(x) = x^2 + 3\). Here the domain and codomain are the same set (the natural numbers). The rule is: take your input, multiply it by itself and add 3. This works because we can apply this rule to every natural number (every element of the domain) and the result is always a natural number (an element of the codomain). Notice though that not every natural number is actually an output (there is no way to get 0, 1, 2, 5, etc.). The set of natural numbers that \emph{are} outputs is called the \terminology{range} \index{range} of the function (in this case, the range is \(\{3, 4, 7, 12, 19, 28, \ldots\}\), all the natural numbers that are 3 more than a perfect square).%
\par
The key thing that makes a rule a \emph{function} is that there is \emph{exactly one} output for each input. That is, it is important that the rule be a good rule. What output do we assign to the input 7? There can only be one answer for any particular function.%
\begin{example}{}{p:example:ZIh}%
The following are all examples of functions:%
\begin{enumerate}
\item{}\(f:\Z \to \Z\) defined by \(f(n) = 3n\). The domain and codomain are both the set of integers. However, the range is only the set of integer multiples of 3.%
\item{}\(g: \{1,2,3\} \to \{a,b,c\}\) defined by \(g(1) = c\), \(g(2) = a\) and \(g(3) = a\). The domain is the set \(\{1,2,3\}\), the codomain is the set \(\{a,b,c\}\) and the range is the set \(\{a,c\}\). Note that \(g(2)\) and \(g(3)\) are the same element of the codomain. This is okay since each element in the domain still has only one output.%
\item{}\(h:\{1,2,3,4\} \to \N\) defined by the table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{lllll}
\multicolumn{1}{cA}{\(x\)}&1&2&3&4\tabularnewline\hrulethin
\multicolumn{1}{cA}{\(h(x)\)}&3&6&9&12
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Here the domain is the finite set \(\{1,2,3,4\}\) and to codomain is the set of natural numbers, \(\N\). At first you might think this function is the same as \(f\) defined above. It is absolutely not. Even though the rule is the same, the domain and codomain are different, so these are two different functions.%
\end{enumerate}
%
\end{example}
\begin{example}{}{p:example:FPq}%
Just because you can describe a rule in the same way you would write a function, does not mean that the rule is a function. The following are NOT functions.%
\begin{enumerate}
\item{}\(f:\N \to \N\) defined by \(f(n) = \frac{n}{2}\). The reason this is not a function is because not every input has an output. Where does \(f\) send 3? The rule says that \(f(3) = \frac{3}{2}\), but \(\frac{3}{2}\) is not an element of the codomain.%
\item{}Consider the rule that matches each person to their phone number. If you think of the set of people as the domain and the set of phone numbers as the codomain, then this is not a function, since some people have two phone numbers. Switching the domain and codomain sets doesn't help either, since some phone numbers belong to multiple people (assuming some households still have landlines when you are reading this).%
\end{enumerate}
%
\end{example}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Describing Functions}
\typeout{************************************************}
%
\begin{subsectionptx}{Describing Functions}{}{Describing Functions}{}{}{p:subsection:irZ}
It is worth making a distinction between a function and its description. The function is the abstract mathematical object that in some way exists whether or not anyone ever talks about it. But when we \emph{do} want to talk about the function, we need a way to describe it. A particular function can be described in multiple ways.%
\par
Some calculus textbooks talk about the \emph{Rule of Four}, that every function can be described in four ways: algebraically (a formula), numerically (a table), graphically, or in words. In discrete math, we can still use any of these to describe functions, but we can also be more specific since we are primarily concerned with functions that have \(\N\) or a finite subset of \(\N\) as their domain.%
\par
Describing a function graphically usually means drawing the graph of the function: plotting the points on the plane. We can do this, and might get a graph like the following for a function \(f:\{1,2,3\} \to \{1,2,3\}\).%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.75]
  \draw[thin, gray!50] (0,0) grid (3.5, 3.5);
  \draw[->, thick] (0,0) -- (0,3.5);
  \draw[->, thick] (0,0) -- (3.5,0);
  \fill (1,2) circle (3pt) (2,1) circle (3pt) (3,3) circle (3pt);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
It would be absolutely WRONG to connect the dots or try to fit them to some curve. There are only three elements in the domain. A curve would mean that the domain contains an entire interval of real numbers.%
\par
Here is another way to represent that same function:%
\begin{sidebyside}{1}{0.415}{0.415}{0}%
\begin{sbspanel}{0.17}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.85]
  \draw[->] (-1,1) node[above] {1} -- (0,0) node[below] {2};
  \draw[->] (0,1) node[above] {2} -- (-1,0) node[below] {1};
  \draw[->] (1,1) node[above] {3} -- (1,0) node[below] {3};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
This shows that the function \(f\) sends 1 to 2, 2 to 1 and 3 to 3: just follow the arrows.%
\par
The arrow diagram used to define the function above can be very helpful in visualizing functions. We will often be working with functions with \emph{finite} domains, so this kind of picture is often more useful than a traditional graph of a function.%
\par
Note that for finite domains, finding an algebraic formula that gives the output for any input is often impossible. Of course we could use a piecewise defined function, like%
\begin{equation*}
f(x) = \begin{cases} x+1 \amp \text{ if } x = 1 \\ x-1 \amp \text{ if } x = 2 \\ x \amp \text{ if } x = 3\end{cases}\text{.}
\end{equation*}
This describes exactly the same function as above, but we can all agree is a ridiculous way of doing so.%
\par
Since we will so often use functions with small domains and codomains, let's adopt some notation to describe them. All we need is some clear way of denoting the image of each element in the domain. In fact, writing a table of values would work perfectly:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{llllll}
\multicolumn{1}{cA}{\(x\)}&0&1&2&3&4\tabularnewline\hrulethin
\multicolumn{1}{cA}{\(f(x)\)}&3&3&2&4&1
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
We simplify this further by writing this as a matrix with each input directly over its output:%
\begin{equation*}
f = \twoline{0 \amp 1 \amp 2\amp 3 \amp 4}{3 \amp 3 \amp 2 \amp 4 \amp 1}\text{.}
\end{equation*}
Note this is just notation and not the same sort of matrix you would find in a linear algebra class (it does not make sense to do operations with these matrices, or row reduce them, for example).%
\par
One advantage of the two-line notation over the arrow diagrams is that it is harder to accidentally define a rule that is not a function using two-line notation.%
\begin{example}{}{p:example:Tjb}%
Which of the following diagrams represent a function? Let \(X = \{1,2,3,4\}\) and \(Y = \{a,b,c,d\}\).%
\begin{sidebyside}{3}{0.0416666666666667}{0.0416666666666667}{0.0833333333333333}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw[->] (-1.5,1) node[above] {1} -- (1.5,0) node[below] {\(d\)};
  \draw[->] (-.5,1) node[above] {2} -- (-1.5,0) node[below] {\(a\)};
  \draw[->] (.5,1) node[above] {3} -- (.5, 0) node[below] {\(c\)};
  \draw[->] (1.5,1) node[above] {4} -- (-.5, 0) node[below] {\(b\)};
  \node[above] at (0,1.5) {$f:X \to Y$};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw[->] (-1.5,1) node[above] {1} -- (1.5,0) node[below] {\(d\)};
  \draw[->] (-.5,1) node[above] {2} -- (-1.6,0) node[below] {\(a\)};
  \draw[->] (.5,1) node[above] {3} -- (-1.4, 0);
  \draw[->] (1.5,1) node[above] {4} -- (-.5, 0) node[below] {\(b\)};
  \draw (.5,0) node[below] {\(c\)};
  \node[above] at (0,1.5) { $g:X \to Y$};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw (-1.5,1) node[above] {1};
  \draw[->] (-.5,1) node[above] {2} (-.6,1) -- (-1.5,0) node[below] {\(a\)};
  \draw[->] (-.4,1) -- (.5,0);
  \draw[->] (.5,1) node[above] {3} -- (1.5, 0) node[below] {\(d\)};
  \draw[->] (1.5,1) node[above] {4} -- (-.5, 0) node[below] {\(b\)};
  \draw (.5,0) node[below] {\(c\)};
  \node[above] at (0,1.5) {$h:X \to Y$};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ykR}{}~~%
\(f\) is a function. So is \(g\). There is no problem with an element of the codomain not being the image of any input, and there is no problem with \(a\) from the codomain being the image of both 2 and 3 from the domain. We could use our two-line notation to write these as%
\begin{equation*}
f= \begin{pmatrix} 1 \amp 2 \amp 3 \amp 4 \\ d \amp a \amp c \amp b \end{pmatrix} \qquad g = \begin{pmatrix} 1 \amp 2 \amp 3 \amp 4 \\ d \amp a \amp a \amp b \end{pmatrix}\text{.}
\end{equation*}
%
\par
However, \(h\) is NOT a function. In fact, it fails for two reasons. First, the element 1 from the domain has not been mapped to any element from the codomain. Second, the element 2 from the domain has been mapped to more than one element from the codomain (\(a\) and \(c\)). Note that either one of these problems is enough to make a rule not a function. In general, neither of the following mappings are functions:%
\begin{sidebyside}{2}{0.1375}{0.1375}{0.275}%
\begin{sbspanel}{0.18}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \fill (-1, 1.2) circle (.1) (0,1.2) circle (.1) (1, 1.2) circle (.1);
  \draw[->] (-1, 1) -- (-.5,0);
  \draw[->] (1,1) -- (.5, 0);
  \draw (-.5, -0.2) circle (.1) (.5, -0.2) circle (.1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.27}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
   \fill (-1, 1.2) circle (.1) (0,1.2) circle (.1) (1, 1.2) circle (.1);
   \draw[->] (-1.1, 1) -- (-1.5, 0);
   \draw[->] (-.9, 1) -- (-.5, 0);
   \draw[->] (0,1) -- (.5,0);
   \draw[->] (1,1) -- (1.5, 0);
   \draw (-.5, -0.2) circle (.1) (.5, -0.2) circle (.1) (-1.5, -0.2) circle (.1) (1.5, -0.2) circle (.1);
 \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
It might also be helpful to think about how you would write the two-line notation for \(h\). We would have something like:%
\begin{equation*}
h=\twoline{1 \amp 2 \amp 3 \amp 4}{\amp a,c? \amp d \amp b}\text{.}
\end{equation*}
There is nothing under 1 (bad) and we needed to put more than one thing under 2 (very bad). With a rule that is actually a function, the two-line notation will always ``work''.%
\end{example}
We will also be interested in functions with domain \(\N\). Here two-line notation is no good, but describing the function algebraically is often possible. Even tables are a little awkward, since they do not describe the function completely. For example, consider the function \(f:\N \to \N\) given by the table below.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{llllllll}
\multicolumn{1}{cA}{\(x\)}&0&1&2&3&4&5&\(\ldots\)\tabularnewline\hrulethin
\multicolumn{1}{cA}{\(f(x)\)}&0&1&4&9&16&25&\(\ldots\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Have I given you enough entries for you to be able to determine \(f(6)\)? You might guess that \(f(6) = 36\), but there is no way for you to \emph{know} this for sure. Maybe I am being a jerk and intended \(f(6) = 42\). In fact, for every natural number \(n\), there is a function that agrees with the table above, but for which \(f(6) = n\).%
\par
Okay, suppose I really did mean for \(f(6) = 36\), and in fact, for the rule that you think is governing the function to actually be the rule. Then I should say what that rule is. \(f(n) = n^2\). Now there is no confusion possible.%
\par
Giving an explicit formula that calculates the image of any element in the domain is a great way to describe a function. We will say that these explicit rules are \terminology{closed formulas} for the function. \index{closed formula!for a function}%
\par
There is another very useful way to describe functions whose domain is \(\N\), that rely specifically on the structure of the natural numbers. We can define a function \emph{recursively}!%
\begin{example}{}{p:example:zqk}%
Consider the function \(f:\N \to \N\) given by \(f(0) = 0\) and \(f(n+1) = f(n) + 2n+1\). Find \(f(6)\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:esa}{}~~%
The rule says that \(f(6) = f(5) + 11\) (we are using \(6 = n+1\) so \(n = 5\)). We don't know what \(f(5)\) is though. Well, we know that \(f(5) = f(4) + 9\). So we need to compute \(f(4)\), which will require knowing \(f(3)\), which will require \(f(2)\),\textellipsis{} will it ever end?%
\par
Yes! In fact, this process will always end because we have \(\N\) as our domain, so there is a least element. And we gave the value of \(f(0)\) explicitly, so we are good. In fact, we might decide to work up to \(f(6)\) instead of working down from \(f(6)\):%
\begin{align*}
f(1) = \amp f(0) + 1 = \amp 0 + 1 = 1\\
f(2) = \amp f(1) + 3 = \amp 1 + 3 = 4\\
f(3) = \amp f(2) + 5 = \amp 4 + 5 = 9\\
f(4) = \amp f(3) + 7 = \amp 9 + 7 = 16\\
f(5) = \amp f(4) + 9 = \amp 16 + 9 = 25\\
f(6) = \amp f(5) + 11 = \amp 25 + 11 = 36
\end{align*}
%
\par
It looks that this recursively defined function is the same as the explicitly defined function \(f(n) = n^2\). Is it? Later we will prove that it is.%
\end{example}
Recursively defined functions are often easier to create from a ``real world'' problem, because they describe how the values of the functions are changing. However, this comes with a price. It is harder to calculate the image of a single input, since you need to know the images of other (previous) elements in the domain.%
\begin{assemblage}{Recursively Defined Functions.}{p:assemblage:aNA}%
For a function \(f:\N \to \N\), a \terminology{recursive definition} consists of an \terminology{initial condition} together with a \terminology{recurrence relation}. The initial condition is the explicitly given value of \(f(0)\). The recurrence relation is a formula for \(f(n+1)\) in terms for \(f(n)\) (and possibly \(n\) itself).%
\end{assemblage}
\begin{example}{}{p:example:fxt}%
Give recursive definitions for the functions described below.%
\begin{enumerate}
\item{}\(f:\N \to \N\) gives the number of snails in your terrarium \(n\) years after you built it, assuming you started with 3 snails and the number of snails doubles each year.%
\item{}\(g:\N \to \N\) gives the number of push-ups you do \(n\) days after you started your push-ups challenge, assuming you could do 7 push-ups on day 0 and you can do 2 more push-ups each day.%
\item{}\(h:\N \to \N\) defined by \(f(n) = n!\). Recall that \(n! = 1 \cdot 2 \cdot 3 \cdot \cdots \cdot (n-1)\cdot n\) is the product of all numbers from \(1\) through \(n\). We also define \(0! = 1\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Kzj}{}~~%
%
\begin{enumerate}
\item{}The initial condition is \(f(0) = 3\). To get \(f(n+1)\) we would double the number of snails in the terrarium the previous year, which is given by \(f(n)\). Thus \(f(n+1) = 2f(n)\). The full recursive definition contains both of these, and would be written,%
\begin{equation*}
f(0) = 3;~ f(n+1) = 2f(n)\text{.}
\end{equation*}
%
\item{}We are told that on day 0 you can do 7 push-ups, so \(f(0) = 7\). The number of push-ups you can do on day \(n+1\) is 2 more than the number you can do on day \(n\), which is given by \(f(n)\). Thus%
\begin{equation*}
f(0) = 7;~ f(n+1) = f(n) + 2\text{.}
\end{equation*}
%
\item{}Here \(f(0) = 1\). To get the recurrence relation, think about how you can get \(f(n+1) = (n+1)!\) from \(f(n) = n!\). If you write out both of these as products, you see that \((n+1)!\) is just like \(n!\) except you have one more term in the product, an extra \(n+1\). So we have,%
\begin{equation*}
f(0) = 1;~ f(n+1) = (n+1)\cdot f(n)\text{.}
\end{equation*}
%
\end{enumerate}
%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Surjections, Injections, and Bijections}
\typeout{************************************************}
%
\begin{subsectionptx}{Surjections, Injections, and Bijections}{}{Surjections, Injections, and Bijections}{}{}{x:subsection:subsec_surj-inj-bij}
We now turn to investigating special properties functions might or might not possess.%
\par
In the examples above, you may have noticed that sometimes there are elements of the codomain which are not in the range. When this sort of the thing \emph{does not} happen, (that is, when everything in the codomain is in the range) we say the function is \terminology{onto} \index{onto} or that the function maps the domain \emph{onto} the codomain. This terminology should make sense: the function puts the domain (entirely) on top of the codomain. The fancy math term for an onto function is a \terminology{surjection}, \index{surjection} and we say that an onto function is a \terminology{surjective} function.%
\par
In pictures:%
\begin{sidebyside}{2}{0.1}{0.1}{0.2}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
  \begin{tikzpicture}
  \fill (-1.5, 1.2) circle (.1) (-.5,1.2) circle (.1) (.5, 1.2) circle (.1) (1.5,1.2) circle (.1);
  \draw[->] (-1.5, 1) -- (-1,0);
  \draw[->] (-.5,1) -- (0, 0);
  \draw[->] (.5, 1) -- (.9,0);
  \draw[->] (1.5,1) -- (1.1,0);
  \draw (-1, -0.2) circle (.1) (0, -0.2) circle (.1) (1, -0.2) circle (.1);
  \node[below] at (0,-.5) {Surjective};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
  \begin{tikzpicture}
  \fill (-1.5, 1.2) circle (.1) (-.5,1.2) circle (.1) (.5, 1.2) circle (.1) (1.5,1.2) circle (.1);
  \draw[->] (-1.5, 1) -- (-1.1,0);
  \draw[->] (-.5,1) -- (-.9, 0);
  \draw[->] (.5, 1) -- (.9,0);
  \draw[->] (1.5,1) -- (1.1,0);
  \draw (-1, -0.2) circle (.1) (0, -0.2) circle (.1) (1, -0.2) circle (.1);
  \node[below] at (0,-.5) {Not surjective};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\begin{example}{}{p:example:wvE}%
Which functions are surjective (i.e., onto)?%
\begin{enumerate}
\item{}\(f:\Z \to \Z\) defined by \(f(n) = 3n\).%
\item{}\(g: \{1,2,3\} \to \{a,b,c\}\) defined by \(g = \begin{pmatrix}1 \amp 2 \amp 3 \\ c \amp a \amp a \end{pmatrix}\).%
\item{}\(h:\{1,2,3\} \to \{1,2,3\}\) defined as follows:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}
  \draw[->] (-1,1) node[above] {1} -- (0,0) node[below] {2};
  \draw[->] (0,1) node[above] {2} -- (-1,0) node[below] {1};
  \draw[->] (1,1) node[above] {3} -- (1,0) node[below] {3};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:qGs}{}~~%
%
\begin{enumerate}
\item{}\(f\) is not surjective. There are elements in the codomain which are not in the range. For example, no \(n \in \Z\) gets mapped to the number 1 (the rule would say that \(\frac{1}{3}\) would be sent to 1, but \(\frac{1}{3}\) is not in the domain). In fact, the range of the function is \(3\Z\) (the integer multiples of 3), which is not equal to \(\Z\).%
\item{}\(g\) is not surjective. There is no \(x \in \{1,2,3\}\) (the domain) for which \(g(x) = b\), so \(b\), which is in the codomain, is not in the range. Notice that there is an element from the codomain ``missing'' from the bottom row of the matrix.%
\item{}\(h\) is surjective. Every element of the codomain is also in the range. Nothing in the codomain is missed.%
\end{enumerate}
%
\end{example}
To be a function, a rule cannot assign a single element of the domain to two or more different elements of the codomain. However, we have seen that the reverse \emph{is} permissible: a function might assign the same element of the codomain to two or more different elements of the domain. When this \emph{does not} occur (that is, when each element of the codomain is the image of at most one element of the domain) then we say the function is \terminology{one-to-one}. \index{one-to-one} Again, this terminology makes sense: we are sending at most one element from the domain to one element from the codomain. One input to one output. The fancy math term for a one-to-one function is an \terminology{injection}. \index{injection} We call one-to-one functions \terminology{injective} functions.%
\par
In pictures:%
\begin{sidebyside}{2}{0.05}{0.05}{0.1}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
  \begin{tikzpicture}
  \fill (-1.5, 1.2) circle (.1) (-.5,1.2) circle (.1) (.5, 1.2) circle (.1) (1.5,1.2) circle (.1);
  \draw[->] (-1.5, 1) -- (-2,0);
  \draw[->] (-.5,1) -- (-1, 0);
  \draw[->] (.5, 1) -- (1,0);
  \draw[->] (1.5,1) -- (2,0);
  \draw (-2, -0.2) circle (.1) (-1, -.2) circle (.1) (0, -0.2) circle (.1) (1, -0.2) circle (.1) (2, -0.2) circle (.1);
    \node[below] at (0,-.5) {Injective};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \fill (-1.5, 1.2) circle (.1) (-.5,1.2) circle (.1) (.5, 1.2) circle (.1) (1.5,1.2) circle (.1);
  \draw[->] (-1.5, 1) -- (-2,0);
  \draw[->] (-.5,1) -- (-1, 0);
  \draw[->] (.5, 1) -- (.9,0);
  \draw[->] (1.5,1) -- (1.1,0);
  \draw (-2, -0.2) circle (.1) (-1, -.2) circle (.1) (0, -0.2) circle (.1) (1, -0.2) circle (.1) (2, -0.2) circle (.1);
    \node[below] at (0,-.5) {Not injective};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\begin{example}{}{p:example:cCN}%
Which functions are injective (i.e., one-to-one)?%
\begin{enumerate}
\item{}\(f:\Z \to \Z\) defined by \(f(n) = 3n\).%
\item{}\(g: \{1,2,3\} \to \{a,b,c\}\) defined by \(g = \begin{pmatrix}1 \amp 2 \amp 3 \\ c \amp a \amp a \end{pmatrix}\).%
\item{}\(h:\{1,2,3\} \to \{1,2,3\}\) defined as follows:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \draw[->] (-1,1) node[above] {1} -- (0,0) node[below] {2};
  \draw[->] (0,1) node[above] {2} -- (-1,0) node[below] {1};
  \draw[->] (1,1) node[above] {3} -- (1,0) node[below] {3};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:WNB}{}~~%
%
\begin{enumerate}
\item{}\(f\) is injective. Each element in the codomain is assigned to at \emph{most} one element from the domain. If \(x\) is a multiple of three, then only \(x/3\) is mapped to \(x\). If \(x\) is not a multiple of 3, then there is no input corresponding to the output \(x\).%
\item{}\(g\) is not injective. Both inputs \(2\) and \(3\) are assigned the output \(a\). Notice that there is an element from the codomain that appears more than once on the bottom row of the matrix.%
\item{}\(h\) is injective. Each output is only an output once.%
\end{enumerate}
%
\end{example}
Be careful: ``surjective'' and ``injective'' are NOT opposites. You can see in the two examples above that there are functions which are surjective but not injective, injective but not surjective, both, or neither. In the case when a function is both one-to-one and onto (an injection and surjection), we say the function is a \terminology{bijection}, \index{bijection} or that the function is a \terminology{bijective} function.%
\par
To illustrate the contrast between these two properties, consider a more formal definition of each, side by side.%
\begin{assemblage}{Injective vs Surjective.}{p:assemblage:GUJ}%
A function is \terminology{injective} provided every element of the codomain is the image of \emph{at most} one element from the domain.%
\par
A function is \terminology{surjective} provided every element of the codomain is the image of \emph{at least} one element from the domain.%
\end{assemblage}
Notice both properties are determined by what happens to elements of the codomain: they could be repeated as images or they could be ``missed'' (not be images). Injective functions do not have repeats but might or might not miss elements. Surjective functions do not miss elements, but might or might not have repeats. The bijective functions are those that do not have repeats and do not miss elements.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Image and Inverse Image}
\typeout{************************************************}
%
\begin{subsectionptx}{Image and Inverse Image}{}{Image and Inverse Image}{}{}{p:subsection:uGr}
When discussing functions, we have notation for talking about an element of the domain (say \(x\)) and its corresponding element in the codomain (we write \(f(x)\), which \emph{is} the image of \(x\)). Sometimes we will want to talk about all the elements that are images of some subset of the domain. It would also be nice to start with some element of the codomain (say \(y\)) and talk about which element or elements (if any) from the domain it is the image of. We could write ``those \(x\) in the domain such that \(f(x) = y\),'' but this is a lot of writing. Here is some notation to make our lives easier.%
\par
To address the first situation, what we are after is a way to describe the \emph{set} of images of elements in some subset of the domain. Suppose \(f:X \to Y\) is a function and that \(A \subseteq X\) is some subset of the domain (possibly all of it). We will use the notation \(f(A)\) to denote the \terminology{image of \(A\) under \(f\)}, namely the set of elements in \(Y\) that are the image of elements from \(A\). That is, \(f(A) = \{f(a) \in Y \st a \in A\}\). \label{g:notation:idm4752}%
\par
We can do this in the other direction as well. We might ask which elements of the domain get mapped to a particular set in the codomain. Let \(f:X \to Y\) be a function and suppose \(B \subseteq Y\) is a subset of the codomain. Then we will write \(f\inv(B)\) for the \terminology{inverse image of \(B\) under \(f\)}, namely the set of elements in \(X\) whose image are elements in \(B\). In other words, \(f\inv(B) = \{x \in X \st f(x) \in B\}\). \label{g:notation:idm4767}%
\par
Often we are interested in the element(s) whose image is a particular element \(y\) of in the codomain. The notation above works: \(f\inv(\{y\})\) is the set of all elements in the domain that \(f\) sends to \(y\). It makes sense to think of this as a set: there might not be anything sent to \(y\) (if \(y\) is not in the range), in which case \(f\inv(\{y\}) = \emptyset\). Or \(f\) might send multiple elements to \(y\) (if \(f\) is not injective). As a notational convenience, we usually drop the set braces around the \(y\) and write \(f\inv(y)\) instead for this set.%
\par
WARNING: \(f\inv(y)\) is not an inverse function! Inverse functions only exist for bijections, but \(f\inv(y)\) is defined for any function \(f\). The point: \(f\inv(y)\) is a \emph{set}, not an \emph{element} of the domain. This is just sloppy notation for \(f\inv(\{y\})\). To help make this distinction, we would call \(f\inv(y)\) the \terminology{complete inverse image of \(y\) under \(f\)}. It is not the image of \(y\) under \(f\inv\) (since the function \(f\inv\) might not exist).%
\begin{example}{}{p:example:hmG}%
Consider the function \(f:\{1,2,3,4,5,6\} \to \{a,b,c,d\}\) given by%
\begin{equation*}
f = \begin{pmatrix}1 \amp 2 \amp 3 \amp 4 \amp 5 \amp 6 \\ a \amp a \amp b \amp b \amp b \amp c\end{pmatrix}\text{.}
\end{equation*}
Find \(f(\{1,2,3\})\), \(f\inv(\{a,b\})\), and \(f\inv(d)\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:CUK}{}~~%
\(f(\{1,2,3\}) = \{a,b\}\) since \(a\) and \(b\) are the elements in the codomain to which \(f\) sends \(1\) and \(2\).%
\par
\(f\inv(\{a,b\}) = \{1,2,3,4,5\}\) since these are exactly the elements that \(f\) sends to \(a\) and \(b\).%
\par
\(f\inv(d) = \emptyset\) since \(d\) is not in the range of \(f\).%
\end{example}
\begin{example}{}{p:example:NtP}%
Consider the function \(g:\Z \to \Z\) defined by \(g(n) = n^2 + 1\). Find \(g(1)\) and \(g(\{1\})\). Then find \(g\inv(1)\), \(g\inv(2)\), and \(g\inv(3)\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:jbT}{}~~%
Note that \(g(1) \ne g(\{1\})\). The first is an element: \(g(1) = 2\). The second is a set: \(g(\{1\}) = \{2\}\).%
\par
To find \(g\inv(1)\), we need to find all integers \(n\) such that \(n^2 + 1 = 1\). Clearly only 0 works, so \(g\inv(1) = \{0\}\) (note that even though there is only one element, we still write it as a set with one element in it).%
\par
To find \(g\inv(2)\), we need to find all \(n\) such that \(n^2 + 1 = 2\). We see \(g\inv(2) = \{-1,1\}\).%
\par
Finally, if \(n^2 + 1 = 3\), then we are looking for an \(n\) such that \(n^2 = 2\). There are no such integers so \(g\inv(3) = \emptyset\).%
\end{example}
Since \(f\inv(y)\) is a set, it makes sense to ask for \(\card{f\inv(y)}\), the number of elements in the domain which map to \(y\).%
\begin{example}{}{p:example:tAY}%
Find a function \(f:\{1,2,3,4,5\} \to \N\) such that \(\card{f\inv(7)} = 5\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Pjc}{}~~%
There is only one such function. We need five elements of the domain to map to the number \(7 \in \N\). Since there are only five elements in the domain, all of them must map to 7. So%
\begin{equation*}
f = \begin{pmatrix}1 \amp 2 \amp 3 \amp 4 \amp 5 \\ 7 \amp 7 \amp 7 \amp 7 \amp 7\end{pmatrix}\text{.}
\end{equation*}
%
\end{example}
\begin{paragraphs}{Function Definitions.}{p:paragraphs:nbS}%
Here is a summary of all the main concepts and definitions we use when working with functions.%
\begin{itemize}[label=\textbullet]
\item{}A \terminology{function} is a rule that assigns each element of a set, called the \terminology{domain}, to exactly one element of a second set, called the \terminology{codomain}.%
\item{}Notation: \(f:X \to Y\) is our way of saying that the function is called \(f\), the domain is the set \(X\), and the codomain is the set \(Y\).%
\item{}To specify the rule for a function with small domain, use \terminology{two-line notation} by writing a matrix with each output directly below its corresponding input, as in:%
\begin{equation*}
f = \begin{pmatrix}1 \amp 2 \amp 3 \amp 4 \\ 2 \amp 1 \amp 3 \amp 1 \end{pmatrix}\text{.}
\end{equation*}
%
\item{}\(f(x) = y\) means the element \(x\) of the domain (input) is assigned to the element \(y\) of the codomain. We say \(y\) is an output. Alternatively, we call \(y\) the \terminology{image of \(x\) under \(f\)}.%
\item{}The \terminology{range} is a subset of the codomain. It is the set of all elements which are assigned to at least one element of the domain by the function. That is, the range is the set of all outputs.%
\item{}A function is \terminology{injective} (an \terminology{injection} or \terminology{one-to-one}) if every element of the codomain is the image of \terminology{at most} one element from the domain.%
\item{}A function is \terminology{surjective} (a \terminology{surjection} or \terminology{onto}) if every element of the codomain is the image of \terminology{at least} one element from the domain.%
\item{}A \terminology{bijection} is a function which is both an injection and surjection. In other words, if every element of the codomain is the image of \terminology{exactly one} element from the domain.%
\item{}The \terminology{image} of an element \(x\) in the domain is the element \(y\) in the codomain that \(x\) is mapped to. That is, the image of \(x\) under \(f\) is \(f(x)\).%
\item{}The \terminology{complete inverse image} of an element \(y\) in the codomain, written \(f\inv(y)\), is the \emph{set} of all elements in the domain which are assigned to \(y\) by the function.%
\item{}The \terminology{image} of a subset \(A\) of the domain is the set \(f(A) = \{f(a) \in Y \st a \in A\}\).%
\item{}The \terminology{inverse image} of a a subset \(B\) of the codomain is the set \(f\inv(B) = \{x \in X \st f(x) \in B\}\).%
\end{itemize}
%
\end{paragraphs}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_intro-functions}
\begin{divisionexercise}{\hyperlink{g:solution:idm5033-back}{1}}{}{}{p:exercise:blM}%
Consider the function \(f:\{1,2,3,4\} \to \{1,2,3,4\}\) given by%
\par
%
\begin{equation*}
f(n) = \twoline{1 \amp 2 \amp 3 \amp 4}{4 \amp 1 \amp 3 \amp 4}
\text{.}
\end{equation*}
%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Find \(f(1)\text{.}\)%
\item{}Find an element \(n\) in the domain such that \(f(n) = 1\text{.}\)%
\item{}Find an element \(n\) of the domain such that \(f(n) = n\text{.}\)%
\item{}Find an element of the codomain that is not in the range.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm5169-back}{2}}{}{}{p:exercise:HsV}%
The following functions all have \(\{1,2,3,4,5\}\) as both their domain and codomain. For each, determine whether it is (only) injective, (only) surjective, bijective, or neither injective nor surjective.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{3 \amp 3 \amp 3 \amp 3 \amp 3}\text{.}\) %
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{2 \amp 3 \amp 1 \amp 5 \amp 4}\text{.}\) %
\item{}\(f(x) = 6 - x\text{.}\) %
\item{}\(f(x) = \begin{cases} x/2 \amp \text{ if } x \text{ is even} \\ (x+1)/2 \amp \text{ if } x \text{ is odd}\end{cases}\text{.}\) %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{3}{}{}{p:exercise:nAe}%
The following functions all have domain \(\{1,2,3,4,5\}\) and codomain \(\{1,2,3\}\text{.}\) For each, determine whether it is (only) injective, (only) surjective, bijective, or neither injective nor surjective.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{1 \amp 2 \amp 1 \amp 2 \amp 1}\text{.}\) %
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{1 \amp 2 \amp 3 \amp 1 \amp 2}\text{.}\) %
\item{}\(f(x) = \begin{cases} x \amp \text{ if } x \le 3 \\ x-3 \amp \text{ if } x \gt 3\end{cases}\text{.}\) %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:THn}%
The following functions all have domain \(\{1,2,3,4\}\) and codomain \(\{1,2,3,4,5\}\text{.}\) For each, determine whether it is (only) injective, (only) surjective, bijective, or neither injective nor surjective.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4}{1 \amp 2 \amp 5 \amp 4}\text{.}\) %
\item{}\(f = \twoline{1 \amp 2 \amp 3 \amp 4}{1 \amp 2 \amp 3 \amp 2}\text{.}\) %
\item{}\(f(x)\) gives the number of letters in the English word for the number \(x\text{.}\) For example, \(f(1) = 3\) since ``one'' contains three letters. %
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm5411-back}{5}}{}{}{p:exercise:zOw}%
Write out all functions \(f: \{1,2,3\} \to \{a,b\}\) (using two-line notation).%
\par
How many functions are there?%
\par
How many are injective?%
\par
How many are surjective?%
\par
How many are bijective?%
\end{divisionexercise}%
\begin{divisionexercise}{6}{}{}{p:exercise:fVF}%
Write out all functions \(f: \{1,2\} \to \{a,b,c\}\) (in two-line notation).%
\par
How many functions are there?%
\par
How many are injective?%
\par
How many are surjective?%
\par
How many are bijective?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:vOx-back}{7}}{}{}{p:exercise:McO}%
Consider the function \(f:\{1,2,3,4,5\} \to \{1,2,3,4\}\) given by the table below:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{llllll}
\multicolumn{1}{cA}{\(x\)}&1&2&3&4&5\tabularnewline\hrulethin
\multicolumn{1}{cA}{\(f(x)\)}&3&2&4&1&2
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\) injective? Explain.%
\item{}Is \(f\) surjective? Explain.%
\item{}Write the function using two-line notation.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:sjX}%
Consider the function \(f:\{1,2,3,4\} \to \{1,2,3,4\}\) given by the graph below.%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=1]
  \draw[thin, gray!50] (0,0) grid (4.5, 4.5);
  \draw[<->, thick] (0,4.5) node[left] {\(f(x)\)} -- (0,0) -- (4.5,0) node[below right] {\(x\)};
  \foreach \x in {1,2,3,4}
    \draw (\x,0) node[below] { \x} (0, \x) node[left] { \x};
  \fill (1,3) circle (.1) (2,4) circle (.1) (3,1) circle (.1) (4,3) circle (.1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\) injective? Explain.%
\item{}Is \(f\) surjective? Explain.%
\item{}Write the function using two-line notation.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm5569-back}{9}}{}{}{p:exercise:Yrg}%
Consider the function \(f:\N \to \N\) given \emph{recursively} by \(f(0) = 1\) and \(f(n+1) = 2\cdot f(n)\text{.}\) Find \(f(10)\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm5658-back}{10}}{}{}{p:exercise:Eyp}%
Suppose \(f:\N \to \N\) satisfies the recurrence \(f(n+1) = f(n) + 3\text{.}\) Note that this is not enough information to define the function, since we don't have an initial condition. For each of the initial conditions below, find the value of \(f(5)\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}\(f(0) = 0\text{.}\)%
\item{}\(f(0) = 1\text{.}\)%
\item{}\(f(0) = 2\text{.}\)%
\item{}\(f(0) = 100\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:kFy}%
Suppose \(f:\N \to \N\) satisfies the recurrence relation%
\begin{equation*}
f(n+1) = \begin{cases} \frac{f(n)}{2} \amp \text{ if } f(n) \text{ is even} \\ 3f(n) + 1 \amp \text{ if } f(n) \text{ is odd}\end{cases}\text{.}
\end{equation*}
Note that with the initial condition \(f(0) = 1\), the values of the function are: \(f(1) = 4\), \(f(2) = 2\), \(f(3) = 1\), \(f(4) = 4\), and so on, the images cycling through those three numbers. Thus \(f\) is NOT injective (and also certainly not surjective). Might it be under other initial conditions?\footnotemark{}%
\begin{enumerate}[label=(\alph*)]
\item{}If \(f\) satisfies the initial condition \(f(0) = 5\), is \(f\) injective? Explain why or give a specific example of two elements from the domain with the same image.%
\item{}If \(f\) satisfies the initial condition \(f(0) = 3\), is \(f\) injective? Explain why or give a specific example of two elements from the domain with the same image.%
\item{}If \(f\) satisfies the initial condition \(f(0) = 27\), then it turns out that \(f(105) = 10\) and no two numbers less than 105 have the same image. Could \(f\) be injective? Explain.%
\item{}Prove that no matter what initial condition you choose, the function cannot be surjective.%
\end{enumerate}
%
\end{divisionexercise}%
\footnotetext[3]{It turns out this is a \emph{really} hard question to answer in general. The \emph{Collatz conjecture} is that no matter what the initial condition is, the function will eventually produce 1 as an output. This is an open problem in mathematics: nobody knows the answer.\label{g:fn:idm5693}}%
\begin{divisionexercise}{\hyperlink{p:solution:ojY-back}{12}}{}{}{p:exercise:QMH}%
For each function given below, determine whether or not the function is injective and whether or not the function is surjective.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f:\N \to \N\) given by \(f(n) = n+4\).%
\item{}\(f:\Z \to \Z\) given by \(f(n) = n+4\).%
\item{}\(f:\Z \to \Z\) given by \(f(n) = 5n - 8\).%
\item{}\(f:\Z \to \Z\) given by \(f(n) = \begin{cases}n/2 \amp \text{ if } n \text{ is even} \\ (n+1)/2 \amp \text{ if } n \text{ is odd} . \end{cases}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Urh-back}{13}}{}{}{p:exercise:wTQ}%
Let \(A = \{1,2,3,\ldots,10\}\). Consider the function \(f:\pow(A) \to \N\) given by \(f(B) = |B|\). That is, \(f\) takes a subset of \(A\) as an input and outputs the cardinality of that set.%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\) injective? Prove your answer.%
\item{}Is \(f\) surjective? Prove your answer.%
\item{}Find \(f\inv(1)\).%
\item{}Find \(f\inv(0)\).%
\item{}Find \(f\inv(12)\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:daZ}%
Let \(X = \{n \in \N \st 0 \le n \le 999\}\) be the set of all numbers with three or fewer digits. Define the function \(f:X \to \N\) by \(f(abc) = a+b+c\text{,}\) where \(a\text{,}\) \(b\text{,}\) and \(c\) are the digits of the number in \(X\) (write numbers less than 100 with leading 0's to make them three digits). For example, \(f(253) = 2 + 5 + 3 = 10\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(A = \{n \in X \st 113 \le n \le 122\}\text{.}\) Find \(f(A)\text{.}\)%
\item{}Find \(f\inv(\{1,2\})\)%
\item{}Find \(f\inv(3)\text{.}\)%
\item{}Find \(f\inv(28)\text{.}\)%
\item{}Is \(f\) injective? Explain.%
\item{}Is \(f\) surjective? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{15}{}{}{p:exercise:Jii}%
Consider the set \(\N^2 = \N \times \N\), the set of all ordered pairs \((a,b)\) where \(a\) and \(b\) are natural numbers. Consider a function \(f: \N^2 \to \N\) given by \(f((a,b)) =a+b\).%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(A = \{(a,b) \in \N^2 \st a, b \le 10\}\). Find \(f(A)\).%
\item{}Find \(f\inv(3)\) and \(f\inv(\{0,1,2,3\})\).%
\item{}Give geometric descriptions of \(f\inv(n)\) and \(f\inv(\{0, 1, \ldots, n\})\) for any \(n \ge 1\).%
\item{}Find \(\card{f\inv(8)}\) and \(\card{f\inv(\{0,1, \ldots, 8\})}\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Ayq-back}{16}}{}{}{p:exercise:ppr}%
Let \(f:X \to Y\) be some function. Suppose \(3 \in Y\). What can you say about \(f\inv(3)\) if you know,%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is injective? Explain.%
\item{}\(f\) is surjective? Explain.%
\item{}\(f\) is bijective? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:gFz-back}{17}}{}{}{p:exercise:VwA}%
Find a set \(X\) and a function \(f:X \to \N\) so that \(f\inv(0) \cup f\inv(1) = X\).%
\end{divisionexercise}%
\begin{divisionexercise}{18}{}{}{p:exercise:BDJ}%
What can you deduce about the sets \(X\) and \(Y\) if you know,%
\begin{enumerate}[label=(\alph*)]
\item{}there is an injective function \(f:X \to Y\)? Explain.%
\item{}there is a surjective function \(f:X \to Y\)? Explain.%
\item{}there is a bijective function \(f:X \to Y\)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{19}{}{}{p:exercise:hKS}%
Suppose \(f:X \to Y\) is a function. Which of the following are possible? Explain.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is injective but not surjective.%
\item{}\(f\) is surjective but not injective.%
\item{}\(|X| = |Y|\) and \(f\) is injective but not surjective.%
\item{}\(|X| = |Y|\) and \(f\) is surjective but not injective.%
\item{}\(|X| = |Y|\), \(X\) and \(Y\) are finite, and \(f\) is injective but not surjective.%
\item{}\(|X| = |Y|\), \(X\) and \(Y\) are finite, and \(f\) is surjective but not injective.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:MMI-back}{20}}{}{}{p:exercise:NSb}%
Let \(f:X \to Y\) and \(g:Y \to Z\) be functions. We can define the \terminology{composition} \index{composition} of \(f\) and \(g\) to be the function \(g\circ f:X \to Z\) for which the image of each \(x \in X\) is \(g(f(x))\). That is, plug \(x\) into \(f\), then plug the result into \(g\) (just like composition in algebra and calculus).%
\begin{enumerate}[label=(\alph*)]
\item{}If \(f\) and \(g\) are both injective, must \(g\circ f\) be injective? Explain.%
\item{}If \(f\) and \(g\) are both surjective, must \(g\circ f\) be surjective? Explain.%
\item{}Suppose \(g\circ f\) is injective. What, if anything, can you say about \(f\) and \(g\)? Explain.%
\item{}Suppose \(g\circ f\) is surjective. What, if anything, can you say about \(f\) and \(g\)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:sTR-back}{21}}{}{}{p:exercise:tZk}%
Consider the function \(f:\Z \to \Z\) given by \(f(n) = \begin{cases}n+1 \amp \text{ if }n\text{ is even} \\ n-3 \amp \text{ if }n\text{ is odd} . \end{cases}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\) injective? Prove your answer.%
\item{}Is \(f\) surjective? Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:lps-back}{22}}{}{}{p:exercise:agt}%
At the end of the semester a teacher assigns letter grades to each of her students. Is this a function? If so, what sets make up the domain and codomain, and is the function injective, surjective, bijective, or neither?%
\end{divisionexercise}%
\begin{divisionexercise}{23}{}{}{p:exercise:GnC}%
In the game of \emph{Hearts}, four players are each dealt 13 cards from a deck of 52. Is this a function? If so, what sets make up the domain and codomain, and is the function injective, surjective, bijective, or neither?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:RwB-back}{24}}{}{}{p:exercise:muL}%
Seven players are playing 5-card stud. Each player initially receives 5 cards from a deck of 52. Is this a function? If so, what sets make up the domain and codomain, and is the function injective, surjective, bijective, or neither?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:dKT-back}{25}}{}{}{p:exercise:SBU}%
Consider the function \(f:\N \to \N\) that gives the number of handshakes that take place in a room of \(n\) people assuming everyone shakes hands with everyone else. Give a recursive definition for this function.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:JSc-back}{26}}{}{}{p:exercise:yJd}%
Let \(f:X \to Y\) be a function and \(A \subseteq X\) be a finite subset of the domain. What can you say about the relationship between \(\card{A}\) and \(\card{f(A)}\)? Consider both the general case and what happens when you know \(f\) is injective, surjective, or bijective.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:pZl-back}{27}}{}{}{p:exercise:eQm}%
Let \(f:X \to Y\) be a function and \(B \subseteq Y\) be a finite subset of the codomain. What can you say about the relationship between \(\card{B}\) and \(\card{f\inv(B)}\)? Consider both the general case and what happens when you know \(f\) is injective, surjective, or bijective.%
\end{divisionexercise}%
\begin{divisionexercise}{28}{}{}{p:exercise:KXv}%
Let \(f:X \to Y\) be a function, \(A \subseteq X\) and \(B \subseteq Y\).%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\inv\left(f(A)\right) = A\)? Always, sometimes, never? Explain.%
\item{}Is \(f\left(f\inv(B)\right) = B\)? Always, sometimes, never? Explain.%
\item{}If one or both of the above do not always hold, is there something else you can say? Will equality always hold for particular types of functions? Is there some other relationship other than equality that would always hold? Explore.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Wgu-back}{29}}{}{}{p:exercise:reE}%
Let \(f:X \to Y\) be a function and \(A, B \subseteq X\) be subsets of the domain.%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f(A \cup B) = f(A) \cup f(B)\)? Always, sometimes, or never? Explain.%
\item{}Is \(f(A \cap B) = f(A) \cap f(B)\)? Always, sometimes, or never? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{30}{}{}{p:exercise:XlN}%
Let \(f:X \to Y\) be a function and \(A, B \subseteq Y\) be subsets of the codomain.%
\begin{enumerate}[label=(\alph*)]
\item{}Is \(f\inv(A \cup B) = f\inv(A) \cup f\inv(B)\)? Always, sometimes, or never? Explain.%
\item{}Is \(f\inv(A \cap B) = f\inv(A) \cap f\inv(B)\)? Always, sometimes, or never? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%
\typeout{************************************************}
\typeout{Chapter 1 Counting}
\typeout{************************************************}
%
\begin{chapterptx}{Counting}{}{Counting}{}{}{x:chapter:ch_counting}
\begin{introduction}{}%
One of the first things you learn in mathematics is how to count. Now we want to count large collections of things quickly and precisely. For example:%
\begin{itemize}[label=\textbullet]
\item{}In a group of 10 people, if everyone shakes hands with everyone else exactly once, how many handshakes took place?%
\item{}How many ways can you distribute \(10\) girl scout cookies to \(7\) boy scouts?%
\item{}How many anagrams are there of ``anagram''?%
\end{itemize}
%
\par
Before tackling questions like these, let's look at the basics of counting.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Section 1.1 Additive and Multiplicative Principles}
\typeout{************************************************}
%
\begin{sectionptx}{Additive and Multiplicative Principles}{}{Additive and Multiplicative Principles}{}{}{x:section:sec_counting-addmult}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:wnA}%
%
\begin{enumerate}
\item{}A restaurant offers 8 appetizers and 14 entrées. How many choices do you have if:%
\begin{enumerate}
\item{}you will eat one dish, either an appetizer or an entrée?%
\item{}you are extra hungry and want to eat both an appetizer and an entrée?%
\end{enumerate}
%
\item{}Think about the methods you used to solve question 1. Write down the rules for these methods.%
\item{}Do your rules work? A standard deck of playing cards has 26 red cards and 12 face cards.%
\begin{enumerate}
\item{}How many ways can you select a card which is either red or a face card?%
\item{}How many ways can you select a card which is both red and a face card?%
\item{}How many ways can you select two cards so that the first one is red and the second one is a face card?%
\end{enumerate}
%
\end{enumerate}
%
\end{investigation}
Consider this rather simple counting problem: at Red Dogs and Donuts, there are 14 varieties of donuts, and 16 types of hot dogs. If you want either a donut or a dog, how many options do you have? This isn't too hard, just add 14 and 16. Will that always work? What is important here?%
\begin{assemblage}{Additive Principle.}{p:assemblage:pOu}%
The \terminology{additive principle} \index{additive principle} states that if event \(A\) can occur in \(m\) ways, and event \(B\) can occur in \(n\) \emph{disjoint} ways, then the event ``\(A\) or \(B\)'' can occur in \(m + n\) ways.%
\end{assemblage}
It is important that the events be \terminology{disjoint}: i.e., that there is no way for \(A\) and \(B\) to both happen at the same time. \index{disjoint} For example, a standard deck of 52 cards contains \(26\) red cards and \(12\) face cards. However, the number of ways to select a card which is either red or a face card is not \(26 + 12 = 38\). This is because there are 6 cards which are both red and face cards.%
\begin{example}{}{p:example:Lwy}%
How many two letter ``words'' \index{word} start with either A or B? (A \terminology{word} is just a string of letters; it doesn't have to be English, or even pronounceable.)%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:cuJ}{}~~%
First, how many two letter words start with A? We just need to select the second letter, which can be accomplished in 26 ways. So there are 26 words starting with A. There are also 26 words that start with B. To select a word which starts with either A or B, we can pick the word from the first 26 or the second 26, for a total of 52 words.%
\end{example}
The additive principle also works with more than two events. Say, in addition to your 14 choices for donuts and 16 for dogs, you would also consider eating one of 15 waffles? How many choices do you have now? You would have \(14 + 16 + 15 = 45\) options.%
\begin{example}{}{p:example:rDH}%
How many two letter words start with one of the 5 vowels?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:IBS}{}~~%
There are 26 two letter words starting with A, another 26 starting with E, and so on. We will have 5 groups of 26. So we add 26 to itself 5 times. Of course it would be easier to just multiply \(5\cdot 26\). We are really using the additive principle again, just using multiplication as a shortcut.%
\end{example}
\begin{example}{}{p:example:XKQ}%
Suppose you are going for some fro-yo. You can pick one of 6 yogurt choices, and one of 4 toppings. How many choices do you have?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:oJb}{}~~%
Break your choices up into disjoint events: \(A\) are the choices with the first topping, \(B\) the choices featuring the second topping, and so on. There are four events; each can occur in 6 ways (one for each yogurt flavor). The events are disjoint, so the total number of choices is \(6 + 6 + 6 + 6 = 24\).%
\end{example}
Note that in both of the previous examples, when using the additive principle on a bunch of events all the same size, it is quicker to multiply. This really is the same, and not just because \(6 + 6 + 6 + 6 = 4\cdot 6\). We can first select the topping in 4 ways (that is, we first select which of the disjoint events we will take). For each of those first 4 choices, we now have 6 choices of yogurt. We have:%
\begin{assemblage}{Multiplicative Principle.}{p:assemblage:VVD}%
The \terminology{multiplicative principle} \index{multiplicative principle} states that if event \(A\) can occur in \(m\) ways, and each possibility for \(A\) allows for exactly \(n\) ways for event \(B\), then the event ``\(A\) and \(B\)'' can occur in \(m \cdot n\) ways.%
\end{assemblage}
The multiplicative principle generalizes to more than two events as well.%
\begin{example}{}{p:example:DRZ}%
How many license plates can you make out of three letters followed by three numerical digits?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:UQk}{}~~%
Here we have six events: the first letter, the second letter, the third letter, the first digit, the second digit, and the third digit. The first three events can each happen in 26 ways; the last three can each happen in 10 ways. So the total number of license plates will be \(26\cdot 26\cdot 26 \cdot 10 \cdot 10 \cdot 10\), using the multiplicative principle.%
\par
Does this make sense? Think about how we would pick a license plate. How many choices we would have? First, we need to pick the first letter. There are 26 choices. Now for each of those, there are 26 choices for the second letter: 26 second letters with first letter A, 26 second letters with first letter B, and so on. We add 26 to itself 26 times. Or quicker: there are \(26 \cdot 26\) choices for the first two letters.%
\par
Now for each choice of the first two letters, we have 26 choices for the third letter. That is, 26 third letters for the first two letters AA, 26 choices for the third letter after starting AB, and so on. There are \(26 \cdot 26\) of these \(26\) third letter choices, for a total of \((26\cdot26)\cdot 26\) choices for the first three letters. And for each of these \(26\cdot26\cdot26\) choices of letters, we have a bunch of choices for the remaining digits.%
\par
In fact, there are going to be exactly 1000 choices for the numbers. We can see this because there are 1000 three-digit numbers (000 through 999). This is 10 choices for the first digit, 10 for the second, and 10 for the third. The multiplicative principle says we multiply: \(10\cdot 10 \cdot 10 = 1000\).%
\par
All together, there were \(26^3\) choices for the three letters, and \(10^3\) choices for the numbers, so we have a total of \(26^3 \cdot 10^3\) choices of license plates.%
\end{example}
Careful: ``and'' doesn't mean ``times.'' For example, how many playing cards are both red and a face card? Not \(26 \cdot 12\). The answer is 6, and we needed to know something about cards to answer that question.%
\par
Another caution: how many ways can you select two cards, so that the first one is a red card and the second one is a face card? This looks more like the multiplicative principle (you are counting two separate events) but the answer is not \(26 \cdot 12\) here either. The problem is that while there are 26 ways for the first card to be selected, it is not the case that \emph{for each} of those there are 12 ways to select the second card. If the first card was both red and a face card, then there would be only 11 choices for the second card.\footnote{To solve this problem, you could break it into two cases. First, count how many ways there are to select the two cards when the first card is a red non-face card. Second, count how many ways when the first card is a red face card. Doing so makes the events in each separate case independent, so the multiplicative principle can be applied.\label{g:fn:idm6350}}%
\begin{example}{Counting functions.}{x:example:example-counting-functions-all}%
How many functions \(f:\{1,2,3,4,5\} \to \{a,b,c,d\}\) are there?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:AXt}{}~~%
Remember that a function sends each element of the domain to exactly one element of the codomain. To determine a function, we just need to specify the image of each element in the domain. Where can we send 1? There are 4 choices. Where can we send 2? Again, 4 choices. What we have here is 5 ``events'' (picking the image of an element in the domain) each of which can happen in 4 ways (the choices for that image). Thus there are \(4 \cdot 4 \cdot 4 \cdot 4 \cdot 4 = 4^5\) functions.%
\par
This is more than just an example of how we can use the multiplicative principle in a particular counting question. What we have here is a general interpretation of certain applications of the multiplicative principle using rigorously defined mathematical objects: functions. Whenever we have a counting question that asks for the the number of outcomes of a repeated event, we can interpret that as asking for the number of functions from \(\{1,2,\ldots, n\}\) (where \(n\) is the number of times the event is repeated) to \(\{1,2,\ldots,k\}\) (where \(k\) is the number of ways that event can occur).%
\end{example}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Counting With Sets}
\typeout{************************************************}
%
\begin{subsectionptx}{Counting With Sets}{}{Counting With Sets}{}{}{x:subsection:subsec_countingWithSets}
Do you believe the additive and multiplicative principles? How would you convince someone they are correct? This is surprisingly difficult. They seem so simple, so obvious. But why do they work?%
\par
To make things clearer, and more mathematically rigorous, we will use sets. Do not skip this section! It might seem like we are just trying to give a proof of these principles, but we are doing a lot more. If we understand the additive and multiplicative principles rigorously, we will be better at applying them, and knowing when and when not to apply them at all.%
\par
We will look at the additive and multiplicative principles in a slightly different way. Instead of thinking about event \(A\) and event \(B\), we want to think of a set \(A\) and a set \(B\). The sets will contain all the different ways the event can happen. (It will be helpful to be able to switch back and forth between these two models when checking that we have counted correctly.) Here's what we mean:%
\begin{example}{}{p:example:CcM}%
Suppose you own 9 shirts and 5 pairs of pants.%
\begin{enumerate}
\item{}How many outfits can you make?%
\item{}If today is half-naked-day, and you will wear only a shirt or only a pair of pants, how many choices do you have?%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:heC}{}~~%
By now you should agree that the answer to the first question is \(9 \cdot 5 = 45\) and the answer to the second question is \(9 + 5 = 14\). These are the multiplicative and additive principles. There are two events: picking a shirt and picking a pair of pants. The first event can happen in 9 ways and the second event can happen in 5 ways. To get both a shirt and a pair of pants, you multiply. To get just one article of clothing, you add.%
\par
Now look at this using sets. There are two sets, call them \(S\) and \(P\). The set \(S\) contains all 9 shirts so \(|S| = 9\) while \(|P| = 5\), since there are 5 elements in the set \(P\) (namely your 5 pairs of pants). What are we asking in terms of these sets? Well in question 2, we really want \(|S \cup P|\), the number of elements in the union of shirts and pants. This is just \(|S| + |P|\) (since there is no overlap; \(|S \cap P| = 0\)). Question 1 is slightly more complicated. Your first guess might be to find \(|S \cap P|\), but this is not right (there is nothing in the intersection). We are not asking for how many clothing items are both a shirt and a pair of pants. Instead, we want one of each. We could think of this as asking how many pairs \((x,y)\) there are, where \(x\) is a shirt and \(y\) is a pair of pants. As we will soon verify, this number is \(|S| \cdot |P|\).%
\end{example}
From this example we can see right away how to rephrase our additive principle in terms of sets:%
\begin{assemblage}{Additive Principle (with sets).}{p:assemblage:leB}%
\index{additive principle} Given two sets \(A\) and \(B\), if \(A \cap B = \emptyset\) (that is, if there is no element in common to both \(A\) and \(B\)), then%
\begin{equation*}
\card{A \cup B} = \card{A} + \card{B}\text{.}
\end{equation*}
%
\end{assemblage}
This hardly needs a proof. To find \(A \cup B\), you take everything in \(A\) and throw in everything in \(B\). Since there is no element in both sets already, you will have \(\card{A}\) things and add \(\card{B}\) new things to it. This is what adding does! Of course, we can easily extend this to any number of disjoint sets.%
\par
From the example above, we see that in order to investigate the multiplicative principle carefully, we need to consider ordered pairs. We should define this carefully:%
\begin{assemblage}{Cartesian Product.}{p:assemblage:RlK}%
Given sets \(A\) and \(B\), we can form the \emph{set}%
\begin{equation*}
A \times B = \{(x,y) \st x \in A \wedge y \in B\}
\end{equation*}
to be the set of all ordered pairs \((x,y)\) where \(x\) is an element of \(A\) and \(y\) is an element of \(B\). We call \(A \times B\) the \terminology{Cartesian product} \index{Cartesian product} of \(A\) and \(B\).%
\end{assemblage}
\begin{example}{}{p:example:ijV}%
Let \(A = \{1,2\}\) and \(B=\{3,4,5\}\). Find \(A \times B\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:NlL}{}~~%
We want to find ordered pairs \((a,b)\) where \(a\) can be either \(1\) or \(2\) and \(b\) can be either 3, 4, or 5. \(A \times B\) is the set of all of these pairs:%
\begin{equation*}
A \times B = \{(1,3), (1,4), (1,5), (2,3), (2,4), (2,5)\}\text{.}
\end{equation*}
%
\end{example}
The question is, what is \(\card{A \times B}\)? To figure this out, write out \(A \times B\). Let \(A = \{a_1,a_2, a_3, \ldots,
a_m\}\) and \(B = \{b_1,b_2, b_3, \ldots, b_n\}\) (so \(\card{A} = m\) and \(\card{B} = n\)). The set \(A \times B\) contains all pairs with the first half of the pair being some \(a_i \in A\) and the second being one of the \(b_j \in B\). In other words:%
\begin{align*}
A \times B = \{ \amp (a_1, b_1), (a_1, b_2), (a_1, b_3), \ldots (a_1, b_n),\\
\amp (a_2, b_1), (a_2, b_2), (a_2, b_3), \ldots, (a_2, b_n),\\
\amp (a_3, b_1), (a_3, b_2), (a_3, b_3), \ldots, (a_3, b_n),\\
\amp \vdots\\
\amp (a_m, b_1), (a_m, b_2), (a_m, b_3), \ldots, (a_m, b_n)\}\text{.}
\end{align*}
%
\par
Notice what we have done here: we made \(m\) rows of \(n\) pairs, for a total of \(m \cdot n\) pairs.%
\par
Each row above is really \(\{a_i\} \times B\) for some \(a_i \in A\). That is, we fixed the \(A\)-element. Broken up this way, we have%
\begin{equation*}
A \times B = (\{a_1\} \times B) \cup (\{a_2\} \times B) \cup (\{a_3\}\times B) \cup \cdots \cup (\{a_m\} \times B)\text{.}
\end{equation*}
%
\par
So \(A \times B\) is really the union of \(m\) disjoint sets. Each of those sets has \(n\) elements in them. The total (using the additive principle) is \(n + n + n + \cdots + n = m \cdot n\).%
\par
To summarize:%
\begin{assemblage}{Multiplicative Principle (with sets).}{p:assemblage:xsT}%
\index{multiplicative principle} Given two sets \(A\) and \(B\), we have \(\card{A \times B} = \card{A} \cdot \card{B}\).%
\end{assemblage}
Again, we can easily extend this to any number of sets.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Principle of Inclusion\slash{}Exclusion}
\typeout{************************************************}
%
\begin{subsectionptx}{Principle of Inclusion\slash{}Exclusion}{}{Principle of Inclusion\slash{}Exclusion}{}{}{x:subsection:subsec_PIE}
\begin{investigation}{}{p:investigation:fpp}%
A recent buzz marketing campaign for \emph{Village Inn} surveyed patrons on their pie preferences. People were asked whether they enjoyed (A) Apple, (B) Blueberry or (C) Cherry pie (respondents answered yes or no to each type of pie, and could say yes to more than one type). The following table shows the results of the survey.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cccccccc}
\multicolumn{1}{rA}{Pies enjoyed:}&A&B&C&AB&AC&BC&ABC\tabularnewline\hrulethin
\multicolumn{1}{rA}{Number of people:}&20&13&26&9&15&7&5
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
How many of those asked enjoy at least one of the kinds of pie? Also, explain why the answer is not 95.%
\end{investigation}
\index{principle of inclusion\slash{}exclusion}\index{PIE} While we are thinking about sets, consider what happens to the additive principle when the sets are NOT disjoint. Suppose we want to find \(\card{A \cup B}\) and know that \(\card{A} = 10\) and \(\card{B} = 8\). This is not enough information though. We do not know how many of the 8 elements in \(B\) are also elements of \(A\). However, if we also know that \(\card{A \cap B} = 6\), then we can say exactly how many elements are in \(A\), and, of those, how many are in \(B\) and how many are not (6 of the 10 elements are in \(B\), so 4 are in \(A\) but not in \(B\)). We could fill in a Venn diagram \index{Venn diagram} as follows:%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
       \begin{tikzpicture}
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
  \draw (0,0) node{6} (-1,0) node{4} (1,0) node{2};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
This says there are 6 elements in \(A \cap B\), 4 elements in \(A \setminus B\) and 2 elements in \(B \setminus A\). Now \emph{these} three sets \emph{are} disjoint, so we can use the additive principle to find the number of elements in \(A \cup B\). It is \(6 + 4 + 2 = 12\).%
\par
This will always work, but drawing a Venn diagram is more than we need to do. In fact, it would be nice to relate this problem to the case where \(A\) and \(B\) are disjoint. Is there one rule we can make that works in either case?%
\par
Here is another way to get the answer to the problem above. Start by just adding \(\card{A} + \card{B}\). This is \(10 + 8 = 18\), which would be the answer if \(\card{A \cap B} = 0\). We see that we are off by exactly 6, which just so happens to be \(\card{A \cap B}\). So perhaps we guess,%
\begin{equation*}
\card{A \cup B} = \card{A} + \card{B} - \card{A \cap B}\text{.}
\end{equation*}
%
\par
This works for this one example. Will it always work? Think about what we are doing here. We want to know how many things are either in \(A\) or \(B\) (or both). We can throw in everything in \(A\), and everything in \(B\). This would give \(\card{A} + \card{B}\) many elements. But of course when you actually take the union, you do not repeat elements that are in both. So far we have counted every element in \(A \cap B\) exactly twice: once when we put in the elements from \(A\) and once when we included the elements from \(B\). We correct by subtracting out the number of elements we have counted twice. So we added them in twice, subtracted once, leaving them counted only one time.%
\par
In other words, we have:%
\begin{assemblage}{Cardinality of a union (2 sets).}{p:assemblage:dAc}%
For any finite sets \(A\) and \(B\),%
\begin{equation*}
\card{A \cup B} = \card{A} + \card{B} - \card{A \cap B}\text{.}
\end{equation*}
%
\end{assemblage}
We can do something similar with three sets.%
\begin{example}{}{p:example:Ore}%
An examination in three subjects, Algebra, Biology, and Chemistry, was taken by 41 students. The following table shows how many students failed in each single subject and in their various combinations:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cccccccc}
\multicolumn{1}{rA}{Subject:}&A&B&C&AB&AC&BC&ABC\tabularnewline\hrulethin
\multicolumn{1}{rA}{Failed:}&12&5&8&2&6&3&1
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
How many students failed at least one subject?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:tsU}{}~~%
The answer is not 37, even though the sum of the numbers above is 37. For example, while 12 students failed Algebra, 2 of those students also failed Biology, 6 also failed Chemestry, and 1 of those failed all three subjects. In fact, that 1 student who failed all three subjects is counted a total of 7 times in the total 37. To clarify things, let us think of the students who failed Algebra as the elements of the set \(A\), and similarly for sets \(B\) and \(C\). The one student who failed all three subjects is the lone element of the set \(A \cap B \cap C\). Thus, in Venn diagrams:%
\begin{sidebyside}{1}{0.32}{0.32}{0}%
\begin{sbspanel}{0.36}%
\resizebox{\linewidth}{!}{%
           \begin{tikzpicture}[scale=0.9]
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
  \draw (0,-.35) node{1};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Now let's fill in the other intersections. We know \(A\cap B\) contains 2 elements, but 1 element has already been counted. So we should put a 1 in the region where \(A\) and \(B\) intersect (but \(C\) does not). Similarly, we calculate the cardinality of \((A\cap C) \setminus B\), and \((B \cap C) \setminus A\):%
\begin{sidebyside}{1}{0.32}{0.32}{0}%
\begin{sbspanel}{0.36}%
\resizebox{\linewidth}{!}{%
           \begin{tikzpicture}[scale=0.9]
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
  \draw (0,-.35) node{1} (0,.4) node{1} (-.6,-.65) node{5} (.6,-.65) node{2};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Next, we determine the numbers which should go in the remaining regions, including outside of all three circles. This last number is the number of students who did not fail any subject:%
\begin{sidebyside}{1}{0.32}{0.32}{0}%
\begin{sbspanel}{0.36}%
\resizebox{\linewidth}{!}{%
           \begin{tikzpicture}[scale=0.9]
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
  \draw (0,-.35) node{1} (0,.4) node{1} (-.6,-.65) node{5} (.6,-.65) node{2};
  \draw (-1,.3) node{5} (1,.3) node{1} (0,-1.5) node{0} (-1.5,-1.75) node{26};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
We found 5 goes in the ``\(A\) only'' region because the entire circle for \(A\) needed to have a total of 12, and 7 were already accounted for. Similarly, we calculate the ``\(B\) only'' region to contain only 1 student and the ``\(C\) only'' region to contain no students.%
\par
Thus the number of students who failed at least one class is 15 (the sum of the numbers in each of the eight disjoint regions). The number of students who passed all three classes is 26: the total number of students, 41, less the 15 who failed at least one class.%
\par
Note that we can also answer other questions. For example, how many students failed just Chemistry? None. How many passed Algebra but failed both Biology and Chemistry? This corresponds to the region inside both \(B\) and \(C\) but outside of \(A\), containing 2 students.%
\end{example}
Could we have solved the problem above in an algebraic way? While the additive principle generalizes to any number of sets, when we add a third set here, we must be careful. With two sets, we needed to know the cardinalities of \(A\), \(B\), and \(A \cap B\) in order to find the cardinality of \(A \cup B\). With three sets we need more information. There are more ways the sets can combine. Not surprisingly then, the formula for cardinality of the union of three non-disjoint sets is more complicated:%
\begin{assemblage}{Cardinality of a union (3 sets).}{p:assemblage:JHl}%
For any finite sets \(A\), \(B\), and \(C\),%
\begin{equation*}
\card{A \cup B \cup C} = \card{A} + \card{B} + \card{C} - \card{A \cap B} - \card{A \cap C} - \card{B \cap C} + \card{A \cap B \cap C}\text{.}
\end{equation*}
%
\end{assemblage}
To determine how many elements are in at least one of \(A\), \(B\), or \(C\) we add up all the elements in each of those sets. However, when we do that, any element in both \(A\) and \(B\) is counted twice. Also, each element in both \(A\) and \(C\) is counted twice, as are elements in \(B\) and \(C\), so we take each of those out of our sum once. But now what about the elements which are in \(A \cap B \cap C\) (in all three sets)? We added them in three times, but also removed them three times. They have not yet been counted. Thus we add those elements back in at the end.%
\par
Returning to our example above, we have \(\card{A} = 12\), \(\card{B} = 5\), \(\card{C} = 8\). We also have \(\card{A \cap B} = 2\), \(\card{A \cap C} = 6\), \(\card{B \cap C} = 3\), and \(\card{A \cap B \cap C} = 1\). Therefore:%
\begin{equation*}
\card{A \cup B \cup C} = 12 + 5 + 8 - 2 - 6 - 3 + 1 = 15\text{.}
\end{equation*}
%
\par
This is what we got when we solved the problem using Venn diagrams.%
\par
This process of adding in, then taking out, then adding back in, and so on is called the \emph{Principle of Inclusion\slash{}Exclusion}, or simply PIE. We will return to this counting technique later to solve for more complicated problems (involving more than 3 sets).%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_counting-addmult}
\begin{divisionexercise}{\hyperlink{g:solution:idm6684-back}{1}}{}{}{p:exercise:Abr}%
Your wardrobe consists of 5 shirts, 3 pairs of pants, and 17 bow ties. bow ties How many different outfits can you make?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm6743-back}{2}}{}{}{p:exercise:giA}%
For your college interview, you must wear a tie. You own 3 regular (boring) ties and 5 (cool) bow ties.%
\begin{enumerate}[label=(\alph*)]
\item{}How many choices do you have for your neck-wear?%
\item{}You realize that the interview is for clown college, so you should probably wear both a regular tie and a bow tie. How many choices do you have now?%
\item{}For the rest of your outfit, you have 5 shirts, 4 skirts, 3 pants, and 7 dresses. You want to select either a shirt to wear with a skirt or pants, or just a dress. How many outfits do you have to choose from?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:umf-back}{3}}{}{}{p:exercise:MpJ}%
Your Blu-ray collection consists of 9 comedies and 7 horror movies. Give an example of a question for which the answer is:%
\begin{enumerate}[label=(\alph*)]
\item{}16.%
\item{}63.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:swS}%
We usually write numbers in decimal form (or base 10), meaning numbers are composed using 10 different ``digits'' \(\{0,1,\ldots, 9\}\text{.}\) Sometimes though it is useful to write numbers hexadecimal or base 16. Now there are 16 distinct digits that can be used to form numbers: \(\{0, 1, \ldots, 9, \mathrm{A, B, C, D, E, F}\}\text{.}\) So for example, a 3 digit hexadecimal number might be 2B8.%
\begin{enumerate}[label=(\alph*)]
\item{}How many 2-digit hexadecimals are there in which the first digit is E or F? Explain your answer in terms of the additive principle (using either events or sets).%
\item{}Explain why your answer to the previous part is correct in terms of the multiplicative principle (using either events or sets). Why do both the additive and multiplicative principles give you the same answer?%
\item{}How many 3-digit hexadecimals start with a letter (A-F) and end with a numeral (0-9)? Explain.%
\item{}How many 3-digit hexadecimals start with a letter (A-F) or end with a numeral (0-9) (or both)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm6905-back}{5}}{}{}{p:exercise:YEb}%
Suppose you have sets \(A\) and \(B\) with \(\card{A} = 10\) and \(\card{B} = 15\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}What is the largest possible value for \(\card{A \cap B}\text{?}\)%
\item{}What is the smallest possible value for \(\card{A \cap B}\text{?}\)%
\item{}What are the possible values for \(\card{A \cup B}\text{?}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm6956-back}{6}}{}{}{p:exercise:ELk}%
If \(\card{A} = 8\) and \(\card{B} = 5\text{,}\) what is \(\card{A \cup B} + \card{A \cap B}\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7001-back}{7}}{}{}{p:exercise:kSt}%
A group of college students were asked about their TV watching habits. Of those surveyed, 28 students watch \emph{The Walking Dead}, 19 watch \emph{The Blacklist}, and 24 watch \emph{Game of Thrones}. Additionally, 16 watch \emph{The Walking Dead} and \emph{The Blacklist}, 14 watch \emph{The Walking Dead} and \emph{Game of Thrones}, and 10 watch \emph{The Blacklist} and \emph{Game of Thrones}. There are 8 students who watch all three shows. How many students surveyed watched at least one of the shows?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7029-back}{8}}{}{}{p:exercise:QZC}%
In a recent survey, 30 students reported whether they liked their potatoes Mashed, French-fried, or Twice-baked. 15 liked them mashed, 20 liked French fries, and 9 liked twice baked potatoes. Additionally, 12 students liked both mashed and fried potatoes, 5 liked French fries and twice baked potatoes, 6 liked mashed and baked, and 3 liked all three styles. How many students \emph{hate} potatoes? Explain why your answer is correct.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm7060-back}{9}}{}{}{p:exercise:xgL}%
For how many \(n \in \{1,2, \ldots, 500\}\) is \(n\) a multiple of one or more of 5, 6, or 7?%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:dnU}%
How many positive integers less than 1000 are multiples of 3, 5, or 7? Explain your answer using the Principle of Inclusion\slash{}Exclusion.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Lkq-back}{11}}{}{}{p:exercise:Jvd}%
Let \(A\), \(B\), and \(C\) be sets.%
\begin{enumerate}[label=(\alph*)]
\item{}Find \(\card{(A \cup C)\setminus B}\) provided \(\card{A} = 50\), \(\card{B} = 45\), \(\card{C} = 40\), \(\card{A\cap B} = 20\), \(\card{A \cap C} = 15\), \(\card{B \cap C} = 23\), and \(\card{A \cap B \cap C} = 12\).%
\item{}Describe a set in terms of \(A\), \(B\), and \(C\) with cardinality 26.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7214-back}{12}}{}{}{p:exercise:pCm}%
Consider all 5 letter ``words'' made from the letters \(a\) through \(h\text{.}\) (Recall, words are just strings of letters, not necessarily actual English words.)%
\begin{enumerate}[label=(\alph*)]
\item{}How many of these words are there total?%
\item{}How many of these words contain no repeated letters?%
\item{}How many of these words start with the sub-word ``aha''?%
\item{}How many of these words either start with ``aha'' or end with ``bah'' or both?%
\item{}How many of the words containing no repeats also do not contain the sub-word ``bad''?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:XyI-back}{13}}{}{}{p:exercise:VJv}%
For how many three digit numbers (100 to 999) is the \emph{sum of the digits} even? (For example, \(343\) has an even sum of digits: \(3+4+3 = 10\) which is even.) Find the answer and explain why it is correct in at least two \emph{different} ways.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:DFR-back}{14}}{}{}{p:exercise:BQE}%
The number 735000 factors as \(2^3 \cdot 3 \cdot 5^4 \cdot 7^2\). How many divisors does it have? Explain your answer using the multiplicative principle.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.2 Binomial Coefficients}
\typeout{************************************************}
%
\begin{sectionptx}{Binomial Coefficients}{}{Binomial Coefficients}{}{}{x:section:sec_counting-binom}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:qkg}%
In chess, a rook can move only in straight lines (not diagonally). Fill in each square of the chess board below with the number of different shortest paths the rook, in the upper left corner, can take to get to that square. For example, one square is already filled in. There are six different paths from the rook to the square: DDRR (down down right right), DRDR, DRRD, RDDR, RDRD and RRDD.%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.6]
\foreach \row in {0, 2, 4,6}{
  \foreach \col in {0,2,4,6}{
  \draw[fill=gray!30] (\row,\col) rectangle (\row+1, \col+1) rectangle (\row+2, \col+2);
  }
}
\draw[thick] (0,0) rectangle (8,8);
\node at (0.5,7.5) {\Large \symrook};
\node at (2.5,5.5) {$6$};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{investigation}
Here are some apparently different discrete objects we can count: subsets, bit strings, lattice paths, and binomial coefficients. We will give an example of each type of counting problem (and say what these things even are). As we will see, these counting problems are surprisingly similar.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Subsets}
\typeout{************************************************}
%
\begin{subsectionptx}{Subsets}{}{Subsets}{}{}{p:subsection:cgB}
Subsets should be familiar, otherwise read over \hyperref[x:section:sec_intro-sets]{Section~\ref{x:section:sec_intro-sets}} again. Suppose we look at the set \(A = \{1,2,3,4,5\}\). How many subsets of \(A\) contain exactly 3 elements?%
\par
First, a simpler question: How many subsets of \(A\) are there total? In other words, what is \(|\pow(A)|\) (the cardinality of the power set of \(A\))? Think about how we would build a subset. We need to decide, for each of the elements of \(A\), whether or not to include the element in our subset. So we need to decide ``yes'' or ``no'' for the element 1. And for each choice we make, we need to decide ``yes'' or ``no'' for the element 2. And so on. For each of the 5 elements, we have 2 choices. Therefore the number of subsets is simply \(2\cdot 2\cdot 2 \cdot 2\cdot 2 = 2^5\) (by the multiplicative principle).%
\par
Of those 32 subsets, how many have 3 elements? This is not obvious. Note that we cannot just use the multiplicative principle. Maybe we want to say we have 2 choices (yes\slash{}no) for the first element, 2 choices for the second, 2 choices for the third, and then only 1 choice for the other two. But what if we said ``no'' to one of the first three elements? Then we would have two choices for the 4th element. What a mess!%
\par
Another (bad) idea: we need to pick three elements to be in our subset. There are 5 elements to choose from. So there are 5 choices for the first element, and for each of those 4 choices for the second, and then 3 for the third (last) element. The multiplicative principle would say then that there are a total of \(5 \cdot 4 \cdot 3 = 60\) ways to select the 3-element subset. But this cannot be correct (\(60 > 32\) for one thing). One of the outcomes we would get from these choices would be the set \(\{3,2,5\}\), by choosing the element 3 first, then the element 2, then the element 5. Another outcome would be \(\{5,2,3\}\) by choosing the element 5 first, then the element 2, then the element 3. But these are the same set! We can correct this by dividing: for each set of three elements, there are 6 outcomes counted among our 60 (since there are 3 choices for which element we list first, 2 for which we list second, and 1 for which we list last). So we expect there to be 10 3-element subsets of \(A\).%
\par
Is this right? Well, we could list out all 10 of them, being very systematic in doing so, to make sure we don't miss any or list any twice. Or we could try to count how many subsets of \(A\) \emph{don't} have 3 elements in them. How many have no elements? Just 1 (the empty set). How many have 5? Again, just 1. These are the cases in which we say ``no'' to all elements, or ``yes'' to all elements. Okay, what about the subsets which contain a single element? There are 5 of these. We must say ``yes'' to exactly one element, and there are 5 to choose from. This is also the number of subsets containing 4 elements. Those are the ones for which we must say ``no'' to exactly one element.%
\par
So far we have counted 12 of the 32 subsets. We have not yet counted the subsets with cardinality 2 and with cardinality 3. There are a total of 20 subsets left to split up between these two groups. But the number of each must be the same! If we say ``yes'' to exactly two elements, that can be accomplished in exactly the same number of ways as the number of ways we can say ``no'' to exactly two elements. So the number of 2-element subsets is equal to the number of 3-element subsets. Together there are 20 of these subsets, so 10 each.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{lllllll}
\multicolumn{1}{c}{Number of elements:}&\multicolumn{1}{c}{0}&\multicolumn{1}{c}{1}&\multicolumn{1}{c}{2}&\multicolumn{1}{c}{3}&\multicolumn{1}{c}{4}&\multicolumn{1}{c}{5}\tabularnewline\hrulethin
\multicolumn{1}{c}{Number of subsets:}&\multicolumn{1}{c}{1}&\multicolumn{1}{c}{5}&\multicolumn{1}{c}{10}&\multicolumn{1}{c}{10}&\multicolumn{1}{c}{5}&\multicolumn{1}{c}{1}
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Bit Strings}
\typeout{************************************************}
%
\begin{subsectionptx}{Bit Strings}{}{Bit Strings}{}{}{p:subsection:InK}
``Bit'' is short for ``binary digit,'' so a \terminology{bit string} is a string of binary digits. The \terminology{binary digits} are simply the numbers 0 and 1. All of the following are bit strings:%
\begin{equation*}
1001 \quad 0 \quad 1111 \quad 1010101010\text{.}
\end{equation*}
%
\par
The number of bits (0's or 1's) in the string is the \terminology{length} of the string; the strings above have lengths 4, 1, 4, and 10 respectively. We also can ask how many of the bits are 1's. The number of 1's in a bit string is the \terminology{weight} of the string; the weights of the above strings are 2, 0, 4, and 5 respectively.%
\begin{assemblage}{Bit Strings.}{p:assemblage:gQu}%
\index{bit string}%
\begin{itemize}[label=\textbullet]
\item{}An \terminology{\(n\)-bit string} is a bit string of length \(n\). That is, it is a string containing \(n\) symbols, each of which is a bit, either 0 or 1.%
\item{}The \terminology{weight} \index{weight, of a string} of a bit string is the number of 1's in it.%
\item{}\(\B^n\) \label{g:notation:idm7348} is the \emph{set} of all \(n\)-bit strings.%
\item{}\(\B^n_k\) \label{g:notation:idm7356} is the set of all \(n\)-bit strings of weight \(k\).%
\end{itemize}
%
\end{assemblage}
For example, the elements of the set \(\B^3_2\) are the bit strings 011, 101, and 110. Those are the only strings containing three bits exactly two of which are 1's.%
\par
The counting questions: How many bit strings have length 5? How many of those have weight 3? In other words, we are asking for the cardinalities \(|\B^5|\) and \(|\B^5_3|\).%
\par
To find the number of 5-bit strings is straight forward. We have 5 bits, and each can either be a 0 or a 1. So there are 2 choices for the first bit, 2 choices for the second, and so on. By the multiplicative principle, there are \(2 \cdot 2 \cdot 2\cdot 2 \cdot 2 = 2^5 = 32\) such strings.%
\par
Finding the number of 5-bit strings of weight 3 is harder. Think about how such a string could start. The first bit must be either a 0 or a 1. In the first case (the string starts with a 0), we must then decide on four more bits. To have a total of three 1's, among those four remaining bits there must be three 1's. To count all of these strings, we must include all 4-bit strings of weight 3. In the second case (the string starts with a 1), we still have four bits to choose, but now only two of them can be 1's, so we should look at all the 4-bit strings of weight 2. So the strings in \(\B^5_3\) all have the form \(1\B^4_2\) (that is, a 1 followed by a string from \(\B^4_2\)) or \(0\B^4_3\). These two sets are disjoint, so we can use the additive principle:%
\begin{equation*}
|\B^5_3| = |\B^4_2| + |\B^4_3|\text{.}
\end{equation*}
%
\par
This is an example of a \terminology{recurrence relation}. We represented one instance of our counting problem in terms of two simpler instances of the problem. If only we knew the cardinalities of \(\B^4_2\) and \(\B^4_3\). Repeating the same reasoning,%
\begin{equation*}
|\B^4_2| = |\B^3_1| + |\B^3_2| \quad \mbox{and} \quad |\B^4_3| = |\B^3_2| + |\B^3_3|\text{.}
\end{equation*}
%
\par
We can keep going down, but this should be good enough. Both \(\B^3_1\) and \(\B^3_2\) contain 3 bit strings: we must pick one of the three bits to be a 1 (three ways to do that) or one of the three bits to be a 0 (three ways to do that). Also, \(\B^3_3\) contains just one string: 111. Thus \(|\B^4_2| = 6\) and \(|\B^4_3| = 4\), which puts \(\B^5_3\) at a total of 10 strings.%
\par
But wait \textemdash{}32 and 10 were the answers to the counting questions about subsets. Coincidence? Not at all. Each bit string can be thought of as a \emph{code} for a subset. To represent the subsets of \(A = \{1,2,3,4,5\}\), we can use 5-bit strings, one bit for each element of \(A\). Each bit in the string is a 0 if its corresponding element of \(A\) is not in the subset, and a 1 if the element of \(A\) is in the subset. Remember, deciding the subset amounted to a sequence of five yes\slash{}no votes for the elements of \(A\). Instead of yes, we put a 1; instead of no, we put a 0.%
\par
For example, the bit string \(11001\) represents the subset \(\{1,2,5\}\) since the first, second and fifth bits are 1's. The subset \(\{3,5\}\) would be coded by the string \(00101\). What we really have here is a bijection from \(\pow(A)\) to \(\B^5\).%
\par
Now for a subset to contain exactly three elements, the corresponding bit string must contain exactly three 1's. In other words, the weight must be 3. Thus counting the number of 3-element subsets of \(A\) is the same as counting the number 5-bit strings of weight 3.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Lattice Paths}
\typeout{************************************************}
%
\begin{subsectionptx}{Lattice Paths}{}{Lattice Paths}{}{}{p:subsection:ouT}
The \terminology{integer lattice} is the set of all points in the Cartesian plane for which both the \(x\) and \(y\) coordinates are integers. If you like to draw graphs on graph paper, the lattice is the set of all the intersections of the grid lines.%
\par
A \terminology{lattice path} \index{lattice path} is one of the shortest possible paths connecting two points on the lattice, moving only horizontally and vertically. For example, here are three possible lattice paths from the point \((0,0)\) to \((3,2)\):%
\begin{sidebyside}{3}{0.0166666666666667}{0.0166666666666667}{0.0333333333333333}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
      \begin{tikzpicture}
  \draw[very thin, color=gray!50] (-.5,-.5) grid (3.5, 2.5);
  \foreach \x in {0,...,3}
  \foreach \y in {0,...,2}
  \fill (\x,\y) circle (1.5pt);
  \draw (0,0) node[below left] { (0,0)} (3,2) node[above right] { (3,2)};
  \draw[very thick] (0,0) -- (2,0) -- (2,2) -- (3,2);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
      \begin{tikzpicture}
  \draw[very thin, color=gray!50] (-.5,-.5) grid (3.5, 2.5);
  \foreach \x in {0,...,3}
  \foreach \y in {0,...,2}
  \fill (\x,\y) circle (1.5pt);
  \draw (0,0) node[below left] { (0,0)} (3,2) node[above right] { (3,2)};
  \draw[very thick] (0,0) -- (0,2) -- (3,2);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
      \begin{tikzpicture}
  \draw[very thin, color=gray!50] (-.5,-.5) grid (3.5, 2.5);
  \foreach \x in {0,...,3}
  \foreach \y in {0,...,2}
  \fill (\x,\y) circle (1.5pt);
  \draw (0,0) node[below left] { (0,0)} (3,2) node[above right] { (3,2)};
  \draw[very thick] (0,0) -- (1,0) -- (1,1) -- (3,1) -- (3,2);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Notice to ensure the path is the \emph{shortest} possible, each move must be either to the right or up. Additionally, in this case, note that no matter what path we take, we must make three steps right and two steps up. No matter what order we make these steps, there will always be 5 steps. Thus each path has \emph{length} 5.%
\par
The counting question: how many lattice paths are there between \((0,0)\) and \((3,2)\)? We could try to draw all of these, or instead of drawing them, maybe just list which direction we travel on each of the 5 steps. One path might be RRUUR, or maybe UURRR, or perhaps RURRU (those correspond to the three paths drawn above). So how many such strings of R's and U's are there?%
\par
Notice that each of these strings must contain 5 symbols. Exactly 3 of them must be R's (since our destination is 3 units to the right). This seems awfully familiar. In fact, what if we used \(1\)'s instead of R's and 0's instead of U's? Then we would just have 5-bit strings of weight 3. There are 10 of those, so there are 10 lattice paths from (0,0) to (3,2).%
\par
The correspondence between bit strings and lattice paths does not stop there. Here is another way to count lattice paths. Consider the lattice shown below:%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
      \begin{tikzpicture}
  \draw[very thin, color=gray!50] (-.5,-.5) grid (3.5, 2.5);
  \foreach \x in {0,...,3}
  \foreach \y in {0,...,2}
  \fill (\x,\y) circle (1.5pt);
  \draw (0,0) node[below left] { (0,0)} (3,2) node[above right] { (3,2)};
  \draw (3,1) node[above right] { \(B\)} (2,2) node[above right]{ \(A\)};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Any lattice path from (0,0) to (3,2) must pass through exactly one of \(A\) and \(B\). The point \(A\) is 4 steps away from (0,0) and two of them are towards the right. The number of lattice paths to \(A\) is the same as the number of 4-bit strings of weight 2, namely 6. The point \(B\) is 4 steps away from (0,0), but now 3 of them are towards the right. So the number of paths to point \(B\) is the same as the number of 4-bit strings of weight 3, namely 4. So the total number of paths to (3,2) is just \(6+4\). This is the same way we calculated the number of 5-bit strings of weight 3. The point: the exact same recurrence relation exists for bit strings and for lattice paths.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Binomial Coefficients}
\typeout{************************************************}
%
\begin{subsectionptx}{Binomial Coefficients}{}{Binomial Coefficients}{}{}{p:subsection:UCc}
\terminology{Binomial coefficients} are the coefficients in the expanded version of a binomial, such as \((x+y)^5\). What happens when we multiply such a binomial out? We will expand \((x+y)^n\) for various values of \(n\). Each of these are done by multiplying everything out (i.e., FOIL-ing) and then collecting like terms.%
\begin{equation*}
(x+y)^1 = x + y
\end{equation*}
%
\begin{equation*}
(x+y)^2 = x^2 + 2xy + y^2
\end{equation*}
%
\begin{equation*}
(x+y)^3 = x^3 + 3x^2y + 3xy^2 + y^3
\end{equation*}
%
\begin{equation*}
(x+y)^4 = x^4 + 4x^3y + 6x^2y^2 + 4xy^3 + y^4\text{.}
\end{equation*}
%
\par
In fact, there is a quicker way to expand the above binomials. For example, consider the next one, \((x+y)^5\). What we are really doing is multiplying out,%
\begin{equation*}
(x+y)(x+y)(x+y)(x+y)(x+y)\text{.}
\end{equation*}
%
\par
If that looks daunting, go back to the case of \((x+y)^3 = (x+y)(x+y)(x+y)\). Why do we only have one \(x^3\) and \(y^3\) but three \(x^2y\) and \(xy^2\) terms? Every time we distribute over an \((x+y)\) we create two copies of what is left, one multiplied by \(x\), the other multiplied by \(y\). To get \(x^3\), we need to pick the ``multiplied by \(x\)'' side every time (we don't have any \(y\)'s in the term). This will only happen once. On the other hand, to get \(x^2y\) we need to select the \(x\) side twice and the \(y\) side once. In other words, we need to pick one of the three \((x+y)\) terms to ``contribute'' their \(y\).%
\par
Similarly, in the expansion of \((x+y)^5\), there will be only one \(x^5\) term and one \(y^5\) term. This is because to get an \(x^5\), we need to use the \(x\) term in each of the copies of the binomial \((x+y)\), and similarly for \(y^5\). What about \(x^4y\)? To get terms like this, we need to use four \(x\)'s and one \(y\), so we need exactly one of the five binomials to contribute a \(y\). There are 5 choices for this, so there are 5 ways to get \(x^4y\), so the coefficient of \(x^4y\) is 5. This is also the coefficient for \(xy^4\) for the same (but opposite) reason: there are 5 ways to pick which of the 5 binomials contribute the single \(x\). So far we have%
\begin{equation*}
(x+y)^5 = x^5 + 5x^4y + \underline{~?~}~x^3y^2 + \underline{~?~}~x^2y^3 + 5 xy^4 + y^5\text{.}
\end{equation*}
%
\par
We still need the coefficients of \(x^3y^2\) and \(x^2y^3\). In both cases, we need to pick exactly 3 of the 5 binomials to contribute one variable, the other two to contribute the other. Wait. This sounds familiar. We have 5 things, each can be one of two things, and we need a total of 3 of one of them. That's just like taking 5 bits and making sure exactly 3 of them are 1's. So the coefficient of \(x^3y^2\) (and also \(x^2y^3\)) will be exactly the same as the number of bit strings of length 5 and weight 3, which we found earlier to be 10. So we have:%
\begin{equation*}
(x+y)^5 = x^5 + 5x^4y + 10x^3y^2 + 10x^2y^3 + 5 xy^4 + y^5\text{.}
\end{equation*}
%
\par
These numbers we keep seeing over and over again. They are the number of subsets of a particular size, the number of bit strings of a particular weight, the number of lattice paths, and the coefficients of these binomial products. We will call them \terminology{binomial coefficients}. We even have a special symbol for them: \({n \choose k}\).%
\begin{assemblage}{Binomial Coefficients.}{p:assemblage:MXD}%
\index{binomial coefficients} For each integer \(n \ge 0\) and integer \(k\) with \(0 \le k \le n\) there is a number%
\begin{equation*}
{n\choose k}\text{,}
\end{equation*}
read ``\(n\) choose \(k\).'' We have:%
\begin{itemize}[label=\textbullet]
\item{}\({n\choose k} = |\B^n_k|\), the number of \(n\)-bit strings of weight \(k\).%
\item{}\({n \choose k}\) is the number of subsets of a set of size \(n\) each with cardinality \(k\).%
\item{}\({n \choose k}\) is the number of lattice paths of length \(n\) containing \(k\) steps to the right.%
\item{}\({n \choose k}\) is the coefficient of \(x^ky^{n-k}\) in the expansion of \((x+y)^n\).%
\item{}\({n \choose k}\) is the number of ways to select \(k\) objects from a total of \(n\) objects.%
\end{itemize}
%
\end{assemblage}
The last bullet point is usually taken as the definition of \({n \choose k}\). Out of \(n\) objects we must choose \(k\) of them, so there are \(n\) choose \(k\) ways of doing this. Each of our counting problems above can be viewed in this way:%
\begin{itemize}[label=\textbullet]
\item{}How many subsets of \(\{1,2,3,4,5\}\) contain exactly 3 elements? We must choose \(3\) of the 5 elements to be in our subset. There are \({5 \choose 3}\) ways to do this, so there are \({5 \choose 3}\) such subsets.%
\item{}How many bit strings have length 5 and weight 3? We must choose \(3\) of the 5 bits to be 1's. There are \({5 \choose 3}\) ways to do this, so there are \({5 \choose 3}\) such bit strings.%
\item{}How many lattice paths are there from (0,0) to (3,2)? We must choose 3 of the 5 steps to be towards the right. There are \({5 \choose 3}\) ways to do this, so there are \({5 \choose 3}\) such lattice paths.%
\item{}What is the coefficient of \(x^3y^2\) in the expansion of \((x+y)^5\)? We must choose 3 of the 5 copies of the binomial to contribute an \(x\). There are \({5 \choose 3}\) ways to do this, so the coefficient is \({5 \choose 3}\).%
\end{itemize}
%
\par
It should be clear that in each case above, we have the right answer. All we had to do is phrase the question correctly and it became obvious that \({5 \choose 3}\) is correct. However, this does not tell us that the answer is in fact 10 in each case. We will eventually find a formula for \({n \choose k}\), but for now, look back at how we arrived at the answer 10 in our counting problems above. It all came down to bit strings, and we have a recurrence relation for bit strings:%
\begin{equation*}
|\B^n_k| = |\B^{n-1}_{k-1}| + |\B^{n-1}_k|\text{.}
\end{equation*}
%
\par
Remember, this is because we can start the bit string with either a 1 or a 0. In both cases, we have \(n-1\) more bits to pick. The strings starting with 1 must contain \(k-1\) more 1's, while the strings starting with 0 still need \(k\) more 1's.%
\par
Since \(|\B^n_k| = {n \choose k}\), the same recurrence relation holds for binomial coefficients:%
\begin{assemblage}{Recurrence relation for \({n \choose k}\).}{p:assemblage:teM}%
%
\begin{equation*}
{n \choose k} = {n-1 \choose k-1} + {n-1 \choose k}\text{.}
\end{equation*}
%
\end{assemblage}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Pascal's Triangle}
\typeout{************************************************}
%
\begin{subsectionptx}{Pascal's Triangle}{}{Pascal's Triangle}{}{}{x:subsection:subsec_Pascal}
\index{Pascal's triangle}%
Let's arrange the binomial coefficients \({n \choose k}\) into a triangle like follows:%
\begin{sidebyside}{1}{0.15}{0.15}{0}%
\begin{sbspanel}{0.7}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}
  \foreach \n in {0,...,4}
  \foreach \k in {0,...,\n}
  \draw (-\n+2*\k, -\n) node {\(\displaystyle{\n \choose \k}\)};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
This can continue as far down as we like. The recurrence relation for \({n \choose k}\) tells us that each entry in the triangle is the sum of the two entries above it. The entries on the sides of the triangle are always 1. This is because \({n \choose 0} = 1\) for all \(n\) since there is only one way to pick 0 of \(n\) objects and \({n \choose n} = 1\) since there is one way to select all \(n\) out of \(n\) objects. Using the recurrence relation, and the fact that the sides of the triangle are 1's, we can easily replace all the entries above with the correct values of \({n \choose k}\). Doing so gives us \terminology{Pascal's triangle}.%
\par
We can use Pascal's triangle to calculate binomial coefficients. For example, using the triangle below, we can find \({12 \choose 6} = 924\).%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
\resizebox{\linewidth}{!}{%
  \begin{tikzpicture}
\def\r{.55}
\foreach \row in {0,...,16} {
  \hexbox{\row}{0}{\large 1}
}
%fill in the rest of the triangle:
\foreach \row in {1,...,16} {
  \pgfmathsetmacro{\entry}{1};
  \foreach \col in {1,...,\row} {
    % iterative formula : val = precval * (row-col+1)/col
    % (+ 0.5 to bypass rounding errors)
    \pgfmathtruncatemacro{\entry}{\entry*((\row-\col+1)/\col)+0.5};
    \global\let\entry=\entry
    \ifnum \entry<100
\hexbox{\row}{\col}{\large \entry}
    \else \ifnum \entry<1000
\hexbox{\row}{\col}{\entry}
    \else \ifnum \entry<10000
\hexbox{\row}{\col}{\footnotesize \entry}
\else
\hexbox{\row}{\col}{\scriptsize \entry}
\fi
    \fi
    \fi
  }
}
\node[above] at (0,2) {\Huge Pascal's Triangle};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_counting-binom}
\begin{divisionexercise}{\hyperlink{g:solution:idm7674-back}{1}}{}{}{p:exercise:Ubz}%
Let \(S = \{1, 2, 3, 4, 5, 6\}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many subsets are there total?%
\item{}How many subsets have \(\{2,3,5\}\) as a subset?%
\item{}How many subsets contain at least one odd number?%
\item{}How many subsets contain exactly one even number?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7765-back}{2}}{}{}{p:exercise:AiI}%
Let \(S = \{1, 2, 3, 4, 5, 6\}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many subsets are there of cardinality 4?%
\item{}How many subsets of cardinality 4 have \(\{2,3,5\}\) as a subset?%
\item{}How many subsets of cardinality 4 contain at least one odd number?%
\item{}How many subsets of cardinality 4 contain exactly one even number?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7871-back}{3}}{}{}{p:exercise:gpR}%
Let \(A = \{1,2,3,\ldots,9\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many subsets of \(A\) are there? That is, find \(|\pow(A)|\text{.}\) Explain.%
\item{}How many subsets of \(A\) contain exactly 5 elements? Explain.%
\item{}How many subsets of \(A\) contain only even numbers? Explain.%
\item{}How many subsets of \(A\) contain an even number of elements? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm7969-back}{4}}{}{}{p:exercise:Mxa}%
How many \(9\)-bit strings (that is, bit strings of length 9) are there which:%
\begin{enumerate}[label=(\alph*)]
\item{}Start with the sub-string 101? Explain.%
\item{}Have weight 5 (i.e., contain exactly five 1's) and start with the sub-string 101? Explain.%
\item{}Either start with \(101\) or end with \(11\) (or both)? Explain.%
\item{}Have weight 5 and either start with 101 or end with 11 (or both)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm8028-back}{5}}{}{}{p:exercise:sEj}%
You break your piggy-bank to discover lots of pennies and nickels. You start arranging these in rows of 6 coins.%
\begin{enumerate}[label=(\alph*)]
\item{}You find yourself making rows containing an equal number of pennies and nickels. For fun, you decide to lay out every possible such row. How many coins will you need?%
\item{}How many coins would you need to make all possible rows of 6 coins (not necessarily with equal number of pennies and nickels)?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8075-back}{6}}{}{}{p:exercise:YLs}%
How many 10-bit strings contain 6 or more 1's?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm8103-back}{7}}{}{}{p:exercise:ESB}%
How many subsets of \(\{0,1,\ldots, 9\}\) have cardinality 6 or more?%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:kZK}%
What is the coefficient of \(x^{12}\) in \((x+2)^{15}\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8167-back}{9}}{}{}{p:exercise:RgT}%
What is the coefficient of \(x^9\) in the expansion of \((x+1)^{14} + x^3(x+2)^{15}\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8231-back}{10}}{}{}{p:exercise:xoc}%
How many lattice paths start at (3,3) and%
\begin{enumerate}[label=(\alph*)]
\item{}end at (10,10)?%
\item{}end at (10,10) and pass through (5,7)?%
\item{}end at (10,10) and avoid (5,7)?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:fky-back}{11}}{}{}{p:exercise:dvl}%
Gridtown USA, besides having excellent donut shops, is known for its precisely laid out grid of streets and avenues. Streets run east-west, and avenues north-south, for the entire stretch of the town, never curving and never interrupted by parks or schools or the like.%
\par
Suppose you live on the corner of 3rd and 3rd and work on the corner of 12th and 12th. Thus you must travel 18 blocks to get to work as quickly as possible.%
\begin{enumerate}[label=(\alph*)]
\item{}How many different routes can you take to work, assuming you want to get there as quickly as possible? Explain.%
\item{}Now suppose you want to stop and get a donut on the way to work, from your favorite donut shop on the corner of 10th ave and 8th st. How many routes to work, stopping at the donut shop, can you take (again, ensuring the shortest possible route)? Explain.%
\item{}Disaster Strikes Gridtown: there is a pothole on 4th ave between 5th st and 6th st. How many routes to work can you take avoiding that unsightly (and dangerous) stretch of road? Explain.%
\item{}The pothole has been repaired (phew) and a new donut shop has opened on the corner of 4th ave and 5th st. How many routes to work drive by one or the other (or both) donut shops? Hint: the donut shops serve PIE.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8344-back}{12}}{}{}{p:exercise:JCu}%
Suppose you are ordering a large pizza from \emph{D.P.~Dough}. You want 3 distinct toppings, chosen from their list of 11 vegetarian toppings.%
\begin{enumerate}[label=(\alph*)]
\item{}How many choices do you have for your pizza?%
\item{}How many choices do you have for your pizza if you refuse to have pineapple as one of your toppings?%
\item{}How many choices do you have for your pizza if you \emph{insist} on having pineapple as one of your toppings?%
\item{}How do the three questions above relate to each other? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:pJD}%
Explain why the coefficient of \(x^5y^3\) the same as the coefficient of \(x^3y^5\) in the expansion of \((x+y)^8\)?%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.3 Combinations and Permutations}
\typeout{************************************************}
%
\begin{sectionptx}{Combinations and Permutations}{}{Combinations and Permutations}{}{}{x:section:sec_counting-combperm}
\begin{investigation}{}{p:investigation:bpD}%
You have a bunch of chips which come in five different colors: red, blue, green, purple and yellow.%
\begin{enumerate}
\item{}How many different two-chip stacks can you make if the bottom chip must be red or blue? Explain your answer using both the additive and multiplicative principles.%
\item{}How many different three-chip stacks can you make if the bottom chip must be red or blue and the top chip must be green, purple or yellow? How does this problem relate to the previous one?%
\item{}How many different three-chip stacks are there in which no color is repeated? What about four-chip stacks?%
\item{}Suppose you wanted to take three different colored chips and put them in your pocket. How many different choices do you have? What if you wanted four different colored chips? How do these problems relate to the previous one?%
\end{enumerate}
%
\end{investigation}
A \terminology{permutation} is a (possible) rearrangement of objects. For example, there are 6 permutations of the letters \emph{a, b, c}:%
\begin{equation*}
abc, ~~ acb, ~~ bac, ~~bca, ~~ cab, ~~ cba\text{.}
\end{equation*}
%
\par
We know that we have them all listed above \textemdash{}there are 3 choices for which letter we put first, then 2 choices for which letter comes next, which leaves only 1 choice for the last letter. The multiplicative principle says we multiply \(3\cdot 2 \cdot 1\).%
\begin{example}{}{p:example:WFK}%
How many permutations are there of the letters \emph{a, b, c, d, e, f}?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:HwM}{}~~%
We do NOT want to try to list all of these out. However, if we did, we would need to pick a letter to write down first. There are 6 choices for that letter. For each choice of first letter, there are 5 choices for the second letter (we cannot repeat the first letter; we are rearranging letters and only have one of each), and for each of those, there are 4 choices for the third, 3 choices for the fourth, 2 choices for the fifth and finally only 1 choice for the last letter. So there are \(6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1 = 720\) permutations of the 6 letters.%
\end{example}
A piece of notation is helpful here: \(n!\), read ``\(n\) factorial'', \index{factorial} is the product of all positive integers less than or equal to \(n\) (for reasons of convenience, we also define 0! to be 1). So the number of permutation of 6 letters, as seen in the previous example is \(6! = 6\cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1\). This generalizes:%
\begin{assemblage}{Permutations of \(n\) elements.}{p:assemblage:ekj}%
There are \(n! = n\cdot (n-1)\cdot (n-2)\cdot \cdots \cdot 2\cdot 1\) permutations of \(n\) (distinct) elements.%
\end{assemblage}
\begin{example}{Counting Bijective Functions.}{x:example:example-counting-functions-bijective}%
How many functions \(f:\{1,2,\ldots,8\} \to \{1,2,\ldots, 8\}\) are \emph{bijective}?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:nDV}{}~~%
Remember what it means for a function to be bijective: each element in the codomain must be the image of exactly one element of the domain. Using two-line notation, we could write one of these bijections as%
\begin{equation*}
f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5 \amp 6 \amp 7 \amp 8} {3 \amp 1 \amp 5 \amp 8 \amp 7 \amp 6 \amp 2 \amp 4}\text{.}
\end{equation*}
What we are really doing is just rearranging the elements of the codomain, so we are creating a permutation of 8 elements. In fact, ``permutation'' is another term used to describe bijective functions from a finite set to itself.%
\par
If you believe this, then you see the answer must be \(8! = 8 \cdot 7 \cdot\cdots\cdot 1 = 40320\). You can see this directly as well: for each element of the domain, we must pick a distinct element of the codomain to map to. There are 8 choices for where to send 1, then 7 choices for where to send 2, and so on. We multiply using the multiplicative principle.%
\end{example}
Sometimes we do not want to permute all of the letters\slash{}numbers\slash{}elements we are given.%
\begin{example}{}{p:example:iUc}%
How many 4 letter ``words'' can you make from the letters \emph{a} through \emph{f}, with no repeated letters?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:TLe}{}~~%
This is just like the problem of permuting 4 letters, only now we have more choices for each letter. For the first letter, there are 6 choices. For each of those, there are 5 choices for the second letter. Then there are 4 choices for the third letter, and 3 choices for the last letter. The total number of words is \(6\cdot 5\cdot 4 \cdot 3 = 360\). This is not \(6!\) because we never multiplied by 2 and 1. We could start with \(6!\) and then cancel the 2 and 1, and thus write \(\frac{6!}{2!}\).%
\end{example}
In general, we can ask how many permutations exist of \(k\) objects choosing those objects from a larger collection of \(n\) objects. (In the example above, \(k = 4\), and \(n = 6\).) We write this number \(P(n,k)\) and sometimes call it a \terminology{\(k\)-permutation of \(n\) elements}. From the example above, we see that to compute \(P(n,k)\) we must apply the multiplicative principle to \(k\) numbers, starting with \(n\) and counting backwards. For example%
\begin{equation*}
P(10, 4) = 10\cdot 9 \cdot 8 \cdot 7\text{.}
\end{equation*}
%
\par
Notice again that \(P(10,4)\) starts out looking like \(10!\), but we stop after 7. We can formally account for this ``stopping'' by dividing away the part of the factorial we do not want:%
\begin{equation*}
P(10,4) = \frac{10\cdot 9 \cdot 8 \cdot 7 \cdot 6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1}{6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1} = \frac{10!}{6!}\text{.}
\end{equation*}
%
\par
Careful: The factorial in the denominator is not \(4!\) but rather \((10-4)!\).%
\begin{assemblage}{\(k\)-permutations of \(n\) elements.}{p:assemblage:Krs}%
\index{\emph{k}-permutation}\index{permutation} \(P(n,k)\) is the number of \terminology{\(k\)-permutations of \(n\) elements}, the number of ways to \emph{arrange} \(k\) objects chosen from \(n\) distinct objects.%
\begin{equation*}
P(n,k) = \frac{n!}{(n-k)!} = n(n-1)(n-2)\cdots (n-(k-1))\text{.}
\end{equation*}
%
\end{assemblage}
Note that when \(n = k\), we have \(P(n,n) = \frac{n!}{(n-n)!} = n!\) (since we defined \(0!\) to be 1). This makes sense \textemdash{}we already know \(n!\) gives the number of permutations of all \(n\) objects.%
\begin{example}{Counting injective functions.}{x:example:example-counting-functions-injective}%
How many functions \(f:\{1,2,3\} \to \{1,2,3,4,5,6,7,8\}\) are \emph{injective}?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:zSn}{}~~%
Note that it doesn't make sense to ask for the number of \emph{bijections} here, as there are none (because the codomain is larger than the domain, there are no surjections). But for a function to be injective, we just can't use an element of the codomain more than once.%
\par
We need to pick an element from the codomain to be the image of 1. There are 8 choices. Then we need to pick one of the remaining 7 elements to be the image of 2. Finally, one of the remaining 6 elements must be the image of 3. So the total number of functions is \(8\cdot 7 \cdot 6 = P(8,3)\).%
\par
What this demonstrates in general is that the number of injections \(f:A \to B\), where \(\card{A} = k\) and \(\card{B} = n\), is \(P(n,k)\).%
\end{example}
Here is another way to find the number of \(k\)-permutations of \(n\) elements: first select which \(k\) elements will be in the permutation, then count how many ways there are to arrange them. Once you have selected the \(k\) objects, we know there are \(k!\) ways to arrange (permute) them. But how do you select \(k\) objects from the \(n\)? You have \(n\) objects, and you need to \emph{choose} \(k\) of them. You can do that in \({n \choose k}\) ways. Then for each choice of those \(k\) elements, we can permute \emph{them} in \(k!\) ways. Using the multiplicative principle, we get another formula for \(P(n,k)\):%
\begin{equation*}
P(n,k) = {n \choose k}\cdot k!\text{.}
\end{equation*}
%
\par
Now since we have a closed formula for \(P(n,k)\) already, we can substitute that in:%
\begin{equation*}
\frac{n!}{(n-k)!} = {n \choose k} \cdot k!\text{.}
\end{equation*}
%
\par
If we divide both sides by \(k!\) we get a closed formula for \({n \choose k}\).%
\begin{assemblage}{Closed formula for \({n \choose k}\).}{p:assemblage:qyB}%
%
\begin{equation*}
{n \choose k} = \frac{n!}{(n-k)!k!} = \frac{n(n-1)(n-2)\cdots(n-(k-1))}{k(k-1)(k-2)\cdots 1}\text{.}
\end{equation*}
%
\end{assemblage}
We say \(P(n,k)\) counts \emph{permutations}, and \({n \choose k}\) counts \emph{combinations}. \index{combination} The formulas for each are very similar, there is just an extra \(k!\) in the denominator of \({n \choose k}\). That extra \(k!\) accounts for the fact that \({n \choose k}\) does not distinguish between the different orders that the \(k\) objects can appear in. We are just selecting (or choosing) the \(k\) objects, not arranging them. Perhaps ``combination'' is a misleading label. We don't mean it like a combination lock (where the order would definitely matter). Perhaps a better metaphor is a combination of flavors \textemdash{} you just need to decide which flavors to combine, not the order in which to combine them.%
\par
To further illustrate the connection between combinations and permutations, we close with an example.%
\begin{example}{}{p:example:viu}%
You decide to have a dinner party. Even though you are incredibly popular and have 14 different friends, you only have enough chairs to invite 6 of them.%
\par
%
\begin{enumerate}
\item{}How many choices do you have for which 6 friends to invite?%
\item{}What if you need to decide not only which friends to invite but also where to seat them along your long table? How many choices do you have then?%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:fZw}{}~~%
%
\begin{enumerate}
\item{}You must simply choose 6 friends from a group of 14. This can be done in \({14 \choose 6}\) ways. We can find this number either by using Pascal's triangle or the closed formula: \(\frac{14!}{8!\cdot 6!} = 3003\).%
\item{}Here you must count all the ways you can permute 6 friends chosen from a group of 14. So the answer is \(P(14, 6)\), which can be calculated as \(\frac{14!}{8!} = 2162160\).%
\par
Notice that we can think of this counting problem as a question about counting functions: how many injective functions are there from your set of 6 chairs to your set of 14 friends (the functions are injective because you can't have a single chair go to two of your friends).%
\end{enumerate}
%
\par
How are these numbers related? Notice that \(P(14,6)\) is \emph{much} larger than \({14 \choose 6}\). This makes sense. \({14 \choose 6}\) picks 6 friends, but \(P(14,6)\) arranges the 6 friends as well as picks them. In fact, we can say exactly how much larger \(P(14,6)\) is. In both counting problems we choose 6 out of 14 friends. For the first one, we stop there, at 3003 ways. But for the second counting problem, each of those 3003 choices of 6 friends can be arranged in exactly \(6!\) ways. So now we have \(3003\cdot 6!\) choices and that is exactly \(2162160\).%
\par
Alternatively, look at the first problem another way. We want to select 6 out of 14 friends, but we do not care about the order they are selected in. To select 6 out of 14 friends, we might try this:%
\begin{equation*}
14 \cdot 13 \cdot 12 \cdot 11 \cdot 10 \cdot 9\text{.}
\end{equation*}
%
\par
This is a reasonable guess, since we have 14 choices for the first guest, then 13 for the second, and so on. But the guess is wrong (in fact, that product is exactly \(2162160 = P(14,6)\)). It distinguishes between the different orders in which we could invite the guests. To correct for this, we could divide by the number of different arrangements of the 6 guests (so that all of these would count as just one outcome). There are precisely \(6!\) ways to arrange 6 guests, so the correct answer to the first question is%
\begin{equation*}
\frac{14 \cdot 13 \cdot 12 \cdot 11\cdot 10 \cdot 9}{6!}\text{.}
\end{equation*}
%
\par
Note that another way to write this is%
\begin{equation*}
\frac{14!}{8!\cdot 6!}\text{.}
\end{equation*}
which is what we had originally.%
\end{example}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_counting-combperm}
\begin{divisionexercise}{\hyperlink{g:solution:idm8638-back}{1}}{}{}{p:exercise:TyW}%
A pizza parlor offers 10 toppings.%
\begin{enumerate}[label=(\alph*)]
\item{}How many 3-topping pizzas could they put on their menu? Assume double toppings are not allowed.%
\item{}How many total pizzas are possible, with between zero and ten toppings (but not double toppings) allowed?%
\item{}The pizza parlor will list the 10 toppings in two equal-sized columns on their menu. How many ways can they arrange the toppings in the left column?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8679-back}{2}}{}{}{p:exercise:zGf}%
A combination lock consists of a dial with 40 numbers on it. To open the lock, you turn the dial to the right until you reach a first number, then to the left until you get to second number, then to the right again to the third number. The numbers must be distinct. How many different combinations are possible?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8756-back}{3}}{}{}{p:exercise:fNo}%
Using the digits 2 through 8, find the number of different 5-digit numbers such that:%
\begin{enumerate}[label=(\alph*)]
\item{}Digits can be used more than once.%
\item{}Digits cannot be repeated, but can come in any order.%
\item{}Digits cannot be repeated and must be written in increasing order.%
\item{}Which of the above counting questions is a combination and which is a permutation? Explain why this makes sense.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:tQT-back}{4}}{}{}{p:exercise:LUx}%
In an attempt to clean up your room, you have purchased a new floating shelf to put some of your 17 books you have stacked in a corner. These books are all by different authors. The new book shelf is large enough to hold 10 of the books.%
\begin{enumerate}[label=(\alph*)]
\item{}How many ways can you select and arrange 10 of the 17 books on the shelf? Notice that here we will allow the books to end up in any order. Explain.%
\item{}How many ways can you arrange 10 of the 17 books on the shelf if you insist they must be arranged alphabetically by author? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8867-back}{5}}{}{}{p:exercise:sbG}%
Suppose you wanted to draw a quadrilateral using the dots below as vertices (corners). The dots are spaced one unit apart horizontally and two units apart vertically.%
\begin{sidebyside}{1}{0.23}{0.23}{0}%
\begin{sbspanel}{0.54}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.9]
  \foreach \x in {-3,...,3}
  \foreach \y in {-1,1}
  \fill (\x,\y) circle (3pt);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\medskip
How many quadrilaterals are possible?%
\par
How many are squares?%
\par
How many are rectangles?%
\par
How many are parallelograms?%
\par
How many are trapezoids? (Here, as in calculus, a trapezoid is defined as a quadrilateral with \emph{at least} one pair of parallel sides. In particular, parallelograms are trapezoids.)%
\par
How many are trapezoids that are not parallelograms?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:mmu-back}{6}}{}{}{p:exercise:YiP}%
How many triangles are there with vertices from the points shown below? Note, we are not allowing degenerate triangles - ones with all three vertices on the same line, but we do allow non-right triangles. Explain why your answer is correct.%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.7]
  \foreach \i in {0,...,6} {
    \fill (\i,0) circle (2pt);
  }
  \foreach \i in {1,...,4} {
    \fill (0,\i) circle (2pt);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm8921-back}{7}}{}{}{p:exercise:EpY}%
An \emph{anagram} of a word is just a rearrangement of its letters. How many different anagrams of ``uncopyrightable'' are there? (This happens to be the longest common English word without any repeated letters.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm8957-back}{8}}{}{}{p:exercise:kxh}%
How many anagrams are there of the word ``assesses'' that start with the letter ``a''?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm9008-back}{9}}{}{}{p:exercise:QEq}%
How many anagrams are there of ``anagram''?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm9077-back}{10}}{}{}{p:exercise:wLz}%
On a business retreat, your company of 20 executives go golfing.%
\begin{enumerate}[label=(\alph*)]
\item{}You need to divide up into foursomes (groups of 4 people): a first foursome, a second foursome, and so on. How many ways can you do this?%
\item{}After all your hard work, you realize that in fact, you want each foursome to include one of the five Board members. How many ways can you do this?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm9113-back}{11}}{}{}{p:exercise:cSI}%
How many different seating arrangements are possible for King Arthur and his 9 knights around their round table?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm9184-back}{12}}{}{}{p:exercise:IZR}%
Consider sets \(A\) and \(B\) with \(|A| = 10\) and \(|B| = 17\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many functions \(f: A \to B\) are there?%
\item{}How many functions \(f: A \to B\) are injective?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm9265-back}{13}}{}{}{p:exercise:pha}%
Consider functions \(f: \{1,2,3,4\} \to \{1,2,3,4,5,6\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many functions are there total?%
\item{}How many functions are injective?%
\item{}How many of the injective functions are \emph{increasing}? To be increasing means that if \(a \lt b\) then \(f(a) \lt f(b)\text{,}\) or in other words, the outputs get larger as the inputs get larger.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:Voj}%
We have seen that the formula for \(P(n,k)\) is \(\dfrac{n!}{(n-k)!}\). Your task here is to explain \emph{why} this is the right formula.%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose you have 12 chips, each a different color. How many different stacks of 5 chips can you make? Explain your answer and why it is the same as using the formula for \(P(12,5)\).%
\item{}Using the scenario of the 12 chips again, what does \(12!\) count? What does \(7!\) count? Explain.%
\item{}Explain why it makes sense to divide \(12!\) by \(7!\) when computing \(P(12,5)\) (in terms of the chips).%
\item{}Does your explanation work for numbers other than 12 and 5? Explain the formula \(P(n,k) = \frac{n!}{(n-k)!}\) using the variables \(n\) and \(k\).%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.4 Combinatorial Proofs}
\typeout{************************************************}
%
\begin{sectionptx}{Combinatorial Proofs}{}{Combinatorial Proofs}{}{}{x:section:sec_comb-proofs}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:UJt}%
%
\begin{enumerate}
\item{}The Stanley Cup is decided in a best of 7 tournament between two teams. In how many ways can your team win? Let's answer this question two ways:%
\begin{enumerate}
\item{}How many of the 7 games does your team need to win? How many ways can this happen?%
\item{}What if the tournament goes all 7 games? So you win the last game. How many ways can the first 6 games go down?%
\item{}What if the tournament goes just 6 games? How many ways can this happen? What about 5 games? 4 games?%
\item{}What are the two different ways to compute the number of ways your team can win? Write down an equation involving binomial coefficients (that is, \({n \choose k}\)'s). What pattern in Pascal's triangle is this an example of?%
\end{enumerate}
%
\item{}Generalize. What if the rules changed and you played a best of \(9\) tournament (5 wins required)? What if you played an \(n\) game tournament with \(k\) wins required to be named champion?%
\end{enumerate}
%
\end{investigation}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Patterns in Pascal's Triangle}
\typeout{************************************************}
%
\begin{subsectionptx}{Patterns in Pascal's Triangle}{}{Patterns in Pascal's Triangle}{}{}{x:subsection:subsec_patternsPascal}
Have a look again at Pascal's triangle. Forget for a moment where it comes from. Just look at it as a mathematical object. What do you notice?%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}
\def\r{.5}

% Pascal's triangle
%put row of 1's down left side:
  \foreach \row in {0,...,7} {
    \hexbox{\row}{0}{ 1}
  }
%fill in the rest of the triangle:
  \foreach \row in {1,...,7} {
    \pgfmathsetmacro{\entry}{1};
    \foreach \col in {1,...,\row} {
      % iterative formula : val = precval * (row-col+1)/col
      % (+ 0.5 to bypass rounding errors)
     \pgfmathtruncatemacro{\entry}{\entry*((\row-\col+1)/\col)+0.5};
      \global\let\entry=\entry
      \ifnum \entry<100
	\hexbox{\row}{\col}{\entry}
      \else \ifnum \entry<1000
	\hexbox{\row}{\col}{\footnotesize \entry}
      \else \ifnum \entry<10000
	\hexbox{\row}{\col}{\footnotesize \entry}
	\else
	\hexbox{\row}{\col}{\scriptsize \entry}
	\fi
      \fi
      \fi
    }
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
There are lots of patterns hidden away in the triangle, enough to fill a reasonably sized book. Here are just a few of the most obvious ones:%
\begin{enumerate}
\item{}The entries on the border of the triangle are all 1.%
\item{}Any entry not on the border is the sum of the two entries above it.%
\item{}The triangle is symmetric. In any row, entries on the left side are mirrored on the right side.%
\item{}The sum of all entries on a given row is a power of 2. (You should check this!)%
\end{enumerate}
%
\par
We would like to state these observations in a more precise way, and then prove that they are correct. Now each entry in Pascal's triangle is in fact a binomial coefficient. The 1 on the very top of the triangle is \({0 \choose 0}\). The next row (which we will call row 1, even though it is not the top-most row) consists of \({1 \choose 0}\) and \({1 \choose 1}\). Row 4 (the row 1, 4, 6, 4, 1) consists of the binomial coefficients%
\begin{equation*}
{4 \choose 0} ~~ {4 \choose 1} ~~ {4 \choose 2} ~~ {4 \choose 3} ~~ {4 \choose 4}\text{.}
\end{equation*}
%
\par
Given this description of the elements in Pascal's triangle, we can rewrite the above observations as follows:%
\begin{enumerate}
\item{}\({n \choose 0} = 1\) and \({n \choose n} = 1\).%
\item{}\({n \choose k} = {n-1 \choose k-1} + {n-1 \choose k}\).%
\item{}\({n \choose k} = {n \choose n-k}\).%
\item{}\({n\choose 0} + {n \choose 1} + {n \choose 2} + \cdots + {n \choose n} = 2^n\).%
\end{enumerate}
%
\par
Each of these is an example of a \terminology{binomial identity} \index{binomial identity} : an identity (i.e., equation) involving binomial coefficients.%
\par
Our goal is to establish these identities. We wish to prove that they hold for all values of \(n\) and \(k\). These proofs can be done in many ways. One option would be to give algebraic proofs, using the formula for \({n \choose k}\):%
\begin{equation*}
{n \choose k} = \frac{n!}{(n-k)!\,k!}\text{.}
\end{equation*}
%
\par
Here's how you might do that for the second identity above.%
\begin{example}{}{p:example:LpH}%
Give an algebraic proof for the binomial identity%
\begin{equation*}
{n \choose k} = {n-1\choose k-1} + {n-1 \choose k}\text{.}
\end{equation*}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:AQC}{}~~%
\begin{proofptx}{}{p:proof:gXL}
By the definition of \({n \choose k}\), we have%
\begin{equation*}
{n-1 \choose k-1} = \frac{(n-1)!}{(n-1-(k-1))!(k-1)!} = \frac{(n-1)!}{(n-k)!(k-1)!}
\end{equation*}
and%
\begin{equation*}
{n-1 \choose k} = \frac{(n-1)!}{(n-1-k)!k!}\text{.}
\end{equation*}
%
\par
Thus, starting with the right-hand side of the equation:%
\begin{align*}
{n-1 \choose k-1} + {n-1 \choose k} \amp = \frac{(n-1)!}{(n-k)!(k-1)!}+ \frac{(n-1)!}{(n-1-k)!\,k!}\\
\amp = \frac{(n-1)!k}{(n-k)!\,k!} + \frac{(n-1)!(n-k)}{(n-k)!\,k!}\\
\amp = \frac{(n-1)!(k+n-k)}{(n-k)!\,k!}\\
\amp = \frac{n!}{(n-k)!\, k!}\\
\amp = {n \choose k}\text{.}
\end{align*}
%
\par
The second line (where the common denominator is found) works because \(k(k-1)! = k!\) and \((n-k)(n-k-1)! = (n-k)!\).%
\end{proofptx}
\end{example}
This is certainly a valid proof, but also is entirely useless. Even if you understand the proof perfectly, it does not tell you \emph{why} the identity is true. A better approach would be to explain what \({n \choose k}\) \emph{means} and then say why that is also what \({n-1 \choose k-1} + {n-1 \choose k}\) means. Let's see how this works for the four identities we observed above.%
\begin{example}{}{p:example:rwQ}%
Explain why \({n \choose 0} = 1\) and \({n \choose n} = 1\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:NeU}{}~~%
What do these binomial coefficients tell us? Well, \({n \choose 0}\) gives the number of ways to select 0 objects from a collection of \(n\) objects. There is only one way to do this, namely to not select any of the objects. Thus \({n \choose 0} = 1\). Similarly, \({n \choose n}\) gives the number of ways to select \(n\) objects from a collection of \(n\) objects. There is only one way to do this: select all \(n\) objects. Thus \({n \choose n} = 1\).%
\par
Alternatively, we know that \({n \choose 0}\) is the number of \(n\)-bit strings with weight 0. There is only one such string, the string of all 0's. So \({n \choose 0} = 1\). Similarly \({n \choose n}\) is the number of \(n\)-bit strings with weight \(n\). There is only one string with this property, the string of all 1's.%
\par
Another way: \({n \choose 0}\) gives the number of subsets of a set of size \(n\) containing 0 elements. There is only one such subset, the empty set. \({n \choose n}\) gives the number of subsets containing \(n\) elements. The only such subset is the original set (of all elements).%
\end{example}
\begin{example}{}{p:example:XDZ}%
Explain why \({n \choose k} = {n-1 \choose k-1} + {n-1 \choose k}\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:tmd}{}~~%
The easiest way to see this is to consider bit strings. \({n \choose k}\) is the number of bit strings of length \(n\) containing \(k\) 1's. Of all of these strings, some start with a 1 and the rest start with a 0. First consider all the bit strings which start with a 1. After the 1, there must be \(n-1\) more bits (to get the total length up to \(n\)) and exactly \(k-1\) of them must be 1's (as we already have one, and we need \(k\) total). How many strings are there like that? There are exactly \({n-1 \choose k-1}\) such bit strings, so of all the length \(n\) bit strings containing \(k\) 1's, \({n-1 \choose k-1}\) of them start with a 1. Similarly, there are \({n-1\choose k}\) which start with a 0 (we still need \(n-1\) bits and now \(k\) of them must be 1's). Since there are \({n-1 \choose k}\) bit strings containing \(n-1\) bits with \(k\) 1's, that is the number of length \(n\) bit strings with \(k\) 1's which start with a 0. Therefore \({n \choose k} = {n-1\choose k-1} + {n-1 \choose k}\).%
\par
Another way: consider the question, how many ways can you select \(k\) pizza toppings from a menu containing \(n\) choices? One way to do this is just \({n \choose k}\). Another way to answer the same question is to first decide whether or not you want anchovies. If you do want anchovies, you still need to pick \(k-1\) toppings, now from just \(n-1\) choices. That can be done in \({n-1 \choose k-1}\) ways. If you do not want anchovies, then you still need to select \(k\) toppings from \(n-1\) choices (the anchovies are out). You can do that in \({n-1 \choose k}\) ways. Since the choices with anchovies are disjoint from the choices without anchovies, the total choices are \({n-1 \choose k-1}+{n-1 \choose k}\). But wait. We answered the same question in two different ways, so the two answers must be the same. Thus \({n \choose k} = {n-1\choose k-1} + {n-1 \choose k}\).%
\par
You can also explain (prove) this identity by counting subsets, or even lattice paths.%
\end{example}
\begin{example}{}{x:example:example-symmetry-formula}%
Prove the binomial identity \({n \choose k} = {n \choose n-k}\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Ztm}{}~~%
Why is this true? \({n \choose k}\) counts the number of ways to select \(k\) things from \(n\) choices. On the other hand, \({n \choose n-k}\) counts the number of ways to select \(n-k\) things from \(n\) choices. Are these really the same? Well, what if instead of selecting the \(n-k\) things you choose to exclude them. How many ways are there to choose \(n-k\) things to exclude from \(n\) choices. Clearly this is \({n \choose n-k}\) as well (it doesn't matter whether you include or exclude the things once you have chosen them). And if you exclude \(n-k\) things, then you are including the other \(k\) things. So the set of outcomes should be the same.%
\par
Let's try the pizza counting example like we did above. How many ways are there to pick \(k\) toppings from a list of \(n\) choices? On the one hand, the answer is simply \({n \choose k}\). Alternatively, you could make a list of all the toppings you don't want. To end up with a pizza containing exactly \(k\) toppings, you need to pick \(n-k\) toppings to not put on the pizza. You have \({n \choose n-k}\) choices for the toppings you don't want. Both of these ways give you a pizza with \(k\) toppings, in fact all the ways to get a pizza with \(k\) toppings. Thus these two answers must be the same: \({n \choose k} = {n \choose n-k}\).%
\par
You can also prove (explain) this identity using bit strings, subsets, or lattice paths. The bit string argument is nice: \({n \choose k}\) counts the number of bit strings of length \(n\) with \(k\) 1's. This is also the number of bit string of length \(n\) with \(k\) 0's (just replace each 1 with a 0 and each 0 with a 1). But if a string of length \(n\) has \(k\) 0's, it must have \(n-k\) 1's. And there are exactly \({n\choose n-k}\) strings of length \(n\) with \(n-k\) 1's.%
\end{example}
\begin{example}{}{x:example:ex-comb-proof-rowsum}%
Prove the binomial identity \({n\choose 0} + {n \choose 1} + {n\choose 2} + \cdots + {n \choose n} = 2^n\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:FAv}{}~~%
Let's do a ``pizza proof'' again. We need to find a question about pizza toppings which has \(2^n\) as the answer. How about this: If a pizza joint offers \(n\) toppings, how many pizzas can you build using any number of toppings from no toppings to all toppings, using each topping at most once?%
\par
On one hand, the answer is \(2^n\). For each topping you can say ``yes'' or ``no,'' so you have two choices for each topping.%
\par
On the other hand, divide the possible pizzas into disjoint groups: the pizzas with no toppings, the pizzas with one topping, the pizzas with two toppings, etc. If we want no toppings, there is only one pizza like that (the empty pizza, if you will) but it would be better to think of that number as \({n \choose 0}\) since we choose 0 of the \(n\) toppings. How many pizzas have 1 topping? We need to choose 1 of the \(n\) toppings, so \({n \choose 1}\). We have:%
\par
%
\begin{itemize}[label=\textbullet]
\item{}Pizzas with 0 toppings: \({n \choose 0}\)%
\item{}Pizzas with 1 topping: \({n \choose 1}\)%
\item{}Pizzas with 2 toppings: \({n \choose 2}\)%
\item{}\(\displaystyle \vdots\)%
\item{}Pizzas with \(n\) toppings: \({n \choose n}\).%
\end{itemize}
%
\par
The total number of possible pizzas will be the sum of these, which is exactly the left-hand side of the identity we are trying to prove.%
\par
Again, we could have proved the identity using subsets, bit strings, or lattice paths (although the lattice path argument is a little tricky).%
\end{example}
Hopefully this gives some idea of how explanatory proofs of binomial identities can go. It is worth pointing out that more traditional proofs can also be beautiful.\footnote{Most every binomial identity can be proved using mathematical induction, using the recursive definition for \({n \choose k}\). We will discuss induction in \hyperref[x:section:sec_seq-induction]{Section~\ref{x:section:sec_seq-induction}}.\label{g:fn:idm9536}} For example, consider the following rather slick proof of the last identity.%
\par
Expand the binomial \((x+y)^n\):%
\begin{equation*}
(x + y)^n = {n \choose 0}x^n + {n \choose 1}x^{n-1}y + {n \choose 2}x^{n-2}y^2 + \cdots + {n \choose n-1}x\cdot y^n + {n \choose n}y^n\text{.}
\end{equation*}
%
\par
Let \(x = 1\) and \(y = 1\). We get:%
\begin{equation*}
(1 + 1)^n = {n \choose 0}1^n + {n \choose 1}1^{n-1}1 + {n \choose 2}1^{n-2}1^2 + \cdots + {n \choose n-1}1\cdot 1^n + {n \choose n}1^n\text{.}
\end{equation*}
%
\par
Of course this simplifies to:%
\begin{equation*}
(2)^n = {n \choose 0} + {n \choose 1} + {n \choose 2} + \cdots + {n \choose n-1} + {n \choose n}\text{.}
\end{equation*}
%
\par
Something fun to try: Let \(x = 1\) and \(y = 2\). Neat huh?%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  More Proofs}
\typeout{************************************************}
%
\begin{subsectionptx}{More Proofs}{}{More Proofs}{}{}{x:subsection:subsec_moreProofs}
The explanatory proofs given in the above examples are typically called \terminology{combinatorial proofs}. In general, to give a combinatorial proof for a binomial identity, say \(A = B\) you do the following:%
\par
%
\begin{enumerate}
\item{}Find a counting problem you will be able to answer in two ways.%
\item{}Explain why one answer to the counting problem is \(A\).%
\item{}Explain why the other answer to the counting problem is \(B\).%
\end{enumerate}
%
\par
Since both \(A\) and \(B\) are the answers to the same question, we must have \(A = B\).%
\par
The tricky thing is coming up with the question. This is not always obvious, but it gets easier the more counting problems you solve. You will start to recognize types of answers as the answers to types of questions. More often what will happen is you will be solving a counting problem and happen to think up two different ways of finding the answer. Now you have a binomial identity and the proof is right there. The proof \emph{is} the problem you just solved together with your two solutions.%
\par
For example, consider this counting question:%
\begin{quote}%
How many 10-letter words use exactly four A's, three B's, two C's and one D?%
\end{quote}
Let's try to solve this problem. We have 10 spots for letters to go. Four of those need to be A's. We can pick the four A-spots in \({10 \choose 4}\) ways. Now where can we put the B's? Well there are only 6 spots left, we need to pick \(3\) of them. This can be done in \({6 \choose 3}\) ways. The two C's need to go in two of the 3 remaining spots, so we have \({3 \choose 2}\) ways of doing that. That leaves just one spot of the D, but we could write that 1 choice as \({1 \choose 1}\). Thus the answer is:%
\begin{equation*}
{10 \choose 4}{6 \choose 3}{3 \choose 2}{1 \choose 1}\text{.}
\end{equation*}
%
\par
But why stop there? We can find the answer another way too. First let's decide where to put the one D: we have 10 spots, we need to choose 1 of them, so this can be done in \({10 \choose 1}\) ways. Next, choose one of the \({9 \choose 2}\) ways to place the two C's. We now have \(7\) spots left, and three of them need to be filled with B's. There are \({7 \choose 3}\) ways to do this. Finally the A's can be placed in \({4 \choose 4}\) (that is, only one) ways. So another answer to the question is%
\begin{equation*}
{10 \choose 1}{9 \choose 2}{7 \choose 3}{4 \choose 4}\text{.}
\end{equation*}
%
\par
Interesting. This gives us the binomial identity:%
\begin{equation*}
{10 \choose 4}{6 \choose 3}{3 \choose 2}{1 \choose 1} = {10 \choose 1}{9 \choose 2}{7 \choose 3}{4 \choose 4}\text{.}
\end{equation*}
%
\par
Here are a couple more binomial identities with combinatorial proofs.%
\begin{example}{}{x:example:ex-comb-proof-3elemsets}%
Prove the identity%
\begin{equation*}
1 n + 2(n-1) + 3 (n-2) + \cdots + (n-1) 2 + n 1 = {n+2 \choose 3}\text{.}
\end{equation*}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:lHE}{}~~%
To give a combinatorial proof we need to think up a question we can answer in two ways: one way needs to give the left-hand-side of the identity, the other way needs to be the right-hand-side of the identity. Our clue to what question to ask comes from the right-hand side: \({n+2 \choose 3}\) counts the number of ways to select 3 things from a group of \(n+2\) things. Let's name those things \(1, 2, 3, \ldots, n+2\). In other words, we want to find 3-element subsets of those numbers (since order should not matter, subsets are exactly the right thing to think about). We will have to be a bit clever to explain why the left-hand-side also gives the number of these subsets. Here's the proof.%
\begin{proofptx}{}{p:proof:RON}
Consider the question ``How many 3-element subsets are there of the set \(\{1,2,3,\ldots,
n+2\}\)?'' We answer this in two ways:%
\par
Answer 1: We must select 3 elements from the collection of \(n+2\) elements. This can be done in \({n+2 \choose 3}\) ways.%
\par
Answer 2: Break this problem up into cases by what the middle number in the subset is. Say each subset is \(\{a,b,c\}\) written in increasing order. We count the number of subsets for each distinct value of \(b\). The smallest possible value of \(b\) is \(2\), and the largest is \(n+1\).%
\par
When \(b = 2\), there are \(1 \cdot n\) subsets: 1 choice for \(a\) and \(n\) choices (3 through \(n+2\)) for \(c\).%
\par
When \(b = 3\), there are \(2 \cdot (n-1)\) subsets: 2 choices for \(a\) and \(n-1\) choices for \(c\).%
\par
When \(b = 4\), there are \(3 \cdot (n-2)\) subsets: 3 choices for \(a\) and \(n-2\) choices for \(c\).%
\par
And so on. When \(b = n+1\), there are \(n\) choices for \(a\) and only 1 choice for \(c\), so \(n \cdot 1\) subsets.%
\par
Therefore the total number of subsets is%
\begin{equation*}
1 n + 2 (n-1) + 3 (n-2) + \cdots + (n-1)2 + n 1\text{.}
\end{equation*}
%
\par
Since Answer 1 and Answer 2 are answers to the same question, they must be equal. Therefore%
\begin{equation*}
1 n + 2 (n-1) + 3 (n-2) + \cdots + (n-1) 2 + n 1 = {n+2 \choose 3}\text{.}\qedhere
\end{equation*}
%
\end{proofptx}
\end{example}
\begin{example}{}{p:example:cnS}%
Prove the binomial identity%
\begin{equation*}
{n \choose 0}^2 + {n \choose 1}^2 + {n \choose 2}^2 + \cdots + {n \choose n}^2 = {2n \choose n}\text{.}
\end{equation*}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:xVW}{}~~%
We will give two different proofs of this fact. The first will be very similar to the previous example (counting subsets). The second proof is a little slicker, using lattice paths.%
\begin{proofptx}{}{p:proof:edf}
Consider the question: ``How many pizzas can you make using \(n\) toppings when there are \(2n\) toppings to choose from?''%
\par
Answer 1: There are \(2n\) toppings, from which you must choose \(n\). This can be done in \({2n \choose n}\) ways.%
\par
Answer 2: Divide the toppings into two groups of \(n\) toppings (perhaps \(n\) meats and \(n\) veggies). Any choice of \(n\) toppings must include some number from the first group and some number from the second group. Consider each possible number of meat toppings separately:%
\par
0 meats: \({n \choose 0}{n \choose n}\), since you need to choose 0 of the \(n\) meats and \(n\) of the \(n\) veggies.%
\par
1 meat: \({n \choose 1}{n \choose n-1}\), since you need 1 of \(n\) meats so \(n-1\) of \(n\) veggies.%
\par
2 meats: \({n \choose 2}{n \choose n-2}\). Choose 2 meats and the remaining \(n-2\) toppings from the \(n\) veggies.%
\par
And so on. The last case is \(n\) meats, which can be done in \({n \choose n}{n \choose 0}\) ways.%
\par
Thus the total number of pizzas possible is%
\begin{equation*}
{n \choose 0}{n \choose n} + {n \choose 1}{n \choose n-1} + {n \choose 2}{n \choose n-2} + \cdots + {n \choose n}{n \choose 0}\text{.}
\end{equation*}
%
\par
This is not quite the left-hand side \textellipsis{} yet. Notice that \({n \choose n} = {n \choose 0}\) and \({n \choose n-1} = {n  \choose 1}\) and so on, by the identity in \hyperref[x:example:example-symmetry-formula]{Example~\ref{x:example:example-symmetry-formula}}. Thus we do indeed get%
\begin{equation*}
{n \choose 0}^2 + {n \choose 1}^2 + {n \choose 2}^2 + \cdots + {n \choose n}^2\text{.}
\end{equation*}
%
\par
Since these two answers are answers to the same question, they must be equal, and thus%
\begin{equation*}
{n \choose 0}^2 + {n \choose 1}^2 + {n \choose 2}^2 + \cdots + {n \choose n}^2 = {2n \choose n}\text{.}\qedhere
\end{equation*}
%
\end{proofptx}
For an alternative proof, we use lattice paths. This is reasonable to consider because the right-hand side of the identity reminds us of the number of paths from \((0,0)\) to \((n,n)\).%
\begin{proofptx}{}{p:proof:Kko}
Consider the question: How many lattice paths are there from \((0,0)\) to \((n,n)\)?%
\par
Answer 1: We must travel \(2n\) steps, and \(n\) of them must be in the up direction. Thus there are \({2n \choose n}\) paths.%
\par
Answer 2: Note that any path from \((0,0)\) to \((n,n)\) must cross the line \(x + y = n\). That is, any path must pass through exactly one of the points: \((0,n)\), \((1,n-1)\), \((2,n-2)\), \textellipsis{}, \((n, 0)\). For example, this is what happens in the case \(n = 4\):%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}[scale=0.8]
  \draw[very thin, color=gray!50] (-.5,-.5) grid (4.5, 4.5);
  \draw (0,0) circle (1.5pt) node[below left] { (0,0)} (4,4) circle (1.5pt) node[above right] { (4,4)};
  \draw[thick] (-.5, 4.5) -- (4.5, -.5) node[right]{ \(x + y = 4\)};
  \draw (0,4) circle (1.5pt) node[above right]{ (0,4)} (1,3) circle (1.5pt) node[above right]{ (1,3)} (2,2) circle (1.5pt) node[above right]{ (2,2)} (3,1) circle (1.5pt) node[above right]{ (3,1)} (4,0) circle (1.5pt) node[above right]{ (4,0)};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
How many paths pass through \((0,n)\)? To get to that point, you must travel \(n\) units, and \(0\) of them are to the right, so there are \({n \choose 0}\) ways to get to \((0,n)\). From \((0,n)\) to \((n,n)\) takes \(n\) steps, and \(0\) of them are up. So there are \({n \choose 0}\) ways to get from \((0,n)\) to \((n,n)\). Therefore there are \({n \choose 0}{n \choose 0}\) paths from \((0,0)\) to \((n,n)\) through the point \((0,n)\).%
\par
What about through \((1,n-1)\). There are \({n \choose 1}\) paths to get there (\(n\) steps, 1 to the right) and \({n \choose 1}\) paths to complete the journey to \((n,n)\) (\(n\) steps, \(1\) up). So there are \({n \choose 1}{n \choose 1}\) paths from \((0,0)\) to \((n,n)\) through \((1,n-1)\).%
\par
In general, to get to \((n,n)\) through the point \((k,n-k)\) we have \({n \choose k}\) paths to the midpoint and then \({n \choose k}\) paths from the midpoint to \((n,n)\). So there are \({n \choose k}{n \choose k}\) paths from \((0,0)\) to \((n,n)\) through \((k, n-k)\).%
\par
All together then the total paths from \((0,0)\) to \((n,n)\) passing through exactly one of these midpoints is%
\begin{equation*}
{n \choose 0}^2 + {n \choose 1}^2 + {n \choose 2}^2 + \cdots + {n \choose n}^2\text{.}
\end{equation*}
%
\par
Since these two answers are answers to the same question, they must be equal, and thus%
\begin{equation*}
{n \choose 0}^2 + {n \choose 1}^2 + {n \choose 2}^2 + \cdots + {n \choose n}^2 = {2n \choose n}\text{.}\qedhere
\end{equation*}
%
\end{proofptx}
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_comb-proofs}
\begin{divisionexercise}{\hyperlink{p:solution:eBe-back}{1}}{}{}{p:exercise:wEI}%
Give a combinatorial proof of the identity \(2+2+2 = 3\cdot 2\).%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:cLR}%
Suppose you own \(x\) fezzes and \(y\) bow ties. Of course, \(x\) and \(y\) are both greater than 1.%
\begin{enumerate}[label=(\alph*)]
\item{}How many combinations of fez and bow tie can you make? You can wear only one fez and one bow tie at a time. Explain.%
\item{}Explain why the answer is \emph{also} \({x+y \choose 2} - {x \choose 2} - {y \choose 2}\). (If this is what you claimed the answer was in part (a), try it again.)%
\item{}Use your answers to parts (a) and (b) to give a combinatorial proof of the identity%
\begin{equation*}
{x+y \choose 2} - {x \choose 2} - {y \choose 2} = xy.\text{.}
\end{equation*}
%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:qPw-back}{3}}{}{}{p:exercise:ITa}%
How many triangles can you draw using the dots below as vertices?%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
 \begin{tikzpicture}[scale=.75]
	\foreach \x in {-3,...,3}{
	\draw[fill] (\x,.5) circle (3pt);
	}
	\foreach \x in {-2,...,2}{
	\draw[fill] (90+\x*30:3.25) circle (3pt);
	}
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Find an expression for the answer which is the sum of three terms involving binomial coefficients.%
\item{}Find an expression for the answer which is the difference of two  binomial coefficients.%
\item{}Generalize the above to state and prove a binomial identity using a combinatorial proof.  Say you have \(x\) points on the horizontal axis and \(y\) points in the semi-circle.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:WWF-back}{4}}{}{}{p:exercise:paj}%
Consider all the triangles you can create using the points shown below as vertices. Note, we are not allowing degenerate triangles (ones with all three vertices on the same line) but we do allow non-right triangles.%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.7]
  \foreach \i in {0,...,6} {
    \fill (\i,0) circle (2pt);
  }
  \foreach \i in {1,...,4} {
    \fill (0,\i) circle (2pt);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Find the number of triangles, and explain why your answer is correct.%
\item{}Find the number of triangles again, using a different method. Explain why your new method works.%
\item{}State a binomial identity that your two answers above establish (that is, give the binomial identity that your two answers a proof for). Then generalize this using \(m\)'s and \(n\)'s.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:DdO-back}{5}}{}{}{x:exercise:exc-bridesmaids}%
A woman is getting married. She has 15 best friends but can only select 6 of them to be her bridesmaids, one of which needs to be her maid of honor. How many ways can she do this?%
%
\begin{enumerate}[label=(\alph*)]
\item{}What if she first selects the 6 bridesmaids, and then selects one of them to be the maid of honor?%
\item{}What if she first selects her maid of honor, and then 5 other bridesmaids?%
\item{}Explain why \(6 {15 \choose 6} = 15 {14 \choose 5}\).%
\end{enumerate}
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:jkX-back}{6}}{}{}{p:exercise:BoB}%
Consider the identity:%
\begin{equation*}
k{n\choose k} = n{n-1 \choose k-1}\text{.}
\end{equation*}
%
\begin{enumerate}[label=(\alph*)]
\item{}Is this true? Try it for a few values of \(n\) and \(k\).%
\item{}Use the formula for \({n \choose k}\) to give an algebraic proof of the identity.%
\item{}Give a combinatorial proof of the identity.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vzp-back}{7}}{}{}{p:exercise:hvK}%
Give a combinatorial proof of the identity \({n \choose 2}{n-2 \choose k-2} = {n\choose k}{k \choose 2}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:HNH-back}{8}}{}{}{p:exercise:NCT}%
Consider the binomial identity%
\begin{equation*}
\binom{n}{1} + 2 \binom{n}{2} + 3 \binom{n}{3} + \cdots + n\binom{n}{n} = n2^{n-1}\text{.}
\end{equation*}
%
\begin{enumerate}[label=(\alph*)]
\item{}Give a combinatorial proof of this identity.  Hint: What if some number of a group of \(n\) people wanted to go to an escape room, and among those going, one needed to be the team captain?%
\item{}Give an alternate proof by multiplying out \((1+x)^n\) and taking derivatives of both sides.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:nUQ-back}{9}}{}{}{p:exercise:tKc}%
Give a combinatorial proof for the identity \(1 + 2 + 3 + \cdots + n = {n+1 \choose 2}\).%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:ZRl}%
Consider the bit strings in \(\B^6_2\) (bit strings of length 6 and weight 2).%
%
\begin{enumerate}[label=(\alph*)]
\item{}How many of those bit strings start with 1?%
\item{}How many of those bit strings start with 01?%
\item{}How many of those bit strings start with 001?%
\item{}Are there any other strings we have not counted yet? Which ones, and how many are there?%
\item{}How many bit strings are there total in \(\B^6_2\)?%
\item{}What binomial identity have you just given a combinatorial proof for?%
\end{enumerate}
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:FYu}%
Let's count \terminology{ternary} digit strings, that is, strings in which each digit can be 0, 1, or 2.%
\begin{enumerate}[label=(\alph*)]
\item{}How many ternary digit strings contain exactly \(n\) digits?%
\item{}How many ternary digit strings contain exactly \(n\) digits and \(n\) 2's.%
\item{}How many ternary digit strings contain exactly \(n\) digits and \(n-1\) 2's. (Hint: where can you put the non-2 digit, and then what could it be?)%
\item{}How many ternary digit strings contain exactly \(n\) digits and \(n-2\) 2's. (Hint: see previous hint)%
\item{}How many ternary digit strings contain exactly \(n\) digits and \(n-k\) 2's.%
\item{}How many ternary digit strings contain exactly \(n\) digits and no 2's. (Hint: what kind of a string is this?)%
\item{}Use the above parts to give a combinatorial proof for the identity%
\begin{equation*}
{n \choose 0} + 2{n \choose 1} + 2^2{n \choose 2} + 2^3{n \choose 3} + \cdots + 2^n{n \choose n} = 3^n\text{.}
\end{equation*}
%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{12}{}{}{p:exercise:mfD}%
How many ways are there to rearrange the letters in the word ``rearrange''? Answer this question in at least two different ways to establish a binomial identity.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:UbZ-back}{13}}{}{}{p:exercise:SmM}%
Establish the identity below using a combinatorial proof.%
\begin{equation*}
{2 \choose 2}{n \choose 2} + {3 \choose 2}{n-1 \choose 2} + {4\choose 2}{n-2 \choose 2} + \cdots + {n\choose 2}{2\choose 2} = {n+3 \choose 5}\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Aji-back}{14}}{}{}{p:exercise:ytV}%
In \hyperref[x:example:ex-comb-proof-rowsum]{Example~\ref{x:example:ex-comb-proof-rowsum}} we established that the sum of any row in Pascal's triangle is a power of two.  Specifically,%
\begin{equation*}
{n\choose 0} + {n \choose 1} + {n\choose 2} + \cdots + {n \choose n} = 2^n\text{.}
\end{equation*}
The argument given there used the counting question, ``how many pizzas can you build using any number of \(n\) different toppings?''  To practice, give new proofs of this identity using different questions.%
\begin{enumerate}[label=(\alph*)]
\item{}Use a question about counting subsets.%
\item{}Use a question about counting bit strings.%
\item{}Use a question about counting lattice paths.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.5 Stars and Bars}
\typeout{************************************************}
%
\begin{sectionptx}{Stars and Bars}{}{Stars and Bars}{}{}{x:section:sec_stars-and-bars}
\index{stars and bars}%
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:bbv}%
Suppose you have some number of identical Rubik's cubes to distribute to your friends. Imagine you start with a single row of the cubes.%
\begin{enumerate}
\item{}Find the number of different ways you can distribute the cubes provided:%
\par
%
\begin{enumerate}
\item{}You have 3 cubes to give to 2 people.%
\item{}You have 4 cubes to give to 2 people.%
\item{}You have 5 cubes to give to 2 people.%
\item{}You have 3 cubes to give to 3 people.%
\item{}You have 4 cubes to give to 3 people.%
\item{}You have 5 cubes to give to 3 people.%
\end{enumerate}
%
\item{}Make a conjecture about how many different ways you could distribute 7 cubes to 4 people. Explain.%
\item{}What if each person were required to get \emph{at least one} cube? How would your answers change?%
\end{enumerate}
%
\end{investigation}
Consider the following counting problem:%
\begin{quote}%
You have 7 cookies to give to 4 kids. How many ways can you do this?%
\end{quote}
Take a moment to think about how you might solve this problem. You may assume that it is acceptable to give a kid no cookies. Also, the cookies are all identical and the order in which you give out the cookies does not matter.%
\par
Before solving the problem, here is a wrong answer: You might guess that the answer should be \(4^7\) because for each of the 7 cookies, there are 4 choices of kids to which you can give the cookie. This is reasonable, but wrong. To see why, consider a few possible outcomes: we could assign the first six cookies to kid A, and the seventh cookie to kid B. Another outcome would assign the first cookie to kid B and the six remaining cookies to kid A. Both outcomes are included in the \(4^7\) answer. But for our counting problem, both outcomes are really the same \textendash{} kid A gets six cookies and kid B gets one cookie.%
\par
What do outcomes actually look like? How can we represent them? One approach would be to write an outcome as a string of four numbers like this:%
\begin{equation*}
3112\text{,}
\end{equation*}
which represent the outcome in which the first kid gets 3 cookies, the second and third kid each get 1 cookie, and the fourth kid gets 2 cookies. Represented this way, the order in which the numbers occur matters. 1312 is a different outcome, because the first kid gets a one cookie instead of 3. Each number in the string can be any integer between 0 and 7. But the answer is not \(7^4\). We need the \emph{sum} of the numbers to be 7.%
\par
Another way we might represent outcomes is to write a string of seven letters:%
\begin{equation*}
\mbox{ABAADCD} \text{,}
\end{equation*}
which represents that the first cookie goes to kid A, the second cookie goes to kid B, the third and fourth cookies go to kid A, and so on. In fact, this outcome is identical to the previous one\textemdash{}A gets 3 cookies, B and C get 1 each and D gets 2. Each of the seven letters in the string can be any of the 4 possible letters (one for each kid), but the number of such strings is not \(4^7\), because here order does \emph{not} matter. In fact, another way to write the same outcome is%
\begin{equation*}
\mbox{AAABCDD} \text{.}
\end{equation*}
%
\par
This will be the preferred representation of the outcome. Since we can write the letters in any order, we might as well write them in \emph{alphabetical} order for the purposes of counting. So we will write all the A's first, then all the B's, and so on.%
\par
Now think about how you could specify such an outcome. All we really need to do is say when to switch from one letter to the next. In terms of cookies, we need to say after how many cookies do we stop giving cookies to the first kid and start giving cookies to the second kid. And then after how many do we switch to the third kid? And after how many do we switch to the fourth? So yet another way to represent an outcome is like this:%
\begin{equation*}
***|*|*|**\text{.}
\end{equation*}
%
\par
Three cookies go to the first kid, then we switch and give one cookie to the second kid, then switch, one to the third kid, switch, two to the fourth kid. Notice that we need 7 stars and 3 bars \textendash{} one star for each cookie, and one bar for each switch between kids, so one fewer bars than there are kids (we don't need to switch after the last kid \textendash{} we are done).%
\par
Why have we done all of this? Simple: to count the number of ways to distribute 7 cookies to 4 kids, all we need to do is count how many \emph{stars and bars} charts there are. But a \terminology{stars and bars chart} is just a string of symbols, some stars and some bars. If instead of stars and bars we would use 0's and 1's, it would just be a bit string. We know how to count those.%
\par
Before we get too excited, we should make sure that really \emph{any} string of (in our case) 7 stars and 3 bars corresponds to a different way to distribute cookies to kids. In particular consider a string like this:%
\begin{equation*}
|***||****\text{.}
\end{equation*}
%
\par
Does that correspond to a cookie distribution? Yes. It represents the distribution in which kid A gets 0 cookies (because we switch to kid B before any stars), kid B gets three cookies (three stars before the next bar), kid C gets 0 cookies (no stars before the next bar) and kid D gets the remaining 4 cookies. No matter how the stars and bars are arranged, we can distribute cookies in that way. Also, given any way to distribute cookies, we can represent that with a stars and bars chart. For example, the distribution in which kid A gets 6 cookies and kid B gets 1 cookie has the following chart:%
\begin{equation*}
******|*||\text{.}
\end{equation*}
%
\par
After all that work we are finally ready to count. Each way to distribute cookies corresponds to a stars and bars chart with 7 stars and 3 bars. So there are 10 symbols, and we must choose 3 of them to be bars. Thus:%
\begin{equation*}
\mbox{ There are } {10 \choose 3}\mbox{ ways to distribute 7 cookies to 4 kids}\text{.}
\end{equation*}
%
\par
While we are at it, we can also answer a related question: how many ways are there to distribute 7 cookies to 4 kids so that each kid gets at least one cookie? What can you say about the corresponding stars and bars charts? The charts must start and end with at least one star (so that kids A and D) get cookies, and also no two bars can be adjacent (so that kids B and C are not skipped). One way to assure this is to place bars only in the spaces \emph{between} the stars. With 7 stars, there are 6 spots between the stars, so we must choose 3 of those 6 spots to fill with bars. Thus there are \({6 \choose 3}\) ways to distribute 7 cookies to 4 kids giving at least one cookie to each kid.%
\par
Another (and more general) way to approach this modified problem is to first give each kid one cookie. Now the remaining 3 cookies can be distributed to the 4 kids without restrictions. So we have 3 stars and 3 bars for a total of 6 symbols, 3 of which must be bars. So again we see that there are \({6 \choose 3}\) ways to distribute the cookies.%
\par
Stars and bars can be used in counting problems other than kids and cookies. Here are a few examples:%
\begin{example}{}{p:example:CyL}%
Your favorite mathematical ice-cream parlor offers 10 flavors. How many milkshakes could you create using exactly 6, not necessarily distinct scoops? The order you add the flavors does not matter (they will be blended up anyway) but you are allowed repeats. So one possible shake is triple chocolate, double cherry, and mint chocolate chip.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:HiE}{}~~%
We get six scoops, each of which could be one of ten possible flavors. Represent each scoop as a star. Think of going down the counter one flavor at a time: you see vanilla first, and skip to the next, chocolate. You say yes to chocolate three times (use three stars), then switch to the next flavor. You keep skipping until you get to cherry, which you say yes to twice. Another switch and you are at mint chocolate chip. You say yes once. Then you keep switching until you get past the last flavor, never saying yes again (since you already have said yes six times). There are ten flavors to choose from, so we must switch from considering one flavor to the next nine times. These are the nine bars.%
\par
Now that we are confident that we have the right number of stars and bars, we answer the question simply: there are 6 stars and 9 bars, so 15 symbols. We need to pick 9 of them to be bars, so the number of milkshakes possible is%
\begin{equation*}
\binom{15}{9}\text{.}
\end{equation*}
%
\end{example}
\begin{example}{}{p:example:iFU}%
How many 7 digit phone numbers are there in which the digits are non-increasing? That is, every digit is less than or equal to the previous one.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:npN}{}~~%
We need to decide on 7 digits so we will use 7 stars. The bars will represent a switch from each possible single digit number down to the next smaller one. So the phone number 866-5221 is represented by the stars and bars chart%
\begin{equation*}
|*||**|*|||**|*|\text{.}
\end{equation*}
%
\par
There are 10 choices for each digit (0-9) so we must switch between choices 9 times. We have 7 stars and 9 bars, so the total number of phone numbers is%
\begin{equation*}
{16 \choose 9}\text{.}
\end{equation*}
%
\end{example}
\begin{example}{}{x:example:example-stars-bars-int-sol}%
How many integer solutions are there to the equation%
\begin{equation*}
x_1 + x_2 + x_3 + x_4 + x_5 = 13\text{.}
\end{equation*}
%
\par
(An \terminology{integer solution} to an equation is a solution in which the unknown must have an integer value.)%
\par
%
\begin{enumerate}
\item{}where \(x_i \ge 0\) for each \(x_i\)?%
\item{}where \(x_i > 0\) for each \(x_i\)?%
\item{}where \(x_i \ge 2\) for each \(x_i\)?%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:TwW}{}~~%
This problem is just like giving 13 cookies to 5 kids. We need to say how many of the 13 units go to each of the 5 variables. In other words, we have 13 stars and 4 bars (the bars are like the ``+'' signs in the equation).%
\par
%
\begin{enumerate}
\item{}If \(x_i\) can be 0 or greater, we are in the standard case with no restrictions. So 13 stars and 4 bars can be arranged in \({17 \choose 4}\) ways.%
\item{}Now each variable must be at least 1. So give one unit to each variable to satisfy that restriction. Now there are 8 stars left, and still 4 bars, so the number of solutions is \({12 \choose 4}\).%
\item{}Now each variable must be 2 or greater. So before any counting, give each variable 2 units. We now have 3 remaining stars and 4 bars, so there are \({7 \choose 4}\) solutions.%
\end{enumerate}
%
\end{example}
\begin{paragraphs}{Counting with Functions.}{p:paragraphs:WrC}%
Many of the counting problems in this section might at first appear to be examples of counting \emph{functions}. After all, when we try to count the number of ways to distribute cookies to kids, we are assigning each cookie to a kid, just like you assign elements of the domain of a function to elements in the codomain. However, the number of ways to assign 7 cookies to 4 kids is \({10 \choose 7} = 120\), while the number of functions \(f: \{1,2,3,4,5,6,7\} \to \{a,b,c,d\}\) is \(4^7 = 16384\). What is going on here?%
\par
When we count functions, we consider the following two functions, for example, to be different:%
\begin{equation*}
f = \twoline{1 \amp 2 \amp 3 \amp 4\amp 5 \amp 6 \amp 7}{a \amp b \amp c \amp c \amp c \amp c \amp c} \qquad g = \twoline{1 \amp 2 \amp 3 \amp 4\amp 5 \amp 6 \amp 7}{b \amp a \amp c \amp c \amp c \amp c \amp c}\text{.}
\end{equation*}
But these two functions would correspond to the \emph{same} cookie distribution: kids \(a\) and \(b\) each get one cookie, kid \(c\) gets the rest (and none for kid \(d\)).%
\par
The point: elements of the domain are distinguished, cookies are indistinguishable. This is analogous to the distinction between permutations (like counting functions) and combinations (not).%
\end{paragraphs}%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_stars-and-bars}
\begin{divisionexercise}{\hyperlink{g:solution:idm10192-back}{1}}{}{}{p:exercise:SfI}%
A multiset is a collection of objects, just like a set, but can contain an object more than once (the order of the elements still doesn't matter). For example, \(\{1,1, 2, 5, 5, 7\}\) is a multiset of size 6.%
\begin{enumerate}[label=(\alph*)]
\item{}How many \emph{sets} of size 5 can be made using the 10 numeric digits 0 through 9?%
\item{}How many \emph{multi}sets of size 5 can be made using the 10 numeric digits 0 through 9?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10255-back}{2}}{}{}{p:exercise:ymR}%
Using the digits 2 through 8, find the number of different 5-digit numbers such that:%
\begin{enumerate}[label=(\alph*)]
\item{}Digits cannot be repeated and must be written in increasing order. For example, 23678 is okay, but 32678 is not.%
\item{}Digits \emph{can} be repeated and must be written in \emph{non-decreasing} order. For example, 24448 is okay, but 24484 is not.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:TUV-back}{3}}{}{}{p:exercise:eua}%
Each of the counting problems below can be solved with stars and bars. For each, say what outcome the diagram%
\begin{equation*}
***|*||**|
\end{equation*}
represents, if there are the correct number of stars and bars for the problem. Otherwise, say why the diagram does not represent any outcome, and what a correct diagram would look like.%
\begin{enumerate}[label=(\alph*)]
\item{}How many ways are there to select a handful of 6 jellybeans from a jar that contains 5 different flavors?%
\item{}How many ways can you distribute 5 identical lollipops to 6 kids?%
\item{}How many 6-letter words can you make using the 5 vowels in alphabetical order?%
\item{}How many solutions are there to the equation \(x_1 + x_2 + x_3 + x_4 = 6\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10344-back}{4}}{}{}{p:exercise:KBj}%
After gym class you are tasked with putting the 14 identical dodgeballs away into 5 bins.%
\begin{enumerate}[label=(\alph*)]
\item{}How many ways can you do this if there are no restrictions?%
\item{}How many ways can you do this if each bin must contain at least one dodgeball?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10446-back}{5}}{}{}{p:exercise:qIs}%
How many integer solutions are there to the equation \(x + y + z = 8\) for which%
\begin{enumerate}[label=(\alph*)]
\item{}\(x\text{,}\) \(y\text{,}\) and \(z\) are all positive?%
\item{}\(x\text{,}\) \(y\text{,}\) and \(z\) are all non-negative?%
\item{}\(x\text{,}\) \(y\text{,}\) and \(z\) are all greater than or equal to \(-3\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10492-back}{6}}{}{}{p:exercise:WPB}%
When playing Yahtzee, you roll five regular 6-sided dice. How many different outcomes are possible from a single roll? The order of the dice does not matter.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10522-back}{7}}{}{}{p:exercise:CWK}%
Your friend tells you she has 7 coins in her hand (just pennies, nickels, dimes and quarters). If you guess how many of each kind of coin she has, she will give them to you. If you guess randomly, what is the probability that you will be correct?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10563-back}{8}}{}{}{p:exercise:jdT}%
How many integer solutions to \(x_1 + x_2 + x_3 + x_4 = 25\) are there for which \(x_1 \ge 1\text{,}\) \(x_2 \ge 2\text{,}\) \(x_3 \ge 3\) and \(x_4 \ge 4\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:Plc}%
Solve the three counting problems below. Then say why it makes sense that they all have the same answer. That is, say how you can interpret them as each other.%
\begin{enumerate}[label=(\alph*)]
\item{}How many ways are there to distribute 8 cookies to 3 kids?%
\item{}How many solutions in non-negative integers are there to \(x+y+z = 8\)?%
\item{}How many different packs of 8 crayons can you make using crayons that come in red, blue and yellow?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10638-back}{10}}{}{}{p:exercise:vsl}%
Consider functions \(f:\{1,2,3,4,5\} \to \{0,1,2,\ldots,9\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many of these functions are strictly increasing? Explain. (A function is strictly increasing provided if \(a \lt b\text{,}\) then \(f(a) \lt f(b)\text{.}\))%
\item{}How many of the functions are non-decreasing? Explain. (A function is non-decreasing provided if \(a \lt b\text{,}\) then \(f(a) \le f(b)\text{.}\))%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm10727-back}{11}}{}{}{p:exercise:bzu}%
\emph{Conic}, your favorite math themed fast food drive-in offers 20 flavors which can be added to your soda. You have enough money to buy a large soda with 4 added flavors. How many different soda concoctions can you order if:%
\begin{enumerate}[label=(\alph*)]
\item{}You refuse to use any of the flavors more than once?%
\item{}You refuse repeats but care about the order the flavors are added?%
\item{}You allow yourself multiple shots of the same flavor?%
\item{}You allow yourself multiple shots, and care about the order the flavors are added?%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.6 Advanced Counting Using PIE}
\typeout{************************************************}
%
\begin{sectionptx}{Advanced Counting Using PIE}{}{Advanced Counting Using PIE}{}{}{x:section:sec_advPIE}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:icR}%
You have 11 identical mini key-lime pies to give to 4 children. However, you don't want any kid to get more than 3 pies. How many ways can you distribute the pies?%
\begin{enumerate}
\item{}How many ways are there to distribute the pies without any restriction?%
\item{}Let's get rid of the ways that one or more kid gets too many pies. How many ways are there to distribute the pies if Al gets too many pies? What if Bruce gets too many? Or Cat? Or Dent?%
\item{}What if two kids get too many pies? How many ways can this happen? Does it matter which two kids you pick to overfeed?%
\item{}Is it possible that three kids get too many pies? If so, how many ways can this happen?%
\item{}How should you combine all the numbers you found above to answer the original question?%
\end{enumerate}
%
\par
Suppose now you have 13 pies and 7 children. No child can have more than 2 pies. How many ways can you distribute the pies?%
\end{investigation}
Stars and bars allows us to count the number of ways to distribute 10 cookies to 3 kids and natural number solutions to \(x+y+z = 11\), for example. A relatively easy modification allows us to put a \emph{lower bound} restriction on these problems: perhaps each kid must get at least two cookies or \(x,y,z \ge 2\). This was done by first assigning each kid (or variable) 2 cookies (or units) and then distributing the rest using stars and bars.%
\par
What if we wanted an \emph{upper bound} restriction? For example, we might insist that no kid gets more than 4 cookies or that \(x,
y, z \le 4\). It turns out this is considerably harder, but still possible. The idea is to count all the distributions and then remove those that violate the condition. In other words, we must count the number of ways to distribute 11 cookies to 3 kids in which \emph{one or more} of the kids gets more than 4 cookies. For any particular kid, this is not a problem; we do this using stars and bars. But how to combine the number of ways for kid A, or B or C? We must use the PIE.%
\par
The Principle of Inclusion\slash{}Exclusion (PIE) gives a method for finding the cardinality of the union of not necessarily disjoint sets. We saw in \hyperref[x:section:sec_counting-addmult]{Section~\ref{x:section:sec_counting-addmult}} how this works with three sets. To find how many things are in \emph{one or more} of the sets \(A\), \(B\), and \(C\), we should just add up the number of things in each of these sets. However, if there is any overlap among the sets, those elements are counted multiple times. So we subtract the things in each intersection of a pair of sets. But doing this removes elements which are in all three sets once too often, so we need to add it back in. In terms of cardinality of sets, we have%
\begin{equation*}
|A \cup B \cup C| = |A| + |B| + |C| - |A \cap B| - |A \cap C| - |B \cap C| + |A\cap B \cap C|\text{.}
\end{equation*}
%
\begin{example}{}{p:example:JAh}%
Three kids, Alberto, Bernadette, and Carlos, decide to share 11 cookies. They wonder how many ways they could split the cookies up provided that none of them receive more than 4 cookies (someone receiving no cookies is for some reason acceptable to these kids).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Oka}{}~~%
Without the ``no more than 4'' restriction, the answer would be \({13 \choose 2}\), using 11 stars and 2 bars (separating the three kids). Now count the number of ways that one or more of the kids violates the condition, i.e., gets at least 4 cookies.%
\par
Let \(A\) be the set of outcomes in which Alberto gets more than 4 cookies. Let \(B\) be the set of outcomes in which Bernadette gets more than 4 cookies. Let \(C\) be the set of outcomes in which Carlos gets more than 4 cookies. We then are looking (for the sake of subtraction) for the size of the set \(A \cup B \cup C\). Using PIE, we must find the sizes of \(|A|\), \(|B|\), \(|C|\), \(|A\cap B|\) and so on. Here is what we find.%
\par
%
\begin{itemize}[label=\textbullet]
\item{}\(|A| = {8 \choose 2}\). First give Alberto 5 cookies, then distribute the remaining 6 to the three kids without restrictions, using 6 stars and 2 bars.%
\item{}\(|B| = {8 \choose 2}\). Just like above, only now Bernadette gets 5 cookies at the start.%
\item{}\(|C| = {8 \choose 2}\). Carlos gets 5 cookies first.%
\item{}\(|A \cap B| = {3 \choose 2}\). Give Alberto and Bernadette 5 cookies each, leaving 1 (star) to distribute to the three kids (2 bars).%
\item{}\(|A \cap C| = {3 \choose 2}\). Alberto and Carlos get 5 cookies first.%
\item{}\(|B \cap C| = {3 \choose 2}\). Bernadette and Carlos get 5 cookies first.%
\item{}\(|A \cap B \cap C| = 0\). It is not possible for all three kids to get 4 or more cookies.%
\end{itemize}
%
\par
Combining all of these we see%
\begin{equation*}
|A \cup B \cup C| = {8 \choose 2} + {8 \choose 2} + {8 \choose 2} - {3 \choose 2} - {3 \choose 2} - {3 \choose 2} + 0 = 75\text{.}
\end{equation*}
%
\par
Thus the answer to the original question is \({13 \choose 2} - 75 = 78 - 75 = 3\). This makes sense now that we see it. The only way to ensure that no kid gets more than 4 cookies is to give two kids 4 cookies and one kid 3; there are three choices for which kid that should be. We could have found the answer much quicker through this observation, but the point of the example is to illustrate that PIE works!%
\end{example}
For four or more sets, we do not write down a formula for PIE. Instead, we just think of the principle: add up all the elements in single sets, then subtract out things you counted twice (elements in the intersection of a \emph{pair} of sets), then add back in elements you removed too often (elements in the intersection of groups of three sets), then take back out elements you added back in too often (elements in the intersection of groups of four sets), then add back in, take back out, add back in, etc. This would be very difficult if it wasn't for the fact that in these problems, all the cardinalities of the single sets are equal, as are all the cardinalities of the intersections of two sets, and that of three sets, and so on. Thus we can group all of these together and multiply by how many different combinations of 1, 2, 3, \textellipsis{} sets there are.%
\begin{example}{}{p:example:pHq}%
How many ways can you distribute 10 cookies to 4 kids so that no kid gets more than 2 cookies?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:urj}{}~~%
There are \({13 \choose 3}\) ways to distribute 10 cookies to 4 kids (using 10 stars and 3 bars). We will subtract all the outcomes in which a kid gets 3 or more cookies. How many outcomes are there like that? We can force kid A to eat 3 or more cookies by giving him 3 cookies before we start. Doing so reduces the problem to one in which we have 7 cookies to give to 4 kids without any restrictions. In that case, we have 7 stars (the 7 remaining cookies) and 3 bars (one less than the number of kids) so we can distribute the cookies in \({10 \choose 3}\) ways. Of course we could choose any one of the 4 kids to give too many cookies, so it would appear that there are \({4 \choose 1}{10 \choose 3}\) ways to distribute the cookies giving too many to one kid. But in fact, we have over counted.%
\par
We must get rid of the outcomes in which two kids have too many cookies. There are \({4 \choose 2}\) ways to select 2 kids to give extra cookies. It takes 6 cookies to do this, leaving only 4 cookies. So we have 4 stars and still 3 bars. The remaining 4 cookies can thus be distributed in \({7 \choose 3}\) ways (for each of the \({4 \choose 2}\) choices of which 2 kids to over-feed).%
\par
But now we have removed too much. We must add back in all the ways to give too many cookies to three kids. This uses 9 cookies, leaving only 1 to distribute to the 4 kids using stars and bars, which can be done in \({4 \choose 3}\) ways. We must consider this outcome for every possible choice of which three kids we over-feed, and there are \({4 \choose 3}\) ways of selecting that set of 3 kids.%
\par
Next we would subtract all the ways to give four kids too many cookies, but in this case, that number is 0.%
\par
All together we get that the number of ways to distribute 10 cookies to 4 kids without giving any kid more than 2 cookies is:%
\begin{equation*}
{13 \choose 3} - \left[{4 \choose 1}{10 \choose 3} - {4 \choose 2}{7 \choose 3} + {4\choose 3}{4\choose 3}\right]
\end{equation*}
which is%
\begin{equation*}
286 - [480 - 210 + 16] = 0\text{.}
\end{equation*}
%
\par
This makes sense: there is NO way to distribute 10 cookies to 4 kids and make sure that nobody gets more than 2. It is slightly surprising that%
\begin{equation*}
{13 \choose 3} = \left[{4 \choose 1}{10 \choose 3} - {4 \choose 2}{7 \choose 3} + {4\choose 3}{4\choose 3}\right]\text{,}
\end{equation*}
but since PIE works, this equality must hold.%
\end{example}
Just so you don't think that these problems always have easier solutions, consider the following example.%
\begin{example}{}{p:example:VOz}%
Earlier (\hyperref[x:example:example-stars-bars-int-sol]{Example~\ref{x:example:example-stars-bars-int-sol}}) we counted the number of solutions to the equation%
\begin{equation*}
x_1 + x_2 + x_3 + x_4 + x_5 = 13\text{,}
\end{equation*}
where \(x_i \ge 0\) for each \(x_i\).%
\par
How many of those solutions have \(0 \le x_i \le 3\) for each \(x_i\)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ays}{}~~%
We must subtract off the number of solutions in which one or more of the variables has a value greater than 3. We will need to use PIE because counting the number of solutions for which each of the five variables separately are greater than 3 counts solutions multiple times. Here is what we get:%
\par
%
\begin{itemize}[label=\textbullet]
\item{}Total solutions: \({17 \choose 4}\).%
\item{}Solutions where \(x_1 > 3\): \({13 \choose 4}\). Give \(x_1\) 4 units first, then distribute the remaining 9 units to the 5 variables.%
\item{}Solutions where \(x_1 > 3\) and \(x_2 > 3\): \({9 \choose 4}\). After you give 4 units to \(x_1\) and another 4 to \(x_2\), you only have 5 units left to distribute.%
\item{}Solutions where \(x_1 > 3\), \(x_2 > 3\) and \(x_3 > 3\): \({5 \choose 4}\).%
\item{}Solutions where \(x_1 > 3\), \(x_2 > 3\), \(x_3 > 3\), and \(x_4 > 3\): 0.%
\end{itemize}
%
\par
We also need to account for the fact that we could choose any of the five variables in the place of \(x_1\) above (so there will be \({5 \choose 1}\) outcomes like this), any pair of variables in the place of \(x_1\) and \(x_2\) (\({5 \choose 2}\) outcomes) and so on. It is because of this that the double counting occurs, so we need to use PIE. All together we have that the number of solutions with \(0 \le x_i \le 3\) is%
\begin{equation*}
{17 \choose 4} - \left[{5\choose 1}{13 \choose 4} - {5 \choose 2}{9 \choose 4} + {5 \choose 3}{5 \choose 4}\right] = 15\text{.}
\end{equation*}
%
\end{example}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Counting Derangements}
\typeout{************************************************}
%
\begin{subsectionptx}{Counting Derangements}{}{Counting Derangements}{}{}{x:subsection:subsec_derangements}
\begin{investigation}{}{p:investigation:MuN}%
For your senior prank, you decide to switch the nameplates on your favorite 5 professors' doors. So that none of them feel left out, you want to make sure that all of the nameplates end up on the wrong door. How many ways can this be accomplished?%
\end{investigation}
The advanced use of PIE has applications beyond stars and bars. A \terminology{derangement} \index{derangement} of \(n\) elements \(\{1,2,3,\ldots,
n\}\) is a permutation in which no element is fixed. For example, there are \(6\) permutations of the three elements \(\{1,2,3\}\):%
\begin{equation*}
123 ~~ 132 ~~ 213 ~~ 231 ~~ 312 ~~ 321\text{.}
\end{equation*}
but most of these have one or more elements fixed: \(123\) has all three elements fixed since all three elements are in their original positions, \(132\) has the first element fixed (1 is in its original first position), and so on. In fact, the only derangements of three elements are%
\begin{equation*}
231 \text{ and } 312\text{.}
\end{equation*}
%
\par
If we go up to 4 elements, there are 24 permutations (because we have 4 choices for the first element, 3 choices for the second, 2 choices for the third leaving only 1 choice for the last). How many of these are derangements? If you list out all 24 permutations and eliminate those which are not derangements, you will be left with just 9 derangements. Let's see how we can get that number using PIE.%
\begin{example}{}{p:example:Agv}%
How many derangements are there of 4 elements?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:GFB}{}~~%
We count all permutations, and subtract those which are not derangements. There are \(4! = 24\) permutations of 4 elements. Now for a permutation to \emph{not} be a derangement, at least one of the 4 elements must be fixed. There are \({4 \choose 1}\) choices for which single element we fix. Once fixed, we need to find a permutation of the other three elements. There are \(3!\) permutations on 3 elements.%
\par
But now we have counted too many non-derangements, so we must subtract those permutations which fix two elements. There are \({4 \choose 2}\) choices for which two elements we fix, and then for each pair, \(2!\) permutations of the remaining elements. But this subtracts too many, so add back in permutations which fix 3 elements, all \({4 \choose 3}1!\) of them. Finally subtract the \({4 \choose 4}0!\) permutations (recall \(0! = 1\)) which fix all four elements. All together we get that the number of derangements of 4 elements is:%
\begin{equation*}
4! - \left[{4 \choose 1}3! - {4 \choose 2}2! + {4 \choose 3} 1! - {4 \choose 4}0!\right] = 24 - 15 = 9\text{.}
\end{equation*}
%
\end{example}
Of course we can use a similar formula to count the derangements of any number of elements. However, the more elements we have, the longer the formula gets. Here is another example:%
\begin{example}{}{p:example:gnE}%
Five gentlemen attend a party, leaving their hats at the door. At the end of the party, they hastily grab hats on their way out. How many different ways could this happen so that none of the gentlemen leave with his own hat?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:mMK}{}~~%
We are counting derangements on 5 elements. There are \(5!\) ways for the gentlemen to grab hats in any order\textemdash{}but many of these permutations will result in someone getting their own hat. So we subtract all the ways in which one or more of the men get their own hat. In other words, we subtract the non-derangements. Doing so requires PIE. Thus the answer is:%
\begin{equation*}
5! - \left[{5 \choose 1}4! - {5 \choose 2}3! + {5 \choose 3}2! - {5 \choose 4}1! + {5 \choose 5}0!\right]\text{.}
\end{equation*}
%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Counting Functions}
\typeout{************************************************}
%
\begin{subsectionptx}{Counting Functions}{}{Counting Functions}{}{}{p:subsection:TZm}
\begin{investigation}{}{p:investigation:dsY}%
%
\begin{enumerate}
\item{}Consider all functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\). How many functions are there all together? How many of those are injective? Remember, a function is an injection if every input goes to a different output.%
\item{}Consider all functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\). How many of the \emph{injections} have the property that \(f(x) \ne x\) for any \(x \in \{1,2,3,4,5\}\)?%
\par
Your friend claims that the answer is:%
\begin{equation*}
5! - \left[ {5\choose 1}4! - {5 \choose 2}3! + {5\choose 3}2! - {5 \choose 4}1! + {5\choose 5}0! \right]\text{.}
\end{equation*}
%
\par
Explain why this is correct.%
\item{}Recall that a \emph{surjection} is a function for which every element of the codomain is in the range. How many of the functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\) are surjective? Use PIE!%
\end{enumerate}
%
\end{investigation}
We have seen throughout this chapter that many counting questions can be rephrased as questions about counting functions with certain properties. This is reasonable since many counting questions can be thought of as counting the number of ways to assign elements from one set to elements of another.%
\begin{example}{}{p:example:sBW}%
You decide to give away your video game collection so as to better spend your time studying advanced mathematics. How many ways can you do this, provided:%
\begin{enumerate}
\item{}You want to distribute your 3 different PS4 games among 5 friends, so that no friend gets more than one game?%
\item{}You want to distribute your 8 different 3DS games among 5 friends?%
\item{}You want to distribute your 8 different SNES games among 5 friends, so that each friend gets at least one game?%
\end{enumerate}
In each case, model the counting question as a function counting question.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:STT}{}~~%
%
\begin{enumerate}
\item{}We must use the three games (call them 1, 2, 3) as the domain and the 5 friends (a,b,c,d,e) as the codomain (otherwise the function would not be defined for the whole domain when a friend didn't get any game). So how many functions are there with domain \(\{1,2,3\}\) and codomain \(\{a,b,c,d,e\}\)? The answer to this is \(5^3=125\), since we can assign any of 5 elements to be the image of 1, any of 5 elements to be the image of 2 and any of 5 elements to be the image of 3.%
\par
But this is not the correct answer to our counting problem, because one of these functions is \(f= \twoline{1\amp 2\amp 3}{a\amp a\amp a}\); one friend can get more than one game. What we really need to do is count \emph{injective} functions. This gives \(P(5,3) = 60\) functions, which is the answer to our counting question.%
\item{}Again, we need to use the 8 games as the domain and the 5 friends as the codomain. We are counting all functions, so the number of ways to distribute the games is \(5^8\).%
\item{}This question is harder. Use the games as the domain and friends as the codomain (the reverse would not give a function). To ensure that every friend gets at least one game means that every element of the codomain is in the range. In other words, we are looking for \emph{surjective} functions. How do you count those??%
\end{enumerate}
%
\end{example}
In \hyperref[x:example:example-counting-functions-all]{Example~\ref{x:example:example-counting-functions-all}} we saw how to count all functions (using the multiplicative principle) and in \hyperref[x:example:example-counting-functions-injective]{Example~\ref{x:example:example-counting-functions-injective}} we learned how to count injective functions (using permutations). Surjective functions are not as easily counted (unless the size of the domain is smaller than the codomain, in which case there are none).%
\par
The idea is to count the functions which are \emph{not} surjective, and then subtract that from the total number of functions. This works very well when the codomain has two elements in it:%
\begin{example}{}{p:example:YJf}%
How many functions \(f: \{1,2,3,4,5\} \to \{a,b\}\) are surjective?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:zbc}{}~~%
There are \(2^5\) functions all together, two choices for where to send each of the 5 elements of the domain. Now of these, the functions which are \emph{not} surjective must exclude one or more elements of the codomain from the range. So first, consider functions for which \(a\) is not in the range. This can only happen one way: everything gets sent to \(b\). Alternatively, we could exclude \(b\) from the range. Then everything gets sent to \(a\), so there is only one function like this. These are the only ways in which a function could not be surjective (no function excludes both \(a\) and \(b\) from the range) so there are exactly \(2^5 - 2\) surjective functions.%
\end{example}
When there are three elements in the codomain, there are now three choices for a single element to exclude from the range. Additionally, we could pick pairs of two elements to exclude from the range, and we must make sure we don't over count these. It's PIE time!%
\begin{example}{}{p:example:EQo}%
How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c\}\) are surjective?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:fil}{}~~%
Again start with the total number of functions: \(3^5\) (as each of the five elements of the domain can go to any of three elements of the codomain). Now we count the functions which are \emph{not} surjective.%
\par
Start by excluding \(a\) from the range. Then we have two choices (\(b\) or \(c\)) for where to send each of the five elements of the domain. Thus there are \(2^5\) functions which exclude \(a\) from the range. Similarly, there are \(2^5\) functions which exclude \(b\), and another \(2^5\) which exclude \(c\). Now have we counted all functions which are not surjective? Yes, but in fact, we have counted some multiple times. For example, the function which sends everything to \(c\) was one of the \(2^5\) functions we counted when we excluded \(a\) from the range, and also one of the \(2^5\) functions we counted when we excluded \(b\) from the range. We must subtract out all the functions which specifically exclude two elements from the range. There is 1 function when we exclude \(a\) and \(b\) (everything goes to \(c\)), one function when we exclude \(a\) and \(c\), and one function when we exclude \(b\) and \(c\).%
\par
We are using PIE: to count the functions which are not surjective, we added up the functions which exclude \(a\), \(b\), and \(c\) separately, then subtracted the functions which exclude pairs of elements. We would then add back in the functions which exclude groups of three elements, except that there are no such functions. We find that the number of functions which are \emph{not} surjective is%
\begin{equation*}
2^5 + 2^5 + 2^5 - 1 - 1 - 1 + 0\text{.}
\end{equation*}
%
\par
Perhaps a more descriptive way to write this is%
\begin{equation*}
{3 \choose 1}2^5 - {3 \choose 2}1^5 + {3 \choose 3}0^5\text{.}
\end{equation*}
since each of the \(2^5\)'s was the result of choosing 1 of the 3 elements of the codomain to exclude from the range, each of the three \(1^5\)'s was the result of choosing 2 of the 3 elements of the codomain to exclude. Writing \(1^5\) instead of 1 makes sense too: we have 1 choice of where to send each of the 5 elements of the domain.%
\par
Now we can finally count the number of surjective functions:%
\begin{equation*}
3^5 - \left[{3 \choose 1}2^5 - {3 \choose 2}1^5\right] = 150\text{.}
\end{equation*}
%
\end{example}
You might worry that to count surjective functions when the codomain is larger than 3 elements would be too tedious. We need to use PIE but with more than 3 sets the formula for PIE is very long. However, we have lucked out. As we saw in the example above, the number of functions which exclude a single element from the range is the same no matter which single element is excluded. Similarly, the number of functions which exclude a pair of elements will be the same for every pair. With larger codomains, we will see the same behavior with groups of 3, 4, and more elements excluded. So instead of adding\slash{}subtracting each of these, we can simply add or subtract all of them at once, if you know how many there are. This works just like it did in for the other types of counting questions in this section, only now the size of the various combinations of sets is a number raised to a power, as opposed to a binomial coefficient or factorial. Here's what happens with \(4\) and \(5\) elements in the codomain.%
\begin{example}{}{p:example:kXx}%
%
\begin{enumerate}
\item{}How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c,d\}\) are surjective?%
\item{}How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c,d,e\}\) are surjective?%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Lpu}{}~~%
%
\begin{enumerate}
\item{}There are \(4^5\) functions all together; we will subtract the functions which are not surjective. We could exclude any one of the four elements of the codomain, and doing so will leave us with \(3^5\) functions for each excluded element. This counts too many so we subtract the functions which exclude two of the four elements of the codomain, each pair giving \(2^5\) functions. But this excludes too many, so we add back in the functions which exclude three of the four elements of the codomain, each triple giving \(1^5\) function. There are \({4 \choose 1}\) groups of functions excluding a single element, \({4 \choose 2}\) groups of functions excluding a pair of elements, and \({4 \choose 3}\) groups of functions excluding a triple of elements. This means that the number of functions which are \emph{not} surjective is:%
\begin{equation*}
{4 \choose 1}3^5 - {4 \choose 2}2^5 + {4 \choose 3}1^5\text{.}
\end{equation*}
We can now say that the number of functions which are surjective is:%
\begin{equation*}
4^5 - \left[{4 \choose 1}3^5 - {4 \choose 2}2^5 + {4 \choose 3}1^5\right]\text{.}
\end{equation*}
%
\item{}The number of surjective functions is:%
\begin{equation*}
5^5 - \left[{5 \choose 1}4^5 - {5 \choose 2}3^5 + {5 \choose 3}2^5 - {5 \choose 4}1^5\right]\text{.}
\end{equation*}
We took the total number of functions \(5^5\) and subtracted all that were not surjective. There were \({5 \choose 1}\) ways to select a single element from the codomain to exclude from the range, and for each there were \(4^5\) functions. But this double counts, so we use PIE and subtract functions excluding two elements from the range: there are \({5 \choose 2}\) choices for the two elements to exclude, and for each pair, \(3^5\) functions. This takes out too many functions, so we add back in functions which exclude 3 elements from the range: \({5 \choose 3}\) choices for which three to exclude, and then \(2^5\) functions for each choice of elements. Finally we take back out the 1 function which excludes 4 elements for each of the \({5 \choose 4}\) choices of 4 elements.%
\par
If you happen to calculate this number precisely, you will get 120 surjections. That happens to also be the value of \(5!\). This might seem like an amazing coincidence until you realize that every surjective function \(f:X \to Y\) with \(\card{X} = \card{Y}\) finite must necessarily be a bijection. The number of bijections is always \(\card{X}!\) in this case. What we have here is a \emph{combinatorial proof} of the following identity:%
\begin{equation*}
n^n - \left[{n\choose 1}(n-1)^n - {n \choose 2}(n-2)^n + \cdots + {n \choose n-1}1^n \right] = n!\text{.}
\end{equation*}
%
\end{enumerate}
%
\end{example}
We have seen that counting surjective functions is another nice example of the advanced use of the Principle of Inclusion\slash{}Exclusion. Also, counting injective functions turns out to be equivalent to permutations, and counting all functions has a solution akin to those counting problems where order matters but repeats are allowed (like counting the number of words you can make from a given set of letters).%
\par
These are not just a few more examples of the techniques we have developed in this chapter. Quite the opposite: everything we have learned in this chapter are examples of \emph{counting functions}!%
\begin{example}{}{p:example:ReG}%
How many 5-letter words can you make using the eight letters \(a\) through \(h\)? How many contain no repeated letters?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:rwD}{}~~%
By now it should be no surprise that there are \(8^5\) words, and \(P(8,5)\) words without repeated letters. The new piece here is that we are actually counting functions. For the first problem, we are counting all functions from \(\{1,2,\ldots, 5\}\) to \(\{a,b,\ldots, h\}\). The numbers in the domain represent the \emph{position} of the letter in the word, the codomain represents the letter that could be assigned to that position. If we ask for no repeated letters, we are asking for injective functions.%
\par
If \(A\) and \(B\) are \emph{any} sets with \(|A| = 5\) and \(|B| = 8\), then the number of functions \(f: A \to B\) is \(8^5\) and the number of injections is \(P(8,5)\). So if you can represent your counting problem as a function counting problem, most of the work is done.%
\end{example}
\begin{example}{}{p:example:xlP}%
How many subsets are there of \(\{1,2,\ldots, 9\}\)? How many 9-bit strings are there (of any weight)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:XDM}{}~~%
We saw in \hyperref[x:section:sec_counting-binom]{Section~\ref{x:section:sec_counting-binom}} that the answer to both these questions is \(2^9\), as we can say yes or no (or 0 or 1) to each of the 9 elements in the set (positions in the bit-string). But \(2^9\) also looks like the answer you get from counting functions. In fact, if you count all functions \(f: A \to B\) with \(|A| = 9\) and \(|B| = 2\), this is exactly what you get.%
\par
This makes sense! Let \(A = \{1,2,\ldots, 9\}\) and \(B = \{y, n\}\). We are assigning each element of the set either a yes or a no. Or in the language of bit-strings, we would take the 9 positions in the bit string as our domain and the set \(\{0,1\}\) as the codomain.%
\end{example}
So far we have not used a function as a model for binomial coefficients (combinations). Think for a moment about the relationship between combinations and permutations, say specifically \({9 \choose 3}\) and \(P(9,3)\). We \emph{do} have a function model for \(P(9,3)\). This is the number of \emph{injective} functions from a set of size 3 (say \(\{1,2,3\}\) to a set of size 9 (say \(\{1,2,\ldots, 9\}\)) since there are 9 choices for where to send the first element of the domain, then only 8 choices for the second, and 7 choices for the third. For example, the function might look like this:%
\begin{equation*}
f(1) = 5 \qquad f(2) = 8 \qquad f(3) = 4\text{.}
\end{equation*}
%
\par
This is a different function from:%
\begin{equation*}
f(1) = 4 \qquad f(2) = 5 \qquad f(3) = 8\text{.}
\end{equation*}
%
\par
Now \(P(9,3)\) counts these as different outcomes correctly, but \({9\choose 3}\) will count these (among others) as just one outcome. In fact, in terms of functions \({9 \choose 3}\) just counts the number of different ranges possible of injective functions. This should not be a surprise since binomial coefficients counts subsets, and the range is a possible subset of the codomain.\footnote{A more mathematically sophisticated interpretation of combinations is that we are defining two injective functions to be \emph{equivalent} if they have the same range, and then counting the number of equivalence classes under this notion of equivalence.\label{g:fn:idm11143}}%
\par
While it is possible to interpret combinations as functions, perhaps the better advice is to instead use combinations (or stars and bars) when functions are not quite the right way to interpret the counting question.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_counting-advPIE}
\begin{divisionexercise}{\hyperlink{g:solution:idm11204-back}{1}}{}{}{p:exercise:COT}%
The dollar menu at your favorite tax-free fast food restaurant has 7 items. You have \textdollar{}10 to spend. How many different meals can you buy if you spend all your money and:%
\begin{enumerate}[label=(\alph*)]
\item{}Purchase at least one of each item.%
\item{}Possibly skip some items.%
\item{}Don't get more than 2 of any particular item.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:iWc}%
After a late night of math studying, you and your friends decide to go to your favorite tax-free fast food Mexican restaurant, \emph{Burrito Chime}. You decide to order off of the dollar menu, which has 7 items. Your group has \textdollar{}16 to spend (and will spend all of it).%
\begin{enumerate}[label=(\alph*)]
\item{}How many different orders are possible? Explain. (The \emph{order} in which the order is placed does not matter - just which and how many of each item that is ordered.)%
\item{}How many different orders are possible if you want to get at least one of each item? Explain.%
\item{}How many different orders are possible if you don't get more than 4 of any one item? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11255-back}{3}}{}{}{p:exercise:Pdl}%
After another gym class you are tasked with putting the 14 identical dodgeballs away into 5 bins. This time, no bin can hold more than 6 balls. How many ways can you clean up?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm11292-back}{4}}{}{}{p:exercise:vku}%
Consider the equation \(x_1 + x_2 + x_3 + x_4 = 15\text{.}\) How many solutions are there with \(2 \le x_i \le 5\) for all \(i \in \{1,2,3,4\}\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11335-back}{5}}{}{}{p:exercise:brD}%
Suppose you planned on giving 7 gold stars to some of the 13 star students in your class. Each student can receive at most one star. How many ways can you do this?%
\par
Use PIE. Then, find the numeric answer in Pascal's triangle and explain why that makes sense.%
\end{divisionexercise}%
\begin{divisionexercise}{6}{}{}{p:exercise:HyM}%
Based on the previous question, give a combinatorial proof for the identity:%
\begin{equation*}
{n \choose k} = {n+k-1 \choose k} - \sum_{j=1}^n (-1)^{j+1}{n \choose j}{n+k-(2j+1) \choose k - 2j}\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:pvi-back}{7}}{}{}{p:exercise:nFV}%
Illustrate how the counting of derangements works by writing all permutations of \(\{1,2,3,4\}\) and the crossing out those which are not derangements. Keep track of the permutations you cross out more than once, using PIE.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11381-back}{8}}{}{}{p:exercise:TNe}%
How many permutations of \(\{1,2,3,4,5\}\) leave exactly 1 element fixed?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11411-back}{9}}{}{}{p:exercise:zUn}%
Ten ladies of a certain age drop off their red hats at the hat check of a museum. As they are leaving, the hat check attendant gives the hats back randomly. In how many ways can exactly six of the ladies receive their own hat (and the other four not)? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:gbw}%
The Grinch sneaks into a room with 6 Christmas presents to 6 different people. He proceeds to switch the name-labels on the presents. How many ways could he do this if:%
\begin{enumerate}[label=(\alph*)]
\item{}No present is allowed to end up with its original label? Explain what each term in your answer represents.%
\item{}Exactly 2 presents keep their original labels? Explain.%
\item{}Exactly 5 presents keep their original labels? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11466-back}{11}}{}{}{p:exercise:MiF}%
Consider functions \(f: \{1,2,3,4\} \to \{a,b,c,d,e,f\}\text{.}\) How many functions have the property that \(f(1) \ne a\) or \(f(2) \ne b\text{,}\) or both?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11523-back}{12}}{}{}{p:exercise:spO}%
Consider sets \(A\) and \(B\) with \(|A| = 10\) and \(|B| = 5\text{.}\) How many functions \(f: A \to B\) are surjective?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm11568-back}{13}}{}{}{p:exercise:YwX}%
Let \(A = \{1,2,3,4,5\}\text{.}\) How many injective functions \(f:A \to A\) have the property that for each \(x \in A\text{,}\) \(f(x) \ne x\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:EEg}%
Let \(d_n\) be the number of derangements of \(n\) objects. For example, using the techniques of this section, we find%
\begin{equation*}
d_3 = 3!-\left({3 \choose 1}2! - {3 \choose 2}1! + {3 \choose 3}0! \right)\text{.}
\end{equation*}
We can use the formula for \({n \choose k}\) to write this all in terms of factorials. After simplifying, for \(d_3\) we would get%
\begin{equation*}
d_3 = 3!\left(1 - \frac{1}{1} + \frac{1}{2} - \frac{1}{6} \right)\text{.}
\end{equation*}
Generalize this to find a nicer formula for \(d_n\). Bonus: For large \(n\), approximately what fraction of all permutations are derangements? Use your knowledge of Taylor series from calculus.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 1.7 Chapter Summary}
\typeout{************************************************}
%
\begin{sectionptx}{Chapter Summary}{}{Chapter Summary}{}{}{x:section:sec_count-conc}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:tHC}%
Suppose you have a huge box of animal crackers containing plenty of each of 10 different animals. For the counting questions below, carefully examine their similarities and differences, and then give an answer. The answers are all one of the following:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{llll}
\(P(10,6)\qquad\)&\({10 \choose 6}\qquad\)&\(10^6\qquad\)&\({15 \choose 9}\).
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}
\item{}How many animal parades containing 6 crackers can you line up?%
\item{}How many animal parades of 6 crackers can you line up so that the animals appear in alphabetical order?%
\item{}How many ways could you line up 6 different animals in alphabetical order?%
\item{}How many ways could you line up 6 different animals if they can come in any order?%
\item{}How many ways could you give 6 children one animal cracker each?%
\item{}How many ways could you give 6 children one animal cracker each so that no two kids get the same animal?%
\item{}How many ways could you give out 6 giraffes to 10 kids?%
\item{}Write a question about giving animal crackers to kids that has the answer \({10\choose 6}\).%
\end{enumerate}
%
\end{investigation}
With all the different counting techniques we have mastered in this last chapter, it might be difficult to know when to apply which technique. Indeed, it is very easy to get mixed up and use the wrong counting method for a given problem. You get better with practice. As you practice you start to notice some trends that can help you distinguish between types of counting problems. Here are some suggestions that you might find helpful when deciding how to tackle a counting problem and checking whether your solution is correct.%
\par
%
\begin{itemize}[label=\textbullet]
\item{}Remember that you are counting the number of items in some \emph{list of outcomes}. Write down part of this list. Write down an element in the middle of the list \textendash{} how are you deciding whether your element really is in the list. Could you get this element more than once using your proposed answer?%
\item{}If generating an element on the list involves selecting something (for example, picking a letter or picking a position to put a letter, etc), can the things you select be repeated? Remember, permutations and combinations select objects from a set \emph{without} repeats.%
\item{}Does order matter? Be careful here and be sure you know what your answer really means. We usually say that order matters when you get different outcomes when the same objects are selected in different orders. Combinations and ``Stars \& Bars'' are used when order \emph{does not} matter.%
\item{}There are four possibilities when it comes to order and repeats. If order matters and repeats are allowed, the answer will look like \(n^k\). If order matters and repeats are not allowed, we have \(P(n,k)\). If order doesn't matter and repeats are allowed, use stars and bars. If order doesn't matter and repeats are not allowed, use \({n\choose k}\). But be careful: this only applies when you are selecting things, and you should make sure you know exactly what you are selecting before determining which case you are in.%
\item{}Think about how you would represent your counting problem in terms of sets or functions. We know how to count different sorts of sets and different types of functions.%
\item{}As we saw with combinatorial proofs, you can often solve a counting problem in more than one way. Do that, and compare your numerical answers. If they don't match, something is amiss.%
\end{itemize}
%
\par
While we have covered many counting techniques, we have really only scratched the surface of the large subject of \emph{enumerative combinatorics}. There are mathematicians doing original research in this area even as you read this. Counting can be really hard.%
\par
In the next chapter, we will approach counting questions from a very different direction, and in doing so, answer infinitely many counting questions at the same time. We will create \emph{sequences} of answers to related questions.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Exercises  Chapter Review}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Chapter Review}{}{Chapter Review}{}{}{x:exercises:exercises_count-conc}
\begin{divisionexercise}{\hyperlink{g:solution:idm11725-back}{1}}{}{}{p:exercise:PrT}%
You have 9 presents to give to your 4 kids. How many ways can this be done if:%
\begin{enumerate}[label=(\alph*)]
\item{}The presents are identical, and each kid gets at least one present?%
\item{}The presents are identical, and some kids might get no presents?%
\item{}The presents are unique, and some kids might get no presents?%
\item{}The presents are unique and each kid gets at least one present?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:OmA-back}{2}}{}{}{p:exercise:vzc}%
For each of the following counting problems, say whether the answer is \({10\choose 4}\), \(P(10,4)\), or neither. If you answer is ``neither,'' say what the answer should be instead.%
\begin{enumerate}[label=(\alph*)]
\item{}How many shortest lattice paths are there from \((0,0)\) to \((10,4)\)?%
\item{}If you have 10 bow ties, \index{bow ties} and you want to select 4 of them for next week, how many choices do you have?%
\item{}Suppose you have 10 bow ties and you will wear a different one on each of the next 4 days. How many choices do you have?%
\item{}If you want to wear 4 of your 10 bow ties next week (Monday through Sunday), how many ways can this be accomplished?%
\item{}Out of a group of 10 classmates, how many ways can you rank your top 4 friends?%
\item{}If 10 students come to their professor's office but only 4 can fit at a time, how different combinations of 4 students can see the prof first?%
\item{}How many 4 letter words can be made from the first 10 letters of the alphabet?%
\item{}How many ways can you make the word ``cake'' from the first 10 letters of the alphabet?%
\item{}How many ways are there to distribute 10 identical apples among 4 children?%
\item{}If you have 10 kids (and live in a shoe) and 4 types of cereal, how many ways can your kids eat breakfast?%
\item{}How many ways can you arrange exactly 4 ones in a string of 10 binary digits?%
\item{}You want to select 4 distinct, single-digit numbers as your lotto picks. How many choices do you have?%
\item{}10 kids want ice-cream. You have 4 varieties. How many ways are there to give the kids as much ice-cream as they want?%
\item{}How many 1-1 functions are there from \(\{1,2,\ldots, 10\}\) to \(\{a,b,c,d\}\)?%
\item{}How many surjective functions are there from \(\{1,2,\ldots, 10\}\) to \(\{a,b,c,d\}\)?%
\item{}Each of your 10 bow ties match 4 pairs of suspenders. How many outfits can you make?%
\item{}After the party, the 10 kids each choose one of 4 party-favors. How many outcomes?%
\item{}How many 6-elements subsets are there of the set \(\{1,2,\ldots, 10\}\)%
\item{}How many ways can you split up 11 kids into 5 named teams?%
\item{}How many solutions are there to \(x_1 + x_2 + \cdots + x_5 = 6\) where each \(x_i\) is a non-negative integer?%
\item{}Your band goes on tour. There are 10 cities within driving distance, but only enough time to play 4 of them. How many choices do you have for the cities on your tour?%
\item{}In how many different ways can you play the 4 cities you choose?%
\item{}Out of the 10 breakfast cereals available, you want to have 4 bowls. How many ways can you do this?%
\item{}There are 10 types of cookies available. You want to make a 4 cookie stack. How many different stacks can you make?%
\item{}From your home at (0,0) you want to go to either the donut shop at (5,4) or the one at (3,6). How many paths could you take?%
\item{}How many 10-digit numbers do not contain a sub-string of 4 repeated digits?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm11973-back}{3}}{}{}{p:exercise:bGl}%
bow tiesRecall, you own 3 regular ties and 5 bow ties. You realize that it would be okay to wear more than two ties to your clown college interview.%
\begin{enumerate}[label=(\alph*)]
\item{}You must select some of your ties to wear. Everything is okay, from no ties up to all ties. How many choices do you have?%
\item{}If you want to wear at least one regular tie and one bow tie, but are willing to wear up to all your ties, how many choices do you have for which ties to wear?%
\item{}How many choices of which ties to wear do you have if you wear exactly 2 of the 3 regular ties and 3 of the 5 bow ties?%
\item{}Once you have selected 2 regular and 3 bow ties, in how many orders could you put the ties on, assuming you must have one of the three bow ties on top?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:aAS-back}{4}}{}{}{p:exercise:HNu}%
Give a counting question where the answer is \(8\cdot 3 \cdot 3 \cdot 5\). Give another question where the answer is \(8 + 3 + 3 + 5\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12077-back}{5}}{}{}{p:exercise:nUD}%
Consider five digit numbers \(\alpha = a_1a_2a_3a_4a_5\text{,}\) with each digit from the set \(\{1,2,3,4\}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many such numbers are there?%
\item{}How many such numbers are there for which the \emph{sum} of the digits is even?%
\item{}How many such numbers contain more even digits than odd digits?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12121-back}{6}}{}{}{p:exercise:UbM}%
In a recent small survey of airline passengers, 25 said they had flown American in the last year, 30 had flown Jet Blue, and 20 had flown Continental. Of those, 10 reported they had flown on American and Jet Blue, 12 had flown on Jet Blue and Continental, and 7 had flown on American and Continental. 5 passengers had flown on all three airlines.%
\par
How many passengers were surveyed? (Assume the results above make up the entire survey.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12202-back}{7}}{}{}{p:exercise:AiV}%
Recall, by \(8\)-bit strings, we mean strings of binary digits, of length 8.%
\begin{enumerate}[label=(\alph*)]
\item{}How many \(8\)-bit strings are there total?%
\item{}How many \(8\)-bit strings have weight 5?%
\item{}How many subsets of the set \(\{a,b,c,d,e,f,g,h\}\) contain exactly 5 elements?%
\item{}Explain why your answers to parts (b) and (c) are the same. Why are these questions equivalent?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12248-back}{8}}{}{}{p:exercise:gqe}%
What is the coefficient of \(x^{10}\) in the expansion of \((x+1)^{13} + x^2(x+1)^{17}\text{?}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12296-back}{9}}{}{}{p:exercise:Mxn}%
How many 8-letter words contain exactly 5 vowels? (One such word is ``aaioobtt''; don't consider ``y'' a vowel for this exercise.)%
\par
What if repeated letters were not allowed?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12374-back}{10}}{}{}{p:exercise:sEw}%
For each of the following, find the number of shortest lattice paths from \((0,0)\) to \((8,8)\) which:%
\begin{enumerate}[label=(\alph*)]
\item{}pass through the point \((2,3)\text{.}\)%
\item{}avoid (do not pass through) the point \((7,5)\text{.}\)%
\item{}either pass through \((2,3)\) or \((5,7)\) (or both).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12414-back}{11}}{}{}{p:exercise:YLF}%
You live in Grid-Town on the corner of 2nd and 3rd, and work in a building on the corner of 10th and 13th. How many routes are there which take you from home to work and then back home, but by a different route?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12449-back}{12}}{}{}{p:exercise:ESO}%
How many 10-bit strings start with \(111\) or end with \(101\) or both?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12483-back}{13}}{}{}{p:exercise:kZX}%
How many 10-bit strings of weight 6 start with \(111\) or end with \(101\) or both?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12538-back}{14}}{}{}{p:exercise:Rhg}%
How many 6 letter words made from the letters \(a,b,c,d,e,f\) without repeats do not contain the sub-word ``bad'' in consecutive letters?%
\par
How many don't to contain the subword ``bad'' in not-necessarily consecutive letters (but in order)?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:QbN-back}{15}}{}{}{p:exercise:xop}%
Explain using lattice paths why \(\sum_{k=0}^n {n \choose k} = 2^n\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm12626-back}{16}}{}{}{p:exercise:dvy}%
Suppose you have 20 one-dollar bills to give out as prizes to your top 5 discrete math students. How many ways can you do this if:%
\begin{enumerate}[label=(\alph*)]
\item{}Each of the 5 students gets at least 1 dollar?%
\item{}Some students might get nothing?%
\item{}Each student gets at least 1 dollar but no more than 7 dollars?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12759-back}{17}}{}{}{p:exercise:JCH}%
How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c,d,e\}\) are there satisfying:%
\begin{enumerate}[label=(\alph*)]
\item{}\(f(1) = a\) or \(f(2) = b\) (or both)?%
\item{}\(f(1) \ne a\) or \(f(2) \ne b\) (or both)?%
\item{}\(f(1) \ne a\) \emph{and} \(f(2) \ne b\text{,}\) and \(f\) is injective?%
\item{}\(f\) is surjective, but \(f(1) \ne a\text{,}\) \(f(2) \ne b\text{,}\) \(f(3) \ne c\text{,}\) \(f(4) \ne d\) and \(f(5) \ne e\text{?}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12812-back}{18}}{}{}{p:exercise:pJQ}%
How many functions map \(\{1,2,3,4,5,6\}\) \emph{onto} \(\{a,b,c,d\}\) (i.e., how many \emph{surjections} are there)?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm12907-back}{19}}{}{}{x:exercise:exr-cookie-counting}%
To thank your math professor for doing such an amazing job all semester, you decide to bake Oscar cookies. You know how to make 10 different types of cookies.%
\begin{enumerate}[label=(\alph*)]
\item{}If you want to give your professor 4 different types of cookies, how many different combinations of cookie type can you select? Explain your answer.%
\item{}To keep things interesting, you decide to make a different number of each type of cookie. If again you want to select 4 cookie types, how many ways can you select the cookie types and decide for which there will be the most, second most, etc. Explain your answer.%
\item{}You change your mind again. This time you decide you will make a total of 12 cookies. Each cookie could be any one of the 10 types of cookies you know how to bake (and it's okay if you leave some types out). How many choices do you have? Explain.%
\item{}You realize that the previous plan did not account for presentation. This time, you once again want to make 12 cookies, each one could be any one of the 10 types of cookies. However, now you plan to shape the cookies into the numerals 1, 2, ..., 12 (and probably arrange them to make a giant clock, but you haven't decided on that yet). How many choices do you have for which types of cookies to bake into which numerals? Explain.%
\item{}The only flaw with the last plan is that your professor might not get to sample all 10 different varieties of cookies. How many choices do you have for which types of cookies to make into which numerals, given that each type of cookie should be present at least once? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ASP-back}{20}}{}{}{p:exercise:BYi}%
For which of the parts of the previous problem (\hyperlink{x:exercise:exr-cookie-counting}{Exercise~1.7.19}) does it make sense to interpret the counting question as counting some number of functions? Say what the domain and codomain should be, and whether you are counting all functions, injections, surjections, or something else.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%
\typeout{************************************************}
\typeout{Chapter 2 Sequences}
\typeout{************************************************}
%
\begin{chapterptx}{Sequences}{}{Sequences}{}{}{x:chapter:ch_sequences}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:WMo}%
There is a monastery in Hanoi, \index{Hanoi} as the legend goes, with a great hall containing three tall pillars. Resting on the first pillar are 64 giant disks (or washers), all different sizes, stacked from largest to smallest. The monks are charged with the following task: they must move the entire stack of disks to the third pillar. However, due to the size of the disks, the monks cannot move more than one at a time. Each disk must be placed on one of the pillars before the next disk is moved. And because the disks are so heavy and fragile, the monks may never place a larger disk on top of a smaller disk. When the monks finally complete their task, the world shall come to an end. Your task: figure out how long before we need to start worrying about the end of the world.%
\begin{enumerate}
\item{}First, let's find the minimum number of moves required for a smaller number of disks. Collect some data. Make a table.%
\item{}Conjecture a formula for the minimum number of moves required to move \(n\) disks. Test your conjecture. How do you know your formula is correct?%
\item{}If the monks were able to move one disk every second without ever stopping, how long before the world ends?%
\end{enumerate}
%
\end{investigation}
This puzzle is called the \emph{Tower of Hanoi}. \index{Tower of Hanoi} You are tasked with finding the minimum number of moves to complete the puzzle. This certainly sounds like a counting problem. Perhaps you have an answer? If not, what else could we try?%
\par
The answer depends on the number of disks you need to move. In fact, we could answer the puzzle first for 1 disk, then 2, then 3 and so on. If we list out all of the answers for each number of disks, we will get a \terminology{sequence} of numbers. The \(n\)th term in the sequence is the answer to the question, ``what is the smallest number of moves required to complete the Tower of Hanoi puzzle with \(n\) disks?'' You might wonder why we would create such a sequence instead of just answering the question. By looking at how the sequence of numbers grows, we gain insight into the problem. It is easy to count the number of moves required for a small number of disks. We can then look for a pattern among the first few terms of the sequence. Hopefully this will suggest a method for finding the \(n\)th term of the sequence, which is the answer to our question. Of course we will also need to verify that our suspected pattern is correct, and that this correct pattern really does give us the \(n\)th term we think it does, but it is impossible to prove that your formula is correct without having a formula to start with.%
\par
Sequences are also interesting mathematical objects to study in their own right. Let's see why.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Section 2.1 Describing Sequences}
\typeout{************************************************}
%
\begin{sectionptx}{Describing Sequences}{}{Describing Sequences}{}{}{x:section:sec_seq_intro}
\begin{investigation}{}{p:investigation:iHh}%
You have a large collection of \(1\times 1\) squares and \(1\times 2\) dominoes. You want to arrange these to make a \(1 \times 15\) strip. How many ways can you do this?%
\begin{enumerate}
\item{}Start by collecting data. How many length \(1\times 1\) strips can you make? How many \(1\times 2\) strips? How many \(1\times 3\) strips? And so on.%
\item{}How are the \(1\times 3\) and \(1 \times 4\) strips related to the \(1\times 5\) strips?%
\item{}How many \(1\times 15\) strips can you make?%
\item{}What if I asked you to find the number of \(1\times 1000\) strips? Would the method you used to calculate the number fo \(1 \times 15\) strips be helpful?%
\end{enumerate}
%
\end{investigation}
A \terminology{sequence} \index{sequence} is simply an ordered list of numbers. For example, here is a sequence: 0, 1, 2, 3, 4, 5, \textellipsis{}. This is different from the set \(\N\) because, while the sequence is a complete list of every element in the set of natural numbers, in the sequence we very much care what order the numbers come in. For this reason, when we use variables to represent terms in a sequence they will look like this:%
\begin{equation*}
a_0, a_1, a_2, a_3, \ldots\text{.}
\end{equation*}
To refer to the \emph{entire} sequence at once, we will write \((a_n)_{n\in\N}\) or \((a_n)_{n\ge 0}\), or sometimes if we are being sloppy, just \((a_n)\) (in which case we assume we start the sequence with \(a_0\)). \label{g:notation:idm13019}%
\par
We might replace the \(a\) with another letter, and sometimes we omit \(a_0\), starting with \(a_1\), in which case we would use \((a_n)_{n \ge 1}\) to refer to the sequence as a whole. The numbers in the subscripts are called \terminology{indices} (the plural of \terminology{index}).%
\par
While we often just think of a sequence as an ordered list of numbers, it is really a type of function. Specifically, the sequence \((a_n)_{n\ge 0}\) is a function with domain \(\N\) where \(a_n\) is the image of the natural number \(n\). Later we will manipulate sequences in much the same way you have manipulated functions in algebra or calculus. We can shift a sequence up or down, add two sequences, or ask for the rate of change of a sequence. These are done exactly as you would for functions.%
\par
That said, while keeping the rigorous mathematical definition in mind is helpful, we often describe sequences by writing out the first few terms.%
\begin{example}{}{p:example:Kex}%
Can you find the next term in the following sequences?%
\par
%
\begin{enumerate}
\item{}\(\displaystyle 7,7,7,7,7, \ldots\)%
\item{}\(\displaystyle 3, -3, 3, -3, 3, \ldots\)%
\item{}\(\displaystyle 1, 5, 2, 10, 3, 15, \ldots\)%
\item{}\(\displaystyle 1, 2, 4, 8, 16, 32, \ldots\)%
\item{}\(\displaystyle 1, 4, 9, 16, 25, 36, \ldots\)%
\item{}\(\displaystyle 1, 2, 3, 5, 8, 13, 21, \ldots\)%
\item{}\(\displaystyle 1, 3, 6, 10, 15, 21, \ldots\)%
\item{}\(\displaystyle 2, 3, 5, 7, 11, 13, \ldots\)%
\item{}\(\displaystyle 3, 2, 1, 0, -1, \ldots\)%
\item{}\(\displaystyle 1, 1, 2, 6, \ldots\)%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:OOq}{}~~%
No you cannot. You might guess that the next terms are:%
\par
%
\begin{multicols}{4}
\begin{enumerate}
\item{}\(\displaystyle 7\)%
\item{}\(\displaystyle -3\)%
\item{}\(\displaystyle 4\)%
\item{}64%
\item{}49%
\item{}34%
\item{}28%
\item{}17%
\item{}\(\displaystyle -2\)%
\item{}\(\displaystyle 24\)%
\end{enumerate}
\end{multicols}
%
\par
In fact, those are the next terms of the sequences I had in mind when I made up the example, but there is no way to be sure they are correct.%
\par
Still, we will often do this. Given the first few terms of a sequence, we can ask what the pattern in the sequence suggests the next terms are.%
\end{example}
Given that no number of initial terms in a sequence is enough to say for certain which sequence we are dealing with, we need to find another way to specify a sequence. We consider two ways to do this:%
\begin{assemblage}{Closed formula.}{p:assemblage:FuE}%
A \terminology{closed formula} \index{closed formula} for a sequence \((a_n)_{n\in\N}\) is a formula for \(a_n\) using a fixed finite number of operations on \(n\). This is what you normally think of as a formula in \(n\), just as if you were defining a function in terms of \(n\) (because that is exactly what you are doing).%
\end{assemblage}
\begin{assemblage}{Recursive definition.}{p:assemblage:lBN}%
A \terminology{recursive definition} \index{recursive definition} (sometimes called an \terminology{inductive definition}) for a sequence \((a_n)_{n\in\N}\) consists of a \terminology{recurrence relation} \index{recurrence relation} : an equation relating a term of the sequence to previous terms (terms with smaller index) and an \terminology{initial condition}: a list of a few terms of the sequence (one less than the number of terms in the recurrence relation).%
\end{assemblage}
It is easier to understand what is going on here with an example:%
\begin{example}{}{p:example:qlG}%
Here are a few closed formulas for sequences:%
\begin{itemize}[label=\textbullet]
\item{}\(a_n = n^2\).%
\item{}\(\d a_n = \frac{n(n+1)}{2}\).%
\item{}\(\d a_n = \frac{\left(\frac{1 + \sqrt 5}{2}\right)^n - \left(\frac{1 - \sqrt 5}{2}\right)^{-n}}{\sqrt{5}}\).%
\end{itemize}
%
\par
Note in each formula, if you are given \(n\), you can calculate \(a_n\) directly: just plug in \(n\). For example, to find \(a_3\) in the second sequence, just compute \(a_3 = \frac{3(3+1)}{2} = 6\).%
\par
Here are a few recursive definitions for sequences:%
\begin{itemize}[label=\textbullet]
\item{}\(a_n = 2a_{n-1}\) with \(a_0 = 1\).%
\item{}\(a_n = 2a_{n-1}\) with \(a_0 = 27\).%
\item{}\(a_n = a_{n-1} + a_{n-2}\) with \(a_0 = 0\) and \(a_1 = 1\).%
\end{itemize}
%
\par
In these formulas, if you are given \(n\), you cannot calculate \(a_n\) directly, you first need to find \(a_{n-1}\) (or \(a_{n-1}\) and \(a_{n-2}\)). In the second sequence, to find \(a_3\) you would take \(2a_2\), but to find \(a_2 = 2a_1\) we would need to know \(a_1 = 2a_0\). We do know this, so we could trace back through these equations to find \(a_1 = 54\), \(a_2 = 108\) and finally \(a_3 = 216\). \index{Fibonacci sequence}%
\end{example}
You might wonder why we would bother with recursive definitions for sequences. After all, it is harder to find \(a_n\) with a recursive definition than with a closed formula. This is true, but it is also harder to find a closed formula for a sequence than it is to find a recursive definition. So to find a useful closed formula, we might first find the recursive definition, then use that to find the closed formula.%
\par
This is not to say that recursive definitions aren't useful in finding \(a_n\). You can always calculate \(a_n\) given a recursive definition, it might just take a while.%
\begin{example}{}{p:example:WsP}%
Find \(a_6\) in the sequence defined by \(a_n = 2a_{n-1} - a_{n-2}\) with \(a_0 = 3\) and \(a_1 = 4\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:uVz}{}~~%
We know that \(a_6 = 2a_5 - a_4\). So to find \(a_6\) we need to find \(a_5\) and \(a_4\). Well%
\begin{equation*}
a_5 = 2a_4 - a_3 \qquad \text{and} \qquad a_4 = 2a_3 - a_2\text{,}
\end{equation*}
so if we can only find \(a_3\) and \(a_2\) we would be set. Of course%
\begin{equation*}
a_3 = 2a_2 - a_1 \qquad \text{and} \qquad a_2 = 2a_1 - a_0\text{,}
\end{equation*}
so we only need to find \(a_1\) and \(a_0\). But we are given these. Thus%
\begin{align*}
a_0 \amp = 3\\
a_1 \amp = 4\\
a_2 \amp = 2\cdot 4 - 3 = 5\\
a_3 \amp = 2\cdot 5 - 4 = 6\\
a_4 \amp = 2\cdot 6 - 5 = 7\\
a_5 \amp = 2\cdot 7 - 6 = 8\\
a_6 \amp = 2\cdot 8 - 7 = 9\text{.}
\end{align*}
%
\par
Note that now we can guess a closed formula for the \(n\)th term of the sequence: \(a_n = n+3\). To be sure this will always work, we could plug in this formula into the recurrence relation:%
\begin{align*}
2a_{n-1} - a_{n-2} \amp = 2((n-1) + 3) - ((n-2) + 3)\\
\amp = 2n + 4 - n - 1\\
\amp = n + 3\\
\amp = a_n\text{.}
\end{align*}
%
\par
That is not quite enough though, since there can be multiple closed formulas that satisfy the same recurrence relation; we must also check that our closed formula agrees on the initial terms of the sequence. Since \(a_0 = 0 + 3 = 3\) and \(a_1 = 1+3 = 4\) are the correct initial conditions, we can now conclude we have the correct closed formula.%
\end{example}
Finding closed formulas, or even recursive definitions, for sequences is not trivial. There is no one method for doing this. Just as in evaluating integrals or solving differential equations, it is useful to have a bag of tricks you can apply, but sometimes there is no easy answer.%
\par
One useful method is to relate a given sequence to another sequence for which we already know the closed formula.  To do this, we need a few ``known sequences'' to compare mystery sequences to.  Here are a few that are good to know.  We will verify the formulas for these in the coming sections.%
\begin{assemblage}{Common Sequences.}{x:assemblage:assemblage-commonsequences}%
%
\begin{description}
\item[{\(1, 4, 9, 16, 25, \ldots\)}]The \terminology{square numbers}.  The sequence \((s_n)_{n \ge 1}\) has closed formula \(s_n = n^2\)%
\item[{\(1, 3, 6, 10, 15, 21, \ldots\)}]The \terminology{triangular numbers}.  The sequence \((T_n)_{n \ge 1}\) has closed formula \(T_n = \frac{n(n+1)}{2}\).%
\label{g:notation:idm13227}\item[{\(1, 2, 4, 8, 16, 32,\ldots\)}]The \terminology{powers of 2}.  The sequence \((a_n)_{n \ge 0}\) with closed formula \(a_n = 2^n\).%
\item[{\(1, 1, 2, 3, 5, 8, 13, \ldots\)}]The \terminology{Fibonacci numbers} (or Fibonacci sequence), defined recursively by \(F_n = F_{n-1} + F_{n-2}\) with \(F_1 = F_2 = 1\)%
\end{description}
%
\end{assemblage}
\begin{example}{}{p:example:CzY}%
Use the formulas \(T_n = \frac{n(n+1)}{2}\) and \(a_n = 2^n\) to find closed formulas that agree with the following sequences.  Assume each first term corresponds to \(n=0\).%
\begin{enumerate}
\item{}\((b_n)\): \(1, 2, 4, 7, 11, 16, 22, \ldots \).%
\item{}\((c_n)\): \(3, 5, 9, 17, 33,\ldots \).%
\item{}\((d_n)\): \(0, 2, 6, 12, 20, 30, 42,\ldots \).%
\item{}\((e_n)\): \(3, 6, 10, 15, 21, 28, \ldots\).%
\item{}\((f_n)\): \(0, 1, 3, 7, 15, 31, \ldots \).%
\item{}\((g_n)\) \(3, 6, 12, 24, 48, \ldots \).%
\item{}\((h_n)\): \(6, 10, 18, 34, 66, \ldots \).%
\item{}\((j_n)\): \(15, 33, 57, 87, 123, \ldots\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:bcI}{}~~%
We wish to compare these sequences to the triangular numbers \((0, 1, 3, 6, 10, 15, 21,\ldots)\), when we start with \(n=0\), and the powers of 2: \((1, 2, 4, 8, 16, \ldots)\).%
\begin{enumerate}
\item{}\((1, 2, 4, 7, 11, 16, 22, \ldots)\). Note that if subtract 1 from each term, we get the sequence \((T_n)\). So we have \(b_n = T_n + 1\). Therefore a closed formula is \(b_n = \frac{n(n+1)}{2} + 1\). A quick check of the first few \(n\) confirms we have it right.%
\item{}\((3, 5, 9, 17, 33, \ldots )\). Each term in this sequence is one more than a power of 2, so we might guess the closed formula is \(c_n = a_n+1 = 2^n + 1\). If we try this though, we get \(c_0 = 2^0 + 1 = 2\) and \(c_1 = 2^1 + 1 = 3\). We are off because the indices are shifted. What we really want is \(c_n = a_{n+1}+1\) giving \(c_n = 2^{n+1} + 1\).%
\item{}(\(0, 2, 6, 12, 20, 30, 42,\ldots \)). Notice that all these terms are even. What happens if we factor out a 2? We get \((T_n)\)! More precisely, we find that \(d_n/2 = T_n\), so this sequence has closed formula \(d_n = n(n+1)\).%
\item{}\((3, 6, 10, 15, 21, 28, \ldots)\). These are all triangular numbers. However, we are starting with 3 as our initial term instead of as our third term. So if we could plug in 2 instead of 0 into the formula for \(T_n\), we would be set. Therefore the closed formula is \(e_n = \frac{(n+2)(n+3)}{2}\) (where \(n+3\) came from \((n+2)+1\)). Thinking about sequences as functions, we are doing a horizontal shift by 2: \(e_n = T_{n+2}\) which would cause the graph to shift 2 units to the left.%
\item{}\((0, 1, 3, 7, 15, 31, \ldots )\). Try adding 1 to each term and we get powers of 2. You might guess this because each term is a little more than twice the previous term (the powers of 2 are \emph{exactly} twice the previous term). Closed formula: \(f_n = 2^{n} - 1\).%
\item{}\((3, 6, 12, 24, 48, \ldots )\). These numbers are also doubling each time, but are also all multiples of 3. Dividing each by 3 gives 1, 2, 4, 8, \textellipsis{}. Aha. We get the closed formula \(g_n = 3\cdot 2^{n}\).%
\item{}\((6, 10, 18, 34, 66, \ldots )\). To get from one term to the next, we almost double each term. So maybe we can relate this back to \(2^n\). Yes, each term is 2 more than a power of 2. So we get \(h_n = 2^{n+2} + 2\) (the \(n+2\) is because the first term is 2 more than \(2^2\), not \(2^0\)). Alternatively, we could have related this sequence to the second sequence in this example: starting with 3, 5, 9, 17, \textellipsis{} we see that this sequence is twice the terms from that sequence. That sequence had closed formula \(c_n = 2^{n+1} + 1\). Our sequence here would be twice this, so \(h_n = 2(2^n + 1)\), which is the same as we got before.%
\item{}\((15, 33, 57, 87, 123, \ldots)\). Try dividing each term by 3. That gives the sequence \(5, 11, 19, 29, 41,\ldots\). Now add 1 to each term: \(6, 12, 20, 30, 42, \ldots\), which is \((d_n)\) in this example, except starting with 6 instead of 0. So let's start with the formula \(d_n= n(n+1)\). To start with the 6, we shift: \((n+2)(n+3)\). But this is one too many, so subtract 1: \((n+2)(n+3) - 1\). That gives us our sequence, but divided by 3. So we want \(j_n = 3((n+2)(n+3) - 1)\).%
\end{enumerate}
%
\end{example}
\begin{paragraphs}{Partial sums.}{p:paragraphs:Znv}%
Some sequences naturally arise as the sum of terms of another sequence.%
\begin{example}{}{x:example:ex-first-partial-sums}%
Sam keeps track of how many push-ups she does each day of her ``do lots of push-ups challenge.''  Let \((a_n)_{n \ge 1}\) be the sequence that describes the number of push-ups done on the \(n\)th day of the challenge.  The sequence starts%
\begin{equation*}
3, 5, 6, 10, 9, 0, 12, \ldots\text{.}
\end{equation*}
Describe a sequence \((b_n)_{n \ge 1}\) that describes the total number of push-ups done by Sam after the \(n\)th day.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:HjR}{}~~%
We can find the terms of this sequence easily enough.%
\begin{equation*}
3, 8, 14, 24, 33, 33, 45,\ldots\text{.}
\end{equation*}
Here \(b_1\) is just \(a_1\), but then%
\begin{equation*}
b_2 = 3+5 = a_1 + a_2\text{,}
\end{equation*}
%
\begin{equation*}
b_3 = 3+5+6 = a_1 + a_2 + a_3\text{,}
\end{equation*}
and so on.%
\par
There are a few ways we might describe \(b_n\) in general.  We could do so recursively as,%
\begin{equation*}
b_n = b_{n-1} + a_n\text{,}
\end{equation*}
since the total number of push-ups done after \(n\) days will be the number done after \(n-1\) days, plus the number done on day \(n\).%
\par
For something closer to a closed formula, we could write%
\begin{equation*}
b_n = a_1 + a_2 + a_3 + \cdots + a_n\text{,}
\end{equation*}
or the same thing using \emph{summation notation}:%
\begin{equation*}
b_n = \sum_{i=1}^n a_i\text{.}
\end{equation*}
However, note that these are not really closed formulas since even if we had a formula for \(a_n\), we would still have an increasing number of computations to do as \(n\) increases.%
\end{example}
Given any sequence \((a_n)_{n \in \N}\), we can always form a new sequence \((b_n)_{n \in \N}\) by%
\begin{equation*}
b_n = a_0 + a_1 + a_2 + \cdots + a_n\text{.}
\end{equation*}
Since the terms of \((b_n)\) are the sums of the initial part of the sequence \((a_n)\) ways call \((b_n)\) the \terminology{sequence of partial sums of \((a_n)\)}.  Soon we will see that it is sometimes possible to find a closed formula for \((b_n)\) from the closed formula for \((a_n)\).%
\par
To simplify writing out these sums, we will often use notation like \(\d\sum_{k=1}^n a_k\). This means add up the \(a_k\)'s where \(k\) changes from 1 to \(n\). \index{summation notation}\index{Sigma notation}%
\begin{example}{}{p:example:dXo}%
Use \(\sum\) notation to rewrite the sums:%
\par
%
\begin{enumerate}
\item{}\(\displaystyle 1 + 2 + 3 + 4 + \cdots + 100\)%
\item{}\(\displaystyle 1 + 2 + 4 + 8 + \cdots + 2^{50}\)%
\item{}\(6 + 10 + 14 + \cdots + (4n - 2)\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:nra}{}~~%
%
\begin{multicols}{3}
\begin{enumerate}
\item{}\(\displaystyle \d\sum_{k=1}^{100} k\)%
\item{}\(\displaystyle \d\sum_{k=0}^{50} 2^k\)%
\item{}\(\displaystyle \d\sum_{k=2}^{n} (4k -2)\)%
\end{enumerate}
\end{multicols}
%
\end{example}
If we want to multiply the \(a_k\) instead, we could write \(\d\prod_{k=1}^n a_k\). For example, \(\d\prod_{k=1}^n k = n!\). \index{product notation}%
\end{paragraphs}%
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_seq_basics}
\begin{divisionexercise}{\hyperlink{g:solution:idm13491-back}{1}}{}{}{p:exercise:QUY}%
Find the closed formula for each of the following sequences by relating them to a well known sequence. Assume the first term given is \(a_1\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}\(2, 5, 10, 17, 26, \ldots\)%
\item{}\(0, 2, 5, 9, 14, 20, \ldots\)%
\item{}\(8, 12, 17, 23, 30,\ldots\)%
\item{}\(1, 5, 23, 119, 719,\ldots\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:xch}%
For each sequence given below, find a closed formula for \(a_n\), the \(n\)th term of the sequence (assume the first terms are \(a_0\)) by relating it to another sequence for which you already know the formula. In each case, briefly say how you got your answers.%
\begin{enumerate}[label=(\alph*)]
\item{}4, 5, 7, 11, 19, 35, \textellipsis{}%
\item{}0, 3, 8, 15, 24, 35, \textellipsis{}%
\item{}6, 12, 20, 30, 42, \textellipsis{}%
\item{}0, 2, 7, 15, 26, 40, 57, \textellipsis{} (Cryptic Hint: these might be called ``house numbers'')%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:jIw-back}{3}}{}{}{p:exercise:djq}%
Write out the first 5 terms (starting with \(a_0\) ) of each of the sequences described below. Then give either a closed formula or a recursive definition for the sequence (whichever is NOT given in the problem).%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_n = \frac{1}{2}(n^2 + n)\).%
\item{}\(a_n = 2a_{n-1} - a_{n-2}\) with \(a_0 = 0\) and \(a_1 = 1\).%
\item{}\(a_n = na_{n-1}\) with \(a_0 = 1\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PPF-back}{4}}{}{}{p:exercise:Jqz}%
Consider the sequence \((a_n)_{n \ge 1}\) that starts \(1, 3, 5, 7, 9, \ldots\) (i.e, the odd numbers in order).%
\begin{enumerate}[label=(\alph*)]
\item{}Give a recursive definition and closed formula for the sequence.%
\item{}Write out the sequence \((b_n)_{n \ge 2}\) of partial sums of \((a_n)\).  Write down the recursive definition for \((b_n)\) and guess at the closed formula.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:vWO-back}{5}}{}{}{p:exercise:pxI}%
\label{g:notation:idm13607}%
The Fibonacci sequence is \(0, 1, 1, 2, 3, 5, 8, 13, \ldots\) (where \(F_0 = 0\)). \index{Fibonacci sequence}%
\begin{enumerate}[label=(\alph*)]
\item{}Write out the first few terms of the sequence of partial sums: \(0\), \(0+1\), \(0+1+1\),\textellipsis{}%
\item{}Guess a formula for the sequence of partial sums expressed in terms of a single Fibonacci number.  For example, you might say \(F_0 + F_1 + \cdots + F_n = 3F_{n-1}^2 + n\), although that is definitely not correct.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:cdX-back}{6}}{}{}{p:exercise:VER}%
Consider the three sequences below. For each, find a recursive definition. How are these sequences related?%
\begin{enumerate}[label=(\alph*)]
\item{}\(2, 4, 6, 10, 16, 26, 42, \ldots\).%
\item{}\(5, 6, 11, 17, 28, 45, 73, \ldots\).%
\item{}\(0, 0 , 0 , 0 , 0 , 0 , 0 ,\ldots\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Ilg-back}{7}}{}{}{p:exercise:BMa}%
Write out the first few terms of the sequence given by \(a_1 = 3\); \(a_n = 2a_{n-1} + 4\). Then find a recursive definition for the sequence \(10, 24, 52, 108, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:osp-back}{8}}{}{}{p:exercise:hTj}%
Write out the first few terms of the sequence given by \(a_n = n^2 - 3n + 1\). Then find a closed formula for the sequence (starting with \(a_1\)) \(0, 2, 6, 12, 20, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Uzy-back}{9}}{}{}{p:exercise:Oas}%
Show that \(a_n = 3\cdot 2^n + 7\cdot 5^n\) is a solution to the recurrence relation \(a_n = 7a_{n-1} - 10a_{n-2}\). What would the initial conditions need to be for this to be the closed formula for the sequence?%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:uhB}%
Show that \(a_n = 2^n - 5^n\) is also a solution to the recurrence relation \(a_n = 7a_{n-1} - 10a_{n-2}\). What would the initial conditions need to be for this to be the closed formula for the sequence?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:AGH-back}{11}}{}{}{p:exercise:aoK}%
Find a closed formula for the sequence with recursive definition \(a_n = 2a_{n-1} - a_{n-2}\) with \(a_1 = 1\) and \(a_2 = 2\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:gNQ-back}{12}}{}{}{p:exercise:GvT}%
Give two different recursive definitions for the sequence with closed formula \(a_n = 3 + 2n\).  Prove you are correct. At least one of the recursive definitions should makes use of two previous terms and no constants.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:MUZ-back}{13}}{}{}{p:exercise:mDc}%
Use summation (\(\sum\)) or product (\(\prod\)) notation to rewrite the following.%
\begin{multicols}{2}
\begin{enumerate}[label=(\alph*)]
\item{}\(2 + 4 + 6 + 8 + \cdots + 2n\).%
\item{}\(1 + 5 + 9 + 13 + \cdots + 425\).%
\item{}\(1 + \frac{1}{2} + \frac{1}{3} + \frac{1}{4} + \cdots + \frac{1}{50}\).%
\item{}\(2 \cdot 4 \cdot 6 \cdot \cdots \cdot 2n\).%
\item{}\((\frac{1}{2})(\frac{2}{3})(\frac{3}{4})\cdots(\frac{100}{101})\).%
\end{enumerate}
\end{multicols}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:tci-back}{14}}{}{}{p:exercise:SKl}%
Expand the following sums and products. That is, write them out the long way.%
\begin{multicols}{2}
\begin{enumerate}[label=(\alph*)]
\item{}\(\d\sum_{k=1}^{100} (3+4k)\).%
\item{}\(\d\sum_{k=0}^n 2^k\).%
\item{}\(\d\sum_{k=2}^{50}\frac{1}{(k^2 - 1)}\).%
\item{}\(\d\prod_{k=2}^{100}\frac{k^2}{(k^2-1)}\).%
\item{}\(\d\prod_{k=0}^n (2+3k)\).%
\end{enumerate}
\end{multicols}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Zjr-back}{15}}{}{}{p:exercise:yRu}%
Suppose you draw \(n\) lines in the plane so that every pair of lines cross (no lines are parallel) and no three lines cross at the same point.  This will create some number of regions in the plane, including some unbounded regions.  Call the number of regions \(R_n\).  Find a recursive formula for the number of regions created by \(n\) lines, and justify why your recursion is correct.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:FqA-back}{16}}{}{}{p:exercise:eYD}%
A \terminology{ternary} string is a sequence of 0's, 1's and 2's.  Just like a bit string, but with three symbols.%
\par
Let's call a ternary string \emph{good} provided it never contains a 2 followed immediately by a 0.  Let \(G_n\) be the number of good strings of length \(n\).  For example, \(G_1 = 3\), and \(G_2 = 8\) (since of the 9 ternary strings of length 2, only one is not good).%
\par
Find, with justification, a recursive formula for \(G_n\), and use it to compute \(G_5\).%
\end{divisionexercise}%
\begin{divisionexercise}{17}{}{}{p:exercise:LfM}%
Consider bit strings with length \(l\) and weight \(k\) (so strings of \(l\) 0's and 1's, including \(k\) 1's). We know how to count the number of these for a fixed \(l\) and \(k\). Now, we will count the number of strings for which the \emph{sum} of the length and the weight is fixed. For example, let's count all the bit strings for which \(l+k = 11\).%
\begin{enumerate}[label=(\alph*)]
\item{}Find examples of these strings of different lengths. What is the longest string possible? What is the shortest?%
\item{}How many strings are there of each of these lengths. Use this to count the total number of strings (with sum 11).%
\item{}The other approach: Let \(n = l+k\) vary. How many strings have sum \(n = 1\)? How many have sum \(n = 2\)? And so on. Find and explain a recurrence relation for the sequence \((a_n)\) which gives the number of strings with sum \(n\).%
\item{}Describe what you have found above in terms of Pascal's Triangle. What pattern have you discovered?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:lxJ-back}{18}}{}{}{p:exercise:rmV}%
When bees play chess, they use a hexagonal board like the one shown below. The queen bee can move one space at a time either directly to the right or angled up-right or down-right (but can never move leftwards). How many different paths can the queen take from the top left hexagon to the bottom right hexagon? Explain your answer, and this relates to the previous question. (As an example, there are three paths to get to the second hexagon on the bottom row.)%
\begin{sidebyside}{1}{0.15}{0.15}{0}%
\begin{sbspanel}{0.7}%
\resizebox{\linewidth}{!}{%
\def\r{1}
\newcommand{\hexagon}[3]{
  \def\x{-cos{30}*\r*#1+cos{30}*#2*\r*2}
  \def\y{-\r*#1-sin{30}*\r*#1}
  \draw[thick] (\x,\y) +(90:\r) -- +(30:\r) -- +(-30:\r) -- +(-90:\r) -- +(-150:\r) -- +(150:\r) -- cycle;
  \draw (\x,\y) node{#3};
}
\begin{tikzpicture}[scale=.75]
\hexagon{1}{0}{\tiny start};
\hexagon{2}{2}{3}
\foreach \i in {1,...,5} {
  \foreach \j in {1,2} {
    \hexagon{\j}{\i}{};
  }
}
\hexagon{2}{6}{\tiny stop};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:RES-back}{19}}{}{}{p:exercise:Xue}%
Let \(t_n\) denote the number of ways to tile a \(2\times n\) checkerboard using \(1\times 2\) dominoes.  Write out the first few terms of the sequence \((t_n)_{n \ge 1}\) and then give a recursive definition.  Explain why your recursive formula is correct.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 2.2 Arithmetic and Geometric Sequences}
\typeout{************************************************}
%
\begin{sectionptx}{Arithmetic and Geometric Sequences}{}{Arithmetic and Geometric Sequences}{}{}{x:section:sec_seq-arithgeom}
\begin{introduction}{}%
\begin{investigation}{}{x:investigation:investigation-seqdots}%
For the patterns of dots below, draw the next pattern in the sequence. Then give a recursive definition and a closed formula for the number of dots in the \(n\)th pattern.%
\begin{sidebyside}{1}{0.175}{0.175}{0}%
\begin{sbspanel}{0.65}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}
\draw[fill = black] (0,0) \v;
\node[below] at (0,-.6) {$n = 0$};

  \draw[fill = black] (0+3,0) \v (.3+3, .3) \v (-.3+3,-.3) \v (-.3+3, .3) \v (.3+3,-.3) \v;
    \node[below] at (0+3,-.6) {$n = 1$};

  \draw[fill = black] (0+6,0) \v (.3+6, .3) \v (-.3+6,-.3) \v (-.3+6, .3) \v (.3+6,-.3) \v (.6+6, .6) \v (-.6+6,-.6) \v (-.6+6, .6) \v (.6+6,-.6) \v;
    \node[below] at (0+6,-.6) {$n = 2$};
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\begin{sidebyside}{1}{0.175}{0.175}{0}%
\begin{sbspanel}{0.65}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}
\draw[fill = black] (0,.25) \v (0,-.25) \v;
\node[below] at (0,-1.5) {$n = 0$};

  \draw[fill = black] (-.5+3,.25) \v (.5+3, .25) \v (0+3, .95) \v (-.5+3,-.25) \v (.5+3, -.25) \v (0+3,-.95) \v;
  \node[below] at (0+3,-1.5) {$n = 1$};

  \draw[fill = black] (-.7+6,.25) \v (-.3+6,.25) \v (-.5+6,.6) \v
  	(.3+6, .25) \v (.7+6,.25) \v (.5+6, .6) \v
  	(-.2+6, .95) \v (.2+6, .95) \v (0+6, 1.3) \v
    (-.7+6,-.25) \v (-.3+6,-.25) \v (-.5+6,-.6) \v
      (.3+6, -.25) \v (.7+6,-.25) \v (.5+6, -.6) \v
      (-.2+6, -.95) \v (.2+6, -.95) \v (0+6, -1.3) \v;
    \node[below] at (0+6,-1.5) {$n = 2$};
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\begin{sidebyside}{1}{0.15}{0.15}{0}%
\begin{sbspanel}{0.7}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}
\draw[fill = black] (0,0) \v;
\node[below] at (0,-.25) {$n = 1$};

  \draw[fill = black] (0+2,0) \v (.5+2, 0) \v (.25+2,.4) \v;
  \node[below] at (.25+2,-.25) {$n = 2$};

  \draw[fill = black] (0+4,0) \v (.5+4, 0) \v (.25+4,.4) \v (1+4,0) \v (.75+4,.4) \v (.5+4, .8) \v;
  \node[below] at (.5+4,-.25) {$n = 3$};

      \draw[fill = black] (0+6,0) \v (.5+6, 0) \v (.25+6,.4) \v (1+6,0) \v (.75+6,.4) \v (.5+6, .8) \v (1.5+6, 0) \v (1.25+6, .4) \v (1+6, .8) \v (.75+6, 1.2) \v;
      \node[below] at (.75+6,-.25) {$n = 4$};
      \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{investigation}
We now turn to the question of finding closed formulas for particular types of sequences.%
\begin{assemblage}{Arithmetic Sequences.}{p:assemblage:KlB}%
If the terms of a sequence differ by a constant, we say the sequence is \terminology{arithmetic}. \index{arithmetic sequence} If the initial term (\(a_0\)) of the sequence is \(a\) and the \terminology{common difference} is \(d\), then we have,%
\par
Recursive definition: \(a_n = a_{n-1} + d\) with \(a_0 = a\).%
\par
Closed formula: \(a_n = a + dn\).%
\end{assemblage}
How do we know this? For the recursive definition, we need to specify \(a_0\). Then we need to express \(a_n\) in terms of \(a_{n-1}\). If we call the first term \(a\), then \(a_0 = a\). For the recurrence relation, by the definition of an arithmetic sequence, the difference between successive terms is some constant, say \(d\). So \(a_n - a_{n-1} = d\), or in other words,%
\begin{equation*}
a_0 = a \qquad a_n=a_{n-1}+d\text{.}
\end{equation*}
%
\par
To find a closed formula, first write out the sequence in general:%
\begin{align*}
a_0 \amp = a\\
a_1 \amp = a_0 + d = a+d\\
a_2 \amp = a_1 + d = a+d+d = a+2d\\
a_3 \amp = a_2 + d = a+2d+d = a+3d\\
\amp \vdots
\end{align*}
%
\par
We see that to find the \(n\)th term, we need to start with \(a\) and then add \(d\) a bunch of times. In fact, add it \(n\) times. Thus \(a_n = a+dn\).%
\begin{example}{}{p:example:kDy}%
Find recursive definitions and closed formulas for the arithmetic sequences below. Assume the first term listed is \(a_0\).%
\par
%
\begin{enumerate}
\item{}\(2, 5, 8, 11, 14, \ldots\).%
\item{}\(50, 43, 36, 29, \ldots\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:hIS}{}~~%
First we should check that these sequences really are arithmetic by taking differences of successive terms. Doing so will reveal the common difference \(d\).%
\par
%
\begin{enumerate}
\item{}\(5-2 = 3\), \(8-5 = 3\), etc. To get from each term to the next, we add three, so \(d = 3\). The recursive definition is therefore \(a_n = a_{n-1} + 3\) with \(a_0 = 2\). The closed formula is \(a_n = 2 + 3n\).%
\item{}Here the common difference is \(-7\), since we add \(-7\) to 50 to get 43, and so on. Thus we have a recursive definition of \(a_n = a_{n-1} - 7\) with \(a_0 = 50\). The closed formula is \(a_n = 50 - 7n\).%
\end{enumerate}
%
\end{example}
What about sequences like \(2, 6, 18, 54, \ldots\)? This is not arithmetic because the difference between terms is not constant. However, the \emph{ratio} between successive terms is constant. We call such sequences \terminology{geometric}.%
\par
The recursive definition for the geometric sequence with initial term \(a\) and common ratio \(r\) is \(a_n = a_{n-1}\cdot r; a_0 = a\). To get the next term we multiply the previous term by \(r\). We can find the closed formula like we did for the arithmetic progression. Write%
\begin{align*}
a_0 \amp = a\\
a_1 \amp = a_0\cdot r\\
a_2 \amp = a_1 \cdot r = a_0\cdot r\cdot r = a_0\cdot r^2\\
\amp \vdots
\end{align*}
We must multiply the first term \(a\) by \(r\) a number of times, \(n\) times to be precise. We get \(a_n = a\cdot r^{n}\).%
\begin{assemblage}{Geometric Sequences.}{p:assemblage:qsK}%
A sequence is called \terminology{geometric} \index{geometric sequence} if the ratio between successive terms is constant. Suppose the initial term \(a_0\) is \(a\) and the \terminology{common ratio} is \(r\). Then we have,%
\par
Recursive definition: \(a_n = ra_{n-1}\) with \(a_0 = a\).%
\par
Closed formula: \(a_n = a\cdot r^{n}\).%
\end{assemblage}
\begin{example}{}{p:example:QKH}%
Find the recursive and closed formula for the geometric sequences below. Again, the first term listed is \(a_0\).%
\begin{enumerate}
\item{}\(\displaystyle 3, 6, 12, 24, 48, \ldots\)%
\item{}\(\displaystyle 27, 9, 3, 1, 1/3, \ldots\)%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:NQb}{}~~%
Start by checking that these sequences really are geometric by dividing each term by its previous term. If this ratio really is constant, we will have found \(r\).%
\begin{enumerate}
\item{}\(6/3 = 2\), \(12/6 = 2\), \(24/12 = 2\), etc. Yes, to get from any term to the next, we multiply by \(r = 2\). So the recursive definition is \(a_n = 2a_{n-1}\) with \(a_0 = 3\). The closed formula is \(a_n = 3\cdot 2^{n}\).%
\item{}The common ratio is \(r = 1/3\). So the sequence has recursive definition \(a_n = \frac{1}{3}a_{n-1}\) with \(a_0 = 27\) and closed formula \(a_n = 27\cdot \frac{1}{3}^{n}\).%
\end{enumerate}
%
\end{example}
In the examples and formulas above, we assumed that the \emph{initial} term was \(a_0\). If your sequence starts with \(a_1\), you can easily find the term that would have been \(a_0\) and use that in the formula. For example, if we want a formula for the sequence \(2, 5, 8,\ldots\) and insist that \(2= a_1\), then we can find \(a_0 = -1\) (since the sequence is arithmetic with common difference 3, we have \(a_0 + 3 = a_1\)). Then the closed formula will be \(a_n = -1 + 3n\).%
\begin{remark}{}{p:remark:wRQ}%
If you look at other textbooks or online, you might find that their closed formulas for arithmetic and geometric sequences differ from ours. Specifically, you might find the formulas \(a_n = a +(n-1)d\) (arithmetic) and \(a_n = a\cdot r^{n-1}\) (geometric). Which is correct? Both! In our case, we take \(a\) to be \(a_0\). If instead we had \(a_1\) as our initial term, we would get the (slightly more complicated) formulas you find elsewhere.%
\end{remark}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Sums of Arithmetic and Geometric Sequences}
\typeout{************************************************}
%
\begin{subsectionptx}{Sums of Arithmetic and Geometric Sequences}{}{Sums of Arithmetic and Geometric Sequences}{}{}{p:subsection:RQa}
\begin{introduction}{}%
\begin{investigation}{}{x:investigation:investigation-seqcandy}%
Your neighborhood grocery store has a candy machine full of Skittles.%
\begin{enumerate}
\item{}Suppose that the candy machine currently holds exactly 650 Skittles, and every time someone inserts a quarter, exactly 7 Skittles come out of the machine.%
\begin{enumerate}
\item{}How many Skittles will be left in the machine after 20 quarters have been inserted?%
\item{}Will there ever be exactly zero Skittles left in the machine? Explain.%
\end{enumerate}
%
\item{}What if the candy machine gives 7 Skittles to the first customer who put in a quarter, 10 to the second, 13 to the third, 16 to the fourth, etc. How many Skittles has the machine given out after 20 quarters are put into the machine?%
\item{}Now, what if the machine gives 4 Skittles to the first customer, 7 to the second, 12 to the third, 19 to the fourth, etc. How many Skittles has the machine given out after 20 quarters are put into the machine?%
\end{enumerate}
%
\end{investigation}
Look at the sequence \((T_n)_{n\ge 1}\) which starts \(1, 3, 6, 10, 15,\ldots\). These are called the \terminology{triangular numbers} \index{triangular numbers} since they represent the number of dots in an equilateral triangle (think of how you arrange 10 bowling pins: a row of 4 plus a row of 3 plus a row of 2 and a row of 1).%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
  \begin{tikzpicture}
\draw[fill = black] (0,0) \v;
\node[below] at (0,-.25) {$T_1 = 1$};

\draw[fill = black] (0+2,0) \v (.5+2, 0) \v (.25+2,.4) \v;
\node[below] at (.25+2,-.25) {$T_2 = 3$};

\draw[fill = black] (0+4,0) \v (.5+4, 0) \v (.25+4,.4) \v (1+4,0) \v (.75+4,.4) \v (.5+4, .8) \v;
\node[below] at (.5+4,-.25) {$T_3 = 6$};

\draw[fill = black] (0+6,0) \v (.5+6, 0) \v (.25+6,.4) \v (1+6,0) \v (.75+6,.4) \v (.5+6, .8) \v (1.5+6, 0) \v (1.25+6, .4) \v (1+6, .8) \v (.75+6, 1.2) \v;
\node[below] at (.75+6,-.25) {$T_4 = 10$};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Is this sequence arithmetic? No, since \(3-1 = 2\) and \(6-3 = 3 \ne 2\), so there is no common difference. Is the sequence geometric? No. \(3/1 = 3\) but \(6/3 = 2\), so there is no common ratio. What to do?%
\par
\index{partial sums} Notice that the \emph{differences} between terms \emph{do} form an arithmetic sequence: \(2, 3, 4, 5, 6,\ldots\). This means that the \(n\)th term of the sequence \((T_n)\) is the \emph{sum} of the first \(n\) terms in the sequence \(1,2,3,4,5,\ldots\). We say that \((T_n)\) is the \terminology{sequence of partial sums} of the sequence \(1,2,3,\ldots\) (\emph{partial} sums because we are not taking the sum of all infinitely many terms).%
\par
This should become clearer if we write the triangular numbers like this:%
\begin{align*}
1 \amp = 1\\
3 \amp = 1+2\\
6 \amp = 1 + 2 + 3\\
10 \amp = 1+2 + 3+ 4\\
\vdots \amp \qquad \vdots\\
T_n \amp = 1 + 2 + 3 + \cdots + n\text{.}
\end{align*}
%
\par
If we know how to add up the terms of an arithmetic sequence, we could find a closed formula for a sequence whose differences are the terms of that arithmetic sequence. Consider how we could find the sum of the first 100 positive integers (that is, \(T_{100}\)). Instead of adding them in order, we regroup and add \(1+100 = 101\). The next pair to combine is \(2+99 = 101\). Then \(3+98 = 101\). Keep going. This gives 50 pairs which each add up to \(101\), so \(T_{100} = 101\cdot 50 = 5050\).\footnote{This insight is usually attributed to Carl Friedrich Gauss, one of the greatest mathematicians of all time, who discovered it as a child when his unpleasant elementary teacher thought he would keep the class busy by requiring them to compute the lengthy sum.\label{g:fn:idm14049}}%
\par
In general, using this same sort of regrouping, we find that \(T_n = \frac{n(n+1)}{2}\). Incidentally, this is exactly the same as \({n+1 \choose 2}\), which makes sense if you think of the triangular numbers as counting the number of handshakes that take place at a party with \(n+1\) people: the first person shakes \(n\) hands, the next shakes an additional \(n-1\) hands and so on.%
\par
The point of all of this is that some sequences, while not arithmetic or geometric, can be interpreted as the sequence of partial sums of arithmetic and geometric sequences. Luckily there are methods we can use to compute these sums quickly.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsubsection  Summing Arithmetic Sequences: Reverse and Add}
\typeout{************************************************}
%
\begin{subsubsectionptx}{Summing Arithmetic Sequences: Reverse and Add}{}{Summing Arithmetic Sequences: Reverse and Add}{}{}{p:subsubsection:xXj}
Here is a technique that allows us to quickly find the sum of an arithmetic sequence.%
\begin{example}{}{p:example:WzT}%
Find the sum: \(2 + 5 + 8 + 11 + 14 + \cdots + 470\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:tXk}{}~~%
The idea is to mimic how we found the formula for triangular numbers. If we add the first and last terms, we get 472. The second term and second-to-last term also add up to 472. To keep track of everything, we might express this as follows. Call the sum \(S\). Then,%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rccccccccc}
\(S  =\)&\(2\)&\(+\)&\(5\)&\(+\)&\(8\)&\(+ \cdots +\)&\(467\)&\(+\)&470\tabularnewline[0pt]
\(+ \quad S  =\)&\(470\)&\(+\)&\(467\)&\(+\)&\(464\)&\(+ \cdots +\)&\(5\)&\(+\)&2\tabularnewline\hrulethin
\(2S  =\)&\(472\)&\(+\)&\(472\)&\(+\)&\(472\)&\(+ \cdots +\)&\(472\)&\(+\)&\(472\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
To find \(2S\) then we add 472 to itself a number of times. What number? We need to decide how many terms (\terminology{summands}) are in the sum. Since the terms form an arithmetic sequence, the \(n\)th term in the sum (counting \(2\) as the 0th term) can be expressed as \(2 + 3n\). If \(2 + 3n = 470\) then \(n = 156\). So \(n\) ranges from 0 to 156, giving 157 terms in the sum. This is the number of 472's in the sum for \(2S\). Thus%
\begin{equation*}
2S = 157\cdot 472 = 74104\text{.}
\end{equation*}
%
\par
It is now easy to find \(S\):%
\begin{equation*}
S = 74104/2 = 37052\text{.}
\end{equation*}
%
\end{example}
This will work for the sum of any \emph{arithmetic} sequence. Call the sum \(S\). Reverse and add. This produces a single number added to itself many times. Find the number of times. Multiply. Divide by 2. Done.%
\begin{example}{}{p:example:CHc}%
Find a closed formula for \(6 + 10 + 14 + \cdots + (4n - 2)\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:aet}{}~~%
Again, we have a sum of an arithmetic sequence. How many terms are in the sequence? Clearly each term in the sequence has the form \(4k -2\) (as evidenced by the last term). For which values of \(k\) though? To get 6, \(k = 2\). To get \(4n-2\) take \(k = n\). So to find the number of terms, we must count the number of integers in the range \(2,3,\ldots, n\). This is \(n-1\). (There are \(n\) numbers from 1 to \(n\), so one less if we start with 2.)%
\par
Now reverse and add:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rccccccc}
\(S  =\)&\(6\)&\(+\)&\(10\)&\(+ \cdots +\)&\(4n-6\)&\(+\)&\(4n-2\)\tabularnewline[0pt]
\(+ \quad S  =\)&\(4n-2\)&\(+\)&\(4n-6\)&\(+ \cdots +\)&\(10\)&\(+\)&6\tabularnewline\hrulethin
\(2S  =\)&\(4n+4\)&\(+\)&\(4n+4\)&\(+ \cdots +\)&\(4n+4\)&\(+\)&\(4n+4\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Since there are \(n-1\) terms, we get%
\begin{equation*}
2S = (n-1)(4n+4)\qquad \mbox{ so } \qquad S = \frac{(n-1)(4n+4)}{2}\text{.}
\end{equation*}
%
\end{example}
Besides finding sums, we can use this technique to find closed formulas for sequences we recognize as sequences of partial sums.%
\begin{example}{}{x:example:example-sum-of-arithmetic}%
Use partial sums to find a closed formula for \((a_n)_{n\ge 0}\) which starts \(2, 3, 7, 14, 24, 37,\ldots \ldots\)%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:GlC}{}~~%
First, if you look at the differences between terms, you get a sequence of differences: \(1,4,7,10,13, \ldots\), which is an arithmetic sequence. Written another way:%
\begin{align*}
a_0 \amp = 2\\
a_1 \amp = 2+1\\
a_2 \amp = 2+1+4\\
a_3 \amp = 2+1+4+7
\end{align*}
and so on. We can write the general term of \((a_n)\) in terms of the arithmetic sequence as follows:%
\begin{equation*}
a_n = 2 + 1 + 4 + 7 + 10 + \cdots + (1+3(n-1))
\end{equation*}
(we use \(1+3(n-1)\) instead of \(1+3n\) to get the indices to line up correctly; for \(a_3\) we add up to 7, which is \(1+3(3-1)\)).%
\par
We can reverse and add, but the initial 2 does not fit our pattern. This just means we need to keep the 2 out of the reverse part:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rccccccccc}
\(a_n  =\)&\(2\)&\(+\)&\(1\)&\(+\)&\(4\)&\(+ \cdots +\)&\(1+3(n-1)\)\tabularnewline[0pt]
\(+ \quad a_n  =\)&\(2\)&\(+\)&\(1+3(n-1)\)&\(+\)&\(1+3(n-2)\)&\(+ \cdots +\)&\(1\)\tabularnewline\hrulethin
\(2a_n =\)&\(4\)&\(+\)&\(2+3(n-1)\)&\(+\)&\(2+3(n-1)\)&\(+ \cdots +\)&\(2+3(n-1)\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Not counting the first term (the 4) there are \(n\) summands of \(2+3(n-1) = 3n-1\) so the right-hand side becomes \(4+(3n-1)n\).%
\par
Finally, solving for \(a_n\) we get%
\begin{equation*}
a_n = \d \frac{4+(3n-1)n}{2}\text{.}
\end{equation*}
Just to be sure, we check \(a_0 = \frac{4}{2} = 2\), \(a_1 = \frac{4+2}{2} = 3\), etc. We have the correct closed formula.%
\end{example}
\end{subsubsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsubsection  Summing Geometric Sequences: Multiply, Shift and Subtract}
\typeout{************************************************}
%
\begin{subsubsectionptx}{Summing Geometric Sequences: Multiply, Shift and Subtract}{}{Summing Geometric Sequences: Multiply, Shift and Subtract}{}{}{p:subsubsection:ees}
To find the sum of a geometric sequence, we cannot just reverse and add. Do you see why? The reason we got the same term added to itself many times is because there was a constant difference. So as we added that difference in one direction, we subtracted the difference going the other way, leaving a constant total. For geometric sums, we have a different technique.%
\begin{example}{}{p:example:OVu}%
What is \(3 + 6 + 12 + 24 + \cdots + 12288\)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:msL}{}~~%
Multiply each term by 2, the common ratio. You get \(2S = 6 + 12 + 24 + \cdots + 24576\). Now subtract: \(2S - S = -3 + 24576 = 24573\). Since \(2S - S = S\), we have our answer.%
\end{example}
To better see what happened in the above example, try writing it this way:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rlll}
\(S=\)&\(3 \, +\)&\(6 + 12 + 24 + \cdots + 12288\)&\tabularnewline[0pt]
\(- \qquad 2S=\)&&\(6 + 12 + 24 + \cdots + 12288\)&\(+ 24576\)\tabularnewline\hrulethin
\(-S = \)&\(3 \, +\)&\(0 + 0 + 0 +  \cdots + 0 \)&\(-24576\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Then divide both sides by \(-1\) and we have the same result for \(S\). The idea is, by multiplying the sum by the common ratio, each term becomes the next term. We shift over the sum to get the subtraction to mostly cancel out, leaving just the first term and new last term.%
\begin{example}{}{p:example:vcD}%
Find a closed formula for \(S(n) = 2 + 10 + 50 + \cdots + 2\cdot 5^n\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:SzU}{}~~%
The common ratio is 5. So we have%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rl}
\(S\)&\(= 2 + 10 + 50 + \cdots + 2\cdot 5^n\)\tabularnewline[0pt]
\(- \qquad 5S\)&\(= ~~~~~~10 + 50 + \cdots + 2\cdot 5^n + 2\cdot5^{n+1}\)\tabularnewline\hrulethin
\(-4S\)&\(= 2  - 2\cdot5^{n+1}\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Thus \(S = \dfrac{2-2\cdot 5^{n+1}}{-4}\)%
\end{example}
Even though this might seem like a new technique, you have probably used it before.%
\begin{example}{}{p:example:bjM}%
Express \(0.464646\ldots\) as a fraction.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:yHd}{}~~%
Let \(N = 0.46464646\ldots\). Consider \(0.01N\). We get:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{rl}
\(N =\)&\(0.4646464\ldots\)\tabularnewline[0pt]
\(- \qquad 0.01N =\)&\(0.00464646\ldots\)\tabularnewline\hrulethin
\(0.99N =\)&\(0.46\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
So \(N = \frac{46}{99}\). What have we done? We viewed the repeating decimal \(0.464646\ldots\) as a sum of the geometric sequence \(0.46, 0.0046, 0.000046, \ldots\) The common ratio is \(0.01\). The only real difference is that we are now computing an \emph{infinite} geometric sum, we do not have the extra ``last'' term to consider. Really, this is the result of taking a limit as you would in calculus when you compute \emph{infinite} geometric sums.%
\end{example}
\end{subsubsectionptx}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_seq-arithgeom}
\begin{divisionexercise}{\hyperlink{p:solution:ENK-back}{1}}{}{}{p:exercise:qKf}%
Consider the sequence \(5, 9, 13, 17, 21, \ldots\) with \(a_1 = 5\)%
\begin{enumerate}[label=(\alph*)]
\item{}Give a recursive definition for the sequence.%
\item{}Give a closed formula for the \(n\)th term of the sequence.%
\item{}Is \(2013\) a term in the sequence? Explain.%
\item{}How many terms does the sequence \(5, 9, 13, 17, 21, \ldots, 533\) have?%
\item{}Find the sum: \(5 + 9 + 13 + 17 + 21 + \cdots + 533\). Show your work.%
\item{}Use what you found above to find \(b_n\), the \(n^{th}\) term of \(1, 6, 15, 28, 45, \ldots\), where \(b_0 = 1\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14546-back}{2}}{}{}{p:exercise:WRo}%
Consider the sequence \((a_n)_{n \ge 0}\) which starts \(8, 14, 20, 26, \ldots\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}What is the next term in the sequence?%
\item{}Find a formula for the \(n\)th term of this sequence.%
\item{}Find the sum of the first 100 terms of the sequence: \(\sum_{k=0}^{99}a_k\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14602-back}{3}}{}{}{p:exercise:CYx}%
Consider the sum \(4 + 11 + 18 + 25 + \cdots + 249\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many terms (summands) are in the sum?%
\item{}Compute the sum using a technique discussed in this section.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14685-back}{4}}{}{}{p:exercise:jfG}%
Consider the sequence \(1, 7, 13, 19, \ldots, 6n + 7\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many terms are there in the sequence? Your answer will be in terms of \(n\text{.}\)%
\item{}What is the second-to-last term?%
\item{}Find the sum of all the terms in the sequence, in terms of \(n\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14732-back}{5}}{}{}{p:exercise:PmP}%
Find \(5 + 7 + 9 + 11+ \cdots + 521\) using a technique from this section.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14765-back}{6}}{}{}{p:exercise:vtY}%
Find \(5 + 15 + 45 + \cdots + 5\cdot 3^{20}\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14799-back}{7}}{}{}{p:exercise:bBh}%
Find \(1 - \frac{2}{3} + \frac{4}{9} - \cdots + \frac{2^{30}}{3^{30}}\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14850-back}{8}}{}{}{p:exercise:HIq}%
Find \(x\) and \(y\) such that \(27,
x, y, 1\) is part of an arithmetic sequence.%
\par
Then find \(x\) and \(y\) so that the sequence is part of a geometric sequence.%
\par
(Warning: \(x\) and \(y\) might not be integers.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm14904-back}{9}}{}{}{p:exercise:nPz}%
Find \(x\) and \(y\) such that \(5,
x, y, 32\) is part of an arithmetic sequence.%
\par
Then find \(x\) and \(y\) so that the sequence is part of a geometric sequence.%
\par
(Warning: \(x\) and \(y\) might not be integers.)%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:TWI}%
Is there a pair of integers \((a,b)\) such that \(a,
x_1, y_2, b\) is part of an arithmetic sequences and \(a,
x_2, y_2, b\) is part of a geometric sequence with \(x_1, x_2, y_1, y_2\) all integers?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ian-back}{11}}{}{}{p:exercise:AdR}%
Consider the sequence \(2, 7, 15, 26, 40, 57, \ldots\) (with \(a_0 = 2\)). By looking at the differences between terms, express the sequence as a sequence of partial sums. Then find a closed formula for the sequence by computing the \(n\)th partial sum.%
\end{divisionexercise}%
\begin{divisionexercise}{12}{}{}{p:exercise:gla}%
Starting with any rectangle, we can create a new, larger rectangle by attaching a square to the longer side. For example, if we start with a \(2\times 5\) rectangle, we would glue on a \(5\times 5\) square, forming a \(5 \times 7\) rectangle:%
\begin{sidebyside}{1}{0.2}{0.2}{0}%
\begin{sbspanel}{0.6}%
\resizebox{\linewidth}{!}{%
 \begin{tikzpicture}[scale=.4]
	\draw[thick] (0,0) rectangle (2,5);
	\draw[thick] (2.2,0) rectangle (7.2,5);
	\draw (0,2.5) node[left]{ 5} (1,0) node[above]{ 2} (4.5,0) node[above]{ 5};
	\draw (9,2.5) node{ \(\rightsquigarrow\)};
	\draw[thick] (11,0) rectangle (18,5);
	\draw[dotted] (13,0) -- (13,5);
	\draw (11,2.5) node[left]{ 5}  (14.5,0) node[above]{ 7};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The next rectangle would be formed by attaching a \(7 \times 7\) square to the top or bottom of the \(5\times 7\) rectangle. %
\begin{enumerate}[label=(\alph*)]
\item{}Create a sequence of rectangles using this rule starting with a \(1\times 2\) rectangle. Then write out the sequence of \emph{perimeters} for the rectangles (the first term of the sequence would be 6, since the perimeter of a \(1\times 2\) rectangle is 6 - the next term would be 10).%
\item{}Repeat the above part this time starting with a \(1 \times 3\) rectangle.%
\item{}Find recursive formulas for each of the sequences of perimeters you found in parts (a) and (b). Don't forget to give the initial conditions as well.%
\item{}Are the sequences arithmetic? Geometric? If not, are they \emph{close} to being either of these (i.e., are the differences or ratios \emph{almost} constant)? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:Msj}%
If you have enough toothpicks, you can make a large triangular grid. Below, are the triangular grids of size 1 and of size 2. The size 1 grid requires 3 toothpicks, the size 2 grid requires 9 toothpicks.%
\begin{sidebyside}{2}{0.2}{0.1}{0.4}%
\begin{sbspanel}{0.1}[bottom]%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=.8]
\draw[line width=1.8pt] (90:1) -- (-30:1) -- (210:1) -- (90:1);
\fill[color=white] (90:1) circle (3pt);
\fill[color=white] (-30:1) circle (3pt);
\fill[color=white] (210:1) circle (3pt);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=.8]
\draw[line width = 1.8pt] (-90:1) -- (210:2) -- (150:1) -- (-90:1) -- (-30:2) -- (30:1) -- (150:1) -- (90:2) -- (30:1) -- (-90:1);
\fill[color=white] (-90:1) circle (3pt);
\fill[color=white] (-30:2) circle (3pt);
\fill[color=white] (210:2) circle (3pt);
\fill[color=white] (90:2) circle (3pt);
\fill[color=white] (30:1) circle (3pt);
\fill[color=white] (150:1) circle (3pt);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(t_n\) be the number of toothpicks required to make a size \(n\) triangular grid. Write out the first 5 terms of the sequence \(t_1, t_2, \ldots\).%
\item{}Find a recursive definition for the sequence. Explain why you are correct.%
\item{}Is the sequence arithmetic or geometric? If not, is it the sequence of partial sums of an arithmetic or geometric sequence? Explain why your answer is correct.%
\item{}Use your results from part (c) to find a closed formula for the sequence. Show your work.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:szs}%
If you were to shade in a \(n\times n\) square on graph paper, you could do it the boring way (with sides parallel to the edge of the paper) or the interesting way, as illustrated below:%
\begin{sidebyside}{4}{0.025}{0.025}{0.05}%
\begin{sbspanel}{0.05}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.4]
\draw (0,0) rectangle (1,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.15}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.4]
\draw (-1,0) rectangle (2,1) (0,-1) rectangle (1,2);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.4]
\draw (-2,0) rectangle (3,1) (0,-2) rectangle (1,3) (-1,-1) rectangle (2,2);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.35}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.4]
\draw (-3,0) rectangle (4,1) (-2,-1) rectangle (3,2) (-1,-2) rectangle (2,3) (0,-3) rectangle (1,4);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The interesting thing here, is that a \(3\times 3\) square now has area 13. Our goal is the find a formula for the area of a \(n \times n\) (diagonal) square.%
\begin{enumerate}[label=(\alph*)]
\item{}Write out the first few terms of the sequence of areas (assume \(a_1 = 1\), \(a_2 = 5\), etc). Is the sequence arithmetic or geometric? If not, is it the sequence of partial sums of an arithmetic or geometric sequence? Explain why your answer is correct, referring to the diagonal squares.%
\item{}Use your results from part (a) to find a closed formula for the sequence. Show your work. Note, while there are lots of ways to find a closed formula here, you should use partial sums specifically.%
\item{}Find the closed formula in as many other interesting ways as you can.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{15}{}{}{p:exercise:YGB}%
Here is a surprising use of sequences to answer a counting question:  How many license plates consist of 6 symbols, using only the three numerals 1, 2, and 3 and the four letters a, b, c, and d, so that no numeral appears after any letter?  For example, ``31ddac'' and ``12321'' are acceptable license plates, but ``13ba2c'' is not.%
\begin{enumerate}[label=(\alph*)]
\item{}First answer this question by considering different cases: how many of the license plates contain no numerals?  How many contain one numeral, etc.%
\item{}Now use the techniques of this section to show why the answer is \(4^7 - 3^7\).%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 2.3 Polynomial Fitting}
\typeout{************************************************}
%
\begin{sectionptx}{Polynomial Fitting}{}{Polynomial Fitting}{}{}{x:section:sec_polyfit}
\index{polynomial fitting}%
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:Pkc}%
A standard \(8 \times 8\) chessboard contains 64 squares. Actually, this is just the number of unit squares. How many squares of all sizes are there on a chessboard? Start with smaller boards: \(1\times 1\), \(2 \times 2\), \(3\times 3\), etc. Find a formula for the total number of squares in an \(n\times n\) board.%
\end{investigation}
So far we have seen methods for finding the closed formulas for arithmetic and geometric sequences. Since we know how to compute the sum of the first \(n\) terms of arithmetic and geometric sequences, we can compute the closed formulas for sequences which have an arithmetic (or geometric) sequence of differences between terms. But what if we consider a sequence which is the sum of the first \(n\) terms of a sequence which is itself the sum of an arithmetic sequence?%
\par
Before we get too carried away, let's consider an example: How many squares (of all sizes) are there on a chessboard? A chessboard consists of \(64\) squares, but we also want to consider squares of longer side length. Even though we are only considering an \(8 \times 8\) board, there is already a lot to count. So instead, let us build a sequence: the first term will be the number of squares on a \(1 \times 1\) board, the second term will be the number of squares on a \(2 \times 2\) board, and so on. After a little thought, we arrive at the sequence%
\begin{equation*}
1,5,14,30, 55,\ldots\text{.}
\end{equation*}
%
\par
This sequence is not arithmetic (or geometric for that matter), but perhaps it's sequence of differences is. For differences we get%
\begin{equation*}
4, 9, 16, 25, \ldots\text{.}
\end{equation*}
%
\par
Not a huge surprise: one way to count the number of squares in a \(4 \times 4\) chessboard is to notice that there are \(16\) squares with side length 1, 9 with side length 2, 4 with side length 3 and 1 with side length 4. So the original sequence is just the sum of squares. Now this sequence of differences is not arithmetic since it's sequence of differences (the differences of the differences of the original sequence) is not constant. In fact, this sequence of \terminology{second differences} is%
\begin{equation*}
5, 7, 9, \ldots\text{,}
\end{equation*}
which \emph{is} an arithmetic sequence (with constant difference 2). Notice that our original sequence had \terminology{third differences} (that is, differences of differences of differences of the original) constant. We will call such a sequence \(\Delta^3\)-constant. The sequence \(1, 4, 9, 16, \ldots\) has second differences constant, so it will be a \(\Delta^2\)-constant sequence. In general, we will say a sequence is a \terminology{\(\Delta^k\)-constant} \label{g:notation:idm15061}\index{\(\Delta^k\)-constant} sequence if the \(k\)th differences are constant.%
\begin{example}{}{x:example:example-deltak}%
Which of the following sequences are \(\Delta^k\)-constant for some value of \(k\)?%
\begin{enumerate}
\item{}\(2, 3, 7, 14, 24, 37,\ldots\).%
\item{}\(1, 8, 27, 64, 125, 216, \ldots\).%
\item{}\(1,2,4,8,16,32,64,\ldots\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:vrl}{}~~%
%
\begin{enumerate}
\item{}This is the sequence from \hyperref[x:example:example-sum-of-arithmetic]{Example~\ref{x:example:example-sum-of-arithmetic}}, in which we found a closed formula by recognizing the sequence as the sequence of partial sums of an arithmetic sequence. Indeed, the sequence of first differences is \(1,4,7, 10, 13,\ldots\), which itself has differences \(3,3,3,3,\ldots\). Thus \(2, 3, 7, 14, 24, 37,\ldots\) is a \(\Delta^2\)-constant sequence.%
\item{}These are the perfect cubes. The sequence of first differences is \(7, 19, 37, 61, 91, \ldots\); the sequence of second differences is \(12, 18, 24, 30,\ldots\); the sequence of third differences is constant: \(6,6,6,\ldots\). Thus the perfect cubes are a \(\Delta^3\)-constant sequence.%
\item{}If we take first differences we get \(1,2,4,8,16,\ldots\). Wait, what? That's the sequence we started with. So taking second differences will give us the same sequence again. No matter how many times we repeat this we will always have the same sequence, which in particular means no finite number of differences will be constant. Thus this sequence is not \(\Delta^k\)-constant for any \(k\).%
\end{enumerate}
%
\end{example}
The \(\Delta^0\)-constant sequences are themselves constant, so a closed formula for them is easy to compute (it's just the constant). The \(\Delta^1\)-constant sequences are arithmetic and we have a method for finding closed formulas for them as well. Every \(\Delta^2\)-constant sequence is the sum of an arithmetic sequence so we can find formulas for these as well. But notice that the format of the closed formula for a \(\Delta^2\)-constant sequence is always quadratic. For example, the square numbers are \(\Delta^2\)-constant with closed formula \(a_n= n^2\). The triangular numbers (also \(\Delta^2\)-constant) have closed formula \(a_n = \frac{n(n+1)}{2}\), which when multiplied out gives you an \(n^2\) term as well. It appears that every time we increase the complexity of the sequence, that is, increase the number of differences before we get constants, we also increase the degree of the polynomial used for the closed formula. We go from constant to linear to quadratic. The sequence of differences between terms tells us something about the rate of growth of the sequence. If a sequence is growing at a constant rate, then the formula for the sequence will be linear. If the sequence is growing at a rate which itself is growing at a constant rate, then the formula is quadratic. You have seen this elsewhere: if a function has a constant second derivative (rate of change) then the function must be quadratic.%
\par
This works in general:%
\begin{assemblage}{Finite Differences.}{p:assemblage:eta}%
\index{finite differences} The closed formula for a sequence will be a degree \(k\) polynomial if and only if the sequence is \(\Delta^k\)-constant (i.e., the \(k\)th sequence of differences is constant).%
\end{assemblage}
This tells us that the sequence of numbers of squares on a chessboard, \(1, 5, 14, 30, 55, \ldots\), which we saw to be \(\Delta^3\)-constant, will have a cubic (degree 3 polynomial) for its closed formula.%
\par
Now once we know what format the closed formula for a sequence will take, it is much easier to actually find the closed formula. In the case that the closed formula is a degree \(k\) polynomial, we just need \(k+1\) data points to ``fit'' the polynomial to the data.%
\begin{example}{}{p:example:qHs}%
Find a formula for the sequence \(3, 7, 14, 24,\ldots\). Assume \(a_1 = 3\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:byu}{}~~%
First, check to see if the formula has constant differences at some level. The sequence of first differences is \(4, 7, 10, \ldots\) which is arithmetic, so the sequence of second differences is constant. The sequence is \(\Delta^2\)-constant, so the formula for \(a_n\) will be a degree 2 polynomial. That is, we know that for some constants \(a\), \(b\), and \(c\),%
\begin{equation*}
a_n = an^2 + bn + c\text{.}
\end{equation*}
%
\par
Now to find \(a\), \(b\), and \(c\). First, it would be nice to know what \(a_0\) is, since plugging in \(n = 0\) simplifies the above formula greatly. In this case, \(a_0 = 2\) (work backwards from the sequence of constant differences). Thus%
\begin{equation*}
a_0 = 2 = a\cdot 0^2 + b \cdot 0 + c\text{,}
\end{equation*}
so \(c = 2\). Now plug in \(n =1\) and \(n = 2\). We get%
\begin{equation*}
a_1 = 3 = a + b + 2
\end{equation*}
%
\begin{equation*}
a_2 = 7 = a4 + b 2 + 2\text{.}
\end{equation*}
%
\par
At this point we have two (linear) equations and two unknowns, so we can solve the system for \(a\) and \(b\) (using substitution or elimination or even matrices). We find \(a = \frac{3}{2}\) and \(b = \frac{-1}{2}\), so \(a_n = \frac{3}{2} n^2 - \frac{1}{2}n + 2\).%
\end{example}
\begin{example}{}{p:example:WOB}%
Find a closed formula for the number of squares on an \(n \times n\) chessboard.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:HFD}{}~~%
We have seen that the sequence \(1, 5, 14, 30, 55, \ldots\) is \(\Delta^3\)-constant, so we are looking for a degree 3 polynomial. That is,%
\begin{equation*}
a_n = an^3 + bn^2 + cn + d\text{.}
\end{equation*}
%
\par
We can find \(d\) if we know what \(a_0\) is. Working backwards from the third differences, we find \(a_0 = 0\) (unsurprisingly, since there are no squares on a \(0\times 0\) chessboard). Thus \(d = 0\). Now plug in \(n = 1\), \(n =2\), and \(n =3\):%
\begin{align*}
1 = \amp a + b + c\\
5 = \amp 8a + 4b + 2c\\
14 = \amp 27a + 9b + 3c\text{.}
\end{align*}
%
\par
If we solve this system of equations we get \(a = \frac{1}{3}\), \(b = \frac{1}{2}\) and \(c = \frac{1}{6}\). Therefore the number of squares on an \(n \times n\) chessboard is \(a_n = \frac{1}{3}n^3 + \frac{1}{2}n^2 + \frac{1}{6}n = \frac{1}{6}n(n+1)(2n+1)\).%
\end{example}
Note: Since the squares-on-a-chessboard problem is really asking for the sum of squares, we now have a nice formula for \(\d\sum_{k=1}^n k^2\).%
\par
Not all sequences will have polynomials as their closed formula. We can use the theory of finite differences to identify these.%
\begin{example}{}{p:example:CVK}%
Determine whether the following sequences can be described by a polynomial, and if so, of what degree.%
\begin{enumerate}
\item{}\(\displaystyle 1, 2, 4, 8, 16, \ldots\)%
\item{}\(\displaystyle 0, 7, 50, 183, 484, 1055, \ldots\)%
\item{}\(\displaystyle 1,1,2,3,5,8,13,\ldots\)%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:nMM}{}~~%
%
\begin{enumerate}
\item{}As we saw in \hyperref[x:example:example-deltak]{Example~\ref{x:example:example-deltak}}, this sequence is not \(\Delta^k\)-constant for any \(k\). Therefore the closed formula for the sequence is not a polynomial. In fact, we know the closed formula is \(a_n = 2^n\), which grows faster than any polynomial (so is not a polynomial).%
\item{}The sequence of first differences is \(7, 43, 133, 301, 571,\ldots\). The second differences are: \(36, 90, 168, 270,\ldots\). Third difference: \(54, 78, 102,\ldots\). Fourth differences: \(24, 24, \ldots\). As far as we can tell, this sequence of differences is constant so the sequence is \(\Delta^4\)-constant and as such the closed formula is a degree 4 polynomial.%
\item{}This is the Fibonacci sequence. \index{Fibonacci sequence} The sequence of first differences is \(0, 1, 1, 2, 3, 5, 8, \ldots\), the second differences are \(1, 0, 1, 1, 2, 3, 5\ldots\). We notice that after the first few terms, we get the original sequence back. So there will never be constant differences, so the closed formula for the Fibonacci sequence is not a polynomial.%
\end{enumerate}
%
\end{example}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_seq-polyfit}
\begin{divisionexercise}{\hyperlink{g:solution:idm15251-back}{1}}{}{}{p:exercise:kGY}%
Use polynomial fitting to find the formula for the \(n\)th term of the sequence \((a_n)_{n \ge 0}\) which starts,%
\par
%
\begin{equation*}
0, 2, 6, 12, 20, \ldots 
\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15288-back}{2}}{}{}{p:exercise:QOh}%
Use polynomial fitting to find the formula for the \(n\)th term of the sequence \((a_n)_{n \ge 0}\) which starts,%
\par
%
\begin{equation*}
1, 2, 4, 8, 15, 26 \ldots 
\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15320-back}{3}}{}{}{x:exercise:ex-cubic-seq}%
Use polynomial fitting to find the formula for the \(n\)th term of the sequence \((a_n)_{n \ge 0}\) which starts,%
\par
%
\begin{equation*}
2,5,11,21,36, \ldots 
\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15352-back}{4}}{}{}{p:exercise:dcz}%
Use polynomial fitting to find the formula for the \(n\)th term of the sequence \((a_n)_{n \ge 0}\) which starts,%
\par
%
\begin{equation*}
3, 6, 12, 22, 37, 58, \ldots 
\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{5}{}{}{p:exercise:JjI}%
Make up sequences that have%
\begin{enumerate}[label=(\alph*)]
\item{}3, 3, 3, 3, \textellipsis{} as its second differences.%
\item{}1, 2, 3, 4, 5, \textellipsis{} as its third differences.%
\item{}1, 2, 4, 8, 16, \textellipsis{} as its 100th differences.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:eRM-back}{6}}{}{}{p:exercise:pqR}%
Consider the sequence \(1, 3, 7, 13, 21, \ldots\). Explain how you know the closed formula for the sequence will be quadratic. Then ``guess'' the correct formula by comparing this sequence to the squares \(1, 4, 9, 16, \ldots\) (do not use polynomial fitting).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:KYV-back}{7}}{}{}{p:exercise:Vya}%
Use a similar technique as in the previous exercise to find a closed formula for the sequence \(2, 11, 34, 77, 146, 247,\ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15415-back}{8}}{}{}{x:exercise:ex-quad-diff}%
Suppose \(a_n = n^2 + 3n + 4\text{.}\) Find a closed formula for the sequence of differences by computing \(a_n - a_{n-1}\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Xnn-back}{9}}{}{}{p:exercise:hMs}%
Generalize \hyperlink{x:exercise:ex-quad-diff}{Exercise~2.3.8}: Find a closed formula for the sequence of differences of \(a_n = an^2 + bn + c\). That is, prove that every quadratic sequence has arithmetic differences.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Duw-back}{10}}{}{}{p:exercise:NTB}%
Can you use polynomial fitting to find the formula for the \(n\)th term of the sequence 4, 7, 11, 18, 29, 47, \textellipsis{}? Explain why or why not.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:jBF-back}{11}}{}{}{p:exercise:uaK}%
Will the \(n\)th sequence of differences of \(2, 6, 18, 54, 162, \ldots\) ever be constant? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{12}{}{}{p:exercise:ahT}%
In their down time, ghost pirates enjoy stacking cannonballs in triangular based pyramids (aka, tetrahedrons), like those pictured here:%
\begin{sidebyside}{3}{0.08}{0.08}{0.16}%
\begin{sbspanel}{0.08}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \draw (0,0) circle (10pt);
  \draw[very thin, color=brown!15] (0,0) circle (10pt);
  \shade[shading=axis,bottom color=black!70!brown, top color=black!15, shading angle=-40] (0,0) circle (10pt);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \foreach \pos in {(-.32, .2), (.32,.2), (0,.55), (0,0)}{
  \draw[very thin, color=brown!15] \pos circle (10pt);
  \shade[shading=axis,bottom color=black!70!brown, top color=black!15, shading angle=-40] \pos circle (10pt);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.26}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \foreach \pos in {(-.64, .4), (.64,.4), (-.37, .75), (.37,.75), (0, 1.2), (-.32, .2), (.32,.2), (0,.6), (0,0)}{
  \draw[very thin, color=brown!15] \pos circle (10pt);
  \shade[shading=axis,bottom color=black!70!brown, top color=black!15, shading angle=-40] \pos circle (10pt);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Note, these are solid tetrahedrons, so there will be some cannonballs obscured from view (the picture on the right has one cannonball in the back not shown in the picture, for example)%
\par
The pirates wonder how many cannonballs would be required to build a pyramid 15 layers high (thus breaking the world cannonball stacking record). Can you help?%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(P(n)\) denote the number of cannonballs needed to create a pyramid \(n\) layers high. So \(P(1) = 1\), \(P(2) = 4\), and so on. Calculate \(P(3)\), \(P(4)\) and \(P(5)\).%
\item{}Use polynomial fitting to find a closed formula for \(P(n)\). Show your work.%
\item{}Answer the pirate's question: how many cannonballs do they need to make a pyramid 15 layers high?%
\item{}Bonus: Locate this sequence in Pascal's triangle. Why does that make sense?%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 2.4 Solving Recurrence Relations}
\typeout{************************************************}
%
\begin{sectionptx}{Solving Recurrence Relations}{}{Solving Recurrence Relations}{}{}{x:section:sec_recurrence}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:wKZ}%
Consider the recurrence relation%
\begin{equation*}
a_n = 5a_{n-1} - 6a_{n-2}\text{.}
\end{equation*}
%
\begin{enumerate}
\item{}What sequence do you get if the initial conditions are \(a_0 = 1\), \(a_1 = 2\)? Give a closed formula for this sequence.%
\item{}What sequence do you get if the initial conditions are \(a_0 = 1\), \(a_1 = 3\)? Give a closed formula.%
\item{}What if \(a_0 = 2\) and \(a_1 = 5\)? Find a closed formula.%
\end{enumerate}
%
\end{investigation}
We have seen that it is often easier to find recursive definitions than closed formulas. Lucky for us, there are a few techniques for converting recursive definitions to closed formulas. Doing so is called \terminology{solving a recurrence relation}. Recall that the recurrence relation is a recursive definition without the initial conditions. For example, the recurrence relation for the Fibonacci sequence \index{Fibonacci sequence} is \(F_n = F_{n-1} + F_{n-2}\). (This, together with the initial conditions \(F_0 = 0\) and \(F_1 = 1\) give the entire recursive \emph{definition} for the sequence.)%
\begin{example}{}{p:example:LTX}%
Find a recurrence relation and initial conditions for \(1, 5, 17, 53, 161, 485\ldots\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:cSi}{}~~%
Finding the recurrence relation would be easier if we had some context for the problem (like the Tower of Hanoi, for example). Alas, we have only the sequence. Remember, the recurrence relation tells you how to get from previous terms to future terms. What is going on here? We could look at the differences between terms: \(4, 12, 36, 108, \ldots\). Notice that these are growing by a factor of 3. Is the original sequence as well? \(1\cdot 3 = 3\), \(5 \cdot 3 = 15\), \(17 \cdot 3 = 51\) and so on. It appears that we always end up with 2 less than the next term. Aha!%
\par
So \(a_n = 3a_{n-1} + 2\) is our recurrence relation and the initial condition is \(a_0 = 1\).%
\end{example}
We are going to try to \emph{solve} these recurrence relations. By this we mean something very similar to solving differential equations: we want to find a function of \(n\) (a closed formula) which satisfies the recurrence relation, as well as the initial condition.\footnote{Recurrence relations are sometimes called difference equations since they can describe the difference between terms and this highlights the relation to differential equations further.\label{g:fn:idm15530}} Just like for differential equations, finding a solution might be tricky, but checking that the solution is correct is easy.%
\begin{example}{}{p:example:sbg}%
Check that \(a_n = 2^n + 1\) is a solution to the recurrence relation \(a_n = 2a_{n-1} - 1\) with \(a_1 = 3\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:IZr}{}~~%
First, it is easy to check the initial condition: \(a_1\) should be \(2^1 + 1\) according to our closed formula. Indeed, \(2^1 + 1 = 3\), which is what we want. To check that our proposed solution satisfies the recurrence relation, try plugging it in.%
\begin{align*}
2a_{n-1} - 1 \amp = 2(2^{n-1} + 1) - 1\\
\amp = 2^n + 2 - 1\\
\amp = 2^n +1\\
\amp = a_n\text{.}
\end{align*}
%
\par
That's what our recurrence relation says! We have a solution.%
\end{example}
Sometimes we can be clever and solve a recurrence relation by inspection. We generate the sequence using the recurrence relation and keep track of what we are doing so that we can see how to jump to finding just the \(a_n\) term. Here are two examples of how you might do that.%
\par
\terminology{Telescoping} \index{telescoping} refers to the phenomenon when many terms in a large sum cancel out - so the sum ``telescopes.'' For example:%
\begin{equation*}
(2 - 1) + (3 - 2) + (4 - 3) + \cdots + (100 - 99) + (101 - 100) = -1 + 101
\end{equation*}
because every third term looks like: \(2 + -2 = 0\), and then \(3 + -3 = 0\) and so on.%
\par
We can use this behavior to solve recurrence relations. Here is an example.%
\begin{example}{}{p:example:Yip}%
Solve the recurrence relation \(a_n = a_{n-1} + n\) with initial term \(a_0 = 4\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:pgA}{}~~%
To get a feel for the recurrence relation, write out the first few terms of the sequence: \(4, 5, 7, 10, 14, 19, \ldots\). Look at the difference between terms. \(a_1 - a_0 = 1\) and \(a_2 - a_1 = 2\) and so on. The key thing here is that the difference between terms is \(n\). We can write this explicitly: \(a_n - a_{n-1} = n\). Of course, we could have arrived at this conclusion directly from the recurrence relation by subtracting \(a_{n-1}\) from both sides.%
\par
Now use this equation over and over again, changing \(n\) each time:%
\begin{align*}
a_1 - a_0 \amp = 1\\
a_2 - a_1 \amp = 2\\
a_3 - a_2 \amp = 3\\
\vdots \quad \amp \quad \vdots\\
a_n - a_{n-1} \amp = n\text{.}
\end{align*}
%
\par
Add all these equations together. On the right-hand side, we get the sum \(1 + 2 + 3 + \cdots + n\). We already know this can be simplified to \(\frac{n(n+1)}{2}\). What happens on the left-hand side? We get%
\begin{equation*}
(a_1 - a_0) + (a_2 - a_1) + (a_3 - a_2) + \cdots (a_{n-1} - a_{n-2})+ (a_n - a_{n-1})\text{.}
\end{equation*}
%
\par
This sum telescopes. We are left with only the \(-a_0\) from the first equation and the \(a_n\) from the last equation. Putting this all together we have \(-a_0 + a_n = \frac{n(n+1)}{2}\) or \(a_n = \frac{n(n+1)}{2} + a_0\). But we know that \(a_0 = 4\). So the solution to the recurrence relation, subject to the initial condition is%
\begin{equation*}
a_n = \frac{n(n+1)}{2} + 4\text{.}
\end{equation*}
%
\par
(Now that we know that, we should notice that the sequence is the result of adding 4 to each of the triangular numbers.)%
\end{example}
The above example shows a way to solve recurrence relations of the form \(a_n = a_{n-1} + f(n)\) where \(\sum_{k = 1}^n f(k)\) has a known closed formula. If you rewrite the recurrence relation as \(a_n - a_{n-1} = f(n)\), and then add up all the different equations with \(n\) ranging between 1 and \(n\), the left-hand side will always give you \(a_n - a_0\). The right-hand side will be \(\sum_{k = 1}^n f(k)\), which is why we need to know the closed formula for that sum.%
\par
However, telescoping will not help us with a recursion such as \(a_n = 3a_{n-1} + 2\) since the left-hand side will not telescope. You will have \(-3a_{n-1}\)'s but only one \(a_{n-1}\). However, we can still be clever if we use \terminology{iteration}.%
\par
We have already seen an example of iteration when we found the closed formula for arithmetic and geometric sequences. The idea is, we \emph{iterate} \index{iteration} the process of finding the next term, starting with the known initial condition, up until we have \(a_n\). Then we simplify. In the arithmetic sequence example, we simplified by multiplying \(d\) by the number of times we add it to \(a\) when we get to \(a_n\), to get from \(a_n = a + d + d + d + \cdots + d\) to \(a_n = a + dn\).%
\par
To see how this works, let's go through the same example we used for telescoping, but this time use iteration.%
\begin{example}{}{p:example:Epy}%
Use iteration to solve the recurrence relation \(a_n = a_{n-1} + n\) with \(a_0 = 4\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:VnJ}{}~~%
Again, start by writing down the recurrence relation when \(n = 1\). This time, don't subtract the \(a_{n-1}\) terms to the other side:%
\begin{equation*}
a_1 = a_0 + 1\text{.}
\end{equation*}
%
\par
Now \(a_2 = a_1 + 2\), but we know what \(a_1\) is. By substitution, we get%
\begin{equation*}
a_2 = (a_0 + 1) + 2\text{.}
\end{equation*}
%
\par
Now go to \(a_3 = a_2 + 3\), using our known value of \(a_2\):%
\begin{equation*}
a_3 = ((a_0 + 1) + 2) + 3\text{.}
\end{equation*}
%
\par
We notice a pattern. Each time, we take the previous term and add the current index. So%
\begin{equation*}
a_n = ((((a_0 + 1) +2)+3)+\cdots + n-1) + n\text{.}
\end{equation*}
%
\par
Regrouping terms, we notice that \(a_n\) is just \(a_0\) plus the sum of the integers from \(1\) to \(n\). So, since \(a_0 = 4\),%
\begin{equation*}
a_n = 4 + \frac{n(n+1)}{2}\text{.}
\end{equation*}
%
\end{example}
Of course in this case we still needed to know formula for the sum of \(1,\ldots,n\). Let's try iteration with a sequence for which telescoping doesn't work.%
\begin{example}{}{p:example:kwH}%
Solve the recurrence relation \(a_n = 3a_{n-1} + 2\) subject to \(a_0 = 1\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:BuS}{}~~%
Again, we iterate the recurrence relation, building up to the index \(n\).%
\begin{align*}
a_1 \amp = 3a_0 + 2\\
a_2 \amp = 3(a_1) + 2 = 3(3a_0 + 2) + 2\\
a_3 \amp = 3[a_2] + 2 = 3[3(3a_0 + 2) + 2] + 2\\
\vdots \amp \qquad \vdots \qquad \qquad \vdots\\
a_n \amp = 3(a_{n-1}) + 2 = 3(3(3(3\cdots(3a_0 + 2) + 2) + 2)\cdots + 2)+ 2\text{.}
\end{align*}
%
\par
It is difficult to see what is happening here because we have to distribute all those 3's. Let's try again, this time simplifying a bit as we go.%
\begin{align*}
a_1 \amp = 3a_0 + 2\\
a_2 \amp = 3(a_1) + 2 = 3(3a_0 + 2) + 2 = 3^2a_0 + 2\cdot 3 + 2\\
a_3 \amp = 3[a_2] + 2 = 3[3^2a_0 + 2\cdot 3 + 2] + 2 = 3^3 a_0 + 2 \cdot 3^2 + 2 \cdot 3 + 2\\
\vdots \amp \qquad\quad \vdots \hspace{2in} \vdots\\
a_n \amp = 3(a_{n-1}) + 2 = 3(3^{n-1}a_0 + 2 \cdot 3^{n-2} + \cdots +2)+ 2\\
\amp \qquad \qquad = 3^n a_0 + 2\cdot 3^{n-1} + 2 \cdot 3^{n-2} + \cdots + 2\cdot 3 + 2\text{.}
\end{align*}
%
\par
Now we simplify. \(a_0 = 1\), so we have \(3^n + \langle\text{stuff}\rangle\). Note that all the other terms have a 2 in them. In fact, we have a geometric sum with first term \(2\) and common ratio \(3\). We have seen how to simplify \(2 + 2\cdot 3 + 2 \cdot 3^2 + \cdots + 2\cdot 3^{n-1}\). We get \(\frac{2-2\cdot 3^n}{-2}\) which simplifies to \(3^n - 1\). Putting this together with the first \(3^n\) term gives our closed formula:%
\begin{equation*}
a_n = 2\cdot 3^n - 1\text{.}
\end{equation*}
%
\end{example}
Iteration can be messy, but when the recurrence relation only refers to one previous term (and maybe some function of \(n\)) it can work well. However, trying to iterate a recurrence relation such as \(a_n = 2 a_{n-1} + 3 a_{n-2}\) will be way too complicated. We would need to keep track of two sets of previous terms, each of which were expressed by two previous terms, and so on. The length of the formula would grow exponentially (double each time, in fact). Luckily there happens to be a method for solving recurrence relations which works very well on relations like this.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  The Characteristic Root Technique}
\typeout{************************************************}
%
\begin{subsectionptx}{The Characteristic Root Technique}{}{The Characteristic Root Technique}{}{}{p:subsection:Hke}
\index{characteristic roots}%
Suppose we want to solve a recurrence relation expressed as a combination of the two previous terms, such as \(a_n = a_{n-1} + 6a_{n-2}\). In other words, we want to find a function of \(n\) which satisfies \(a_n - a_{n-1} - 6a_{n-2} = 0\). Now iteration is too complicated, but think just for a second what would happen if we \emph{did} iterate. In each step, we would, among other things, multiply a previous iteration by 6. So our closed formula would include \(6\) multiplied some number of times. Thus it is reasonable to guess the solution will contain parts that look geometric. Perhaps the solution will take the form \(r^n\) for some constant \(r\).%
\par
The nice thing is, we know how to check whether a formula is actually a solution to a recurrence relation: plug it in. What happens if we plug in \(r^n\) into the recursion above? We get%
\begin{equation*}
r^n - r^{n-1} - 6r^{n-2} = 0\text{.}
\end{equation*}
%
\par
Now solve for \(r\):%
\begin{equation*}
r^{n-2}(r^2 - r - 6) = 0\text{,}
\end{equation*}
so by factoring, \(r = -2\) or \(r = 3\) (or \(r = 0\), although this does not help us). This tells us that \(a_n = (-2)^n\) is a solution to the recurrence relation, as is \(a_n = 3^n\). Which one is correct? They both are, unless we specify initial conditions. Notice we could also have \(a_n = (-2)^n + 3^n\). Or \(a_n = 7(-2)^n + 4\cdot 3^n\). In fact, for any \(a\) and \(b\), \(a_n = a(-2)^n + b 3^n\) is a solution (try plugging this into the recurrence relation). To find the values of \(a\) and \(b\), use the initial conditions.%
\par
This points us in the direction of a more general technique for solving recurrence relations. Notice we will always be able to factor out the \(r^{n-2}\) as we did above. So we really only care about the other part. We call this other part the \terminology{characteristic equation} \index{characteristic equation} for the recurrence relation. We are interested in finding the roots of the characteristic equation, which are called (surprise) the \terminology{characteristic roots}.%
\begin{assemblage}{Characteristic Roots.}{p:assemblage:nrn}%
\index{characteristic roots} Given a recurrence relation \(a_n + \alpha a_{n-1} + \beta a_{n-2} = 0\), the \terminology{characteristic polynomial} is%
\begin{equation*}
x^2 + \alpha x + \beta
\end{equation*}
giving the \terminology{characteristic equation}:%
\begin{equation*}
x^2 + \alpha x + \beta = 0\text{.}
\end{equation*}
%
\par
If \(r_1\) and \(r_2\) are two distinct roots of the characteristic polynomial (i.e, solutions to the characteristic equation), then the solution to the recurrence relation is%
\begin{equation*}
a_n = ar_1^n + br_2^n\text{,}
\end{equation*}
where \(a\) and \(b\) are constants determined by the initial conditions.%
\end{assemblage}
\begin{example}{}{p:example:zFF}%
Solve the recurrence relation \(a_n = 7a_{n-1} - 10 a_{n-2}\) with \(a_0 = 2\) and \(a_1 = 3\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:hCb}{}~~%
Rewrite the recurrence relation \(a_n - 7a_{n-1} + 10a_{n-2} = 0\). Now form the characteristic equation:%
\begin{equation*}
x^2 - 7x + 10 = 0
\end{equation*}
and solve for \(x\):%
\begin{equation*}
(x - 2) (x - 5) = 0
\end{equation*}
so \(x = 2\) and \(x = 5\) are the characteristic roots. We therefore know that the solution to the recurrence relation will have the form%
\begin{equation*}
a_n = a 2^n + b 5^n\text{.}
\end{equation*}
%
\par
To find \(a\) and \(b\), plug in \(n =0\) and \(n = 1\) to get a system of two equations with two unknowns:%
\begin{align*}
2 \amp = a 2^0 + b 5^0 = a + b\\
3 \amp = a 2^1 + b 5^1 = 2a + 5b
\end{align*}
%
\par
Solving this system gives \(a = \frac{7}{3}\) and \(b = -\frac{1}{3}\) so the solution to the recurrence relation is%
\begin{equation*}
a_n = \frac{7}{3}2^n - \frac{1}{3} 5^n\text{.}
\end{equation*}
%
\end{example}
Perhaps the most famous recurrence relation is \(F_n = F_{n-1} + F_{n-2}\), which together with the initial conditions \(F_0 = 0\) and \(F_1= 1\) defines the Fibonacci sequence. \index{Fibonacci sequence} But notice that this is precisely the type of recurrence relation on which we can use the characteristic root technique. When you do, the only thing that changes is that the characteristic equation does not factor, so you need to use the quadratic formula to find the characteristic roots. In fact, doing so gives the third most famous irrational number, \(\varphi\), the \terminology{golden ratio}.%
\par
Before leaving the characteristic root technique, we should think about what might happen when you solve the characteristic equation. We have an example above in which the characteristic polynomial has two distinct roots. These roots can be integers, or perhaps irrational numbers (requiring the quadratic formula to find them). In these cases, we know what the solution to the recurrence relation looks like.%
\par
However, it is possible for the characteristic polynomial to have only one root. This can happen if the characteristic polynomial factors as \((x - r)^2\). It is still the case that \(r^n\) would be a solution to the recurrence relation, but we won't be able to find solutions for all initial conditions using the general form \(a_n = ar_1^n + br_2^n\), since we can't distinguish between \(r_1^n\) and \(r_2^n\). We are in luck though:%
\begin{assemblage}{Characteristic Root Technique for Repeated Roots.}{x:assemblage:asmb-char-rep-roots}%
Suppose the recurrence relation \(a_n = \alpha a_{n-1} + \beta a_{n-2}\) has a characteristic polynomial with only one root \(r\). Then the solution to the recurrence relation is%
\begin{equation*}
a_n = ar^n + bnr^n
\end{equation*}
where \(a\) and \(b\) are constants determined by the initial conditions.%
\end{assemblage}
Notice the extra \(n\) in \(bnr^n\). This allows us to solve for the constants \(a\) and \(b\) from the initial conditions.%
\begin{example}{}{p:example:fMO}%
Solve the recurrence relation \(a_n = 6a_{n-1} - 9a_{n-2}\) with initial conditions \(a_0 = 1\) and \(a_1 = 4\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:NJk}{}~~%
The characteristic polynomial is \(x^2 - 6x + 9\). We solve the characteristic equation%
\begin{equation*}
x^2 - 6x + 9 = 0
\end{equation*}
by factoring:%
\begin{equation*}
(x - 3)^2 = 0
\end{equation*}
so \(x =3\) is the only characteristic root. Therefore we know that the solution to the recurrence relation has the form%
\begin{equation*}
a_n = a 3^n + bn3^n
\end{equation*}
for some constants \(a\) and \(b\). Now use the initial conditions:%
\begin{align*}
a_0 = 1 \amp = a 3^0 + b\cdot 0 \cdot 3^0 = a\\
a_1 = 4 \amp = a\cdot 3 + b\cdot 1 \cdot3 = 3a + 3b\text{.}
\end{align*}
Since \(a = 1\), we find that \(b = \frac{1}{3}\). Therefore the solution to the recurrence relation is%
\begin{equation*}
a_n = 3^n + \frac{1}{3}n3^n\text{.}
\end{equation*}
%
\end{example}
Although we will not consider examples more complicated than these, this characteristic root technique can be applied to much more complicated recurrence relations. For example, \(a_n = 2a_{n-1} + a_{n-2} - 3a_{n-3}\) has characteristic polynomial \(x^3 - 2 x^2 - x + 3\). Assuming you see how to factor such a degree 3 (or more) polynomial you can easily find the characteristic roots and as such solve the recurrence relation (the solution would look like \(a_n = ar_1^n + br_2^n + cr_3^n\) if there were 3 distinct roots).  It is also possible that the characteristics roots are complex numbers.%
\par
However, the characteristic root technique is only useful for solving recurrence relations in a particular form: \(a_n\) is given as a linear combination of some number of previous terms.  These recurrence relations are called \terminology{linear homogeneous recurrence relations with constant coefficients}.  The ``homogeneous'' refers to the fact that there is no additional term in the recurrence relation other than a multiple of \(a_j\) terms.  For example, \(a_n = 2a_{n-1} + 1\) is \emph{non-homogeneous} because of the additional constant 1.  There are general methods of solving such things, but we will not consider them here, other than through the use of telescoping or iteration described above.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises-sec-recurrence}
\begin{divisionexercise}{\hyperlink{p:solution:nPZ-back}{1}}{}{}{p:exercise:maM}%
Find the next two terms in \((a_n)_{n\ge 0}\) beginning \(3, 5, 11, 21, 43, 85\ldots\). Then give a recursive definition for the sequence. Finally, use the characteristic root technique to find a closed formula for the sequence.%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:ShV}%
Consider the sequences \(2, 5, 12, 29, 70, 169, 408,\ldots\) (with \(a_0 = 2\)).%
\begin{enumerate}[label=(\alph*)]
\item{}Describe the rate of growth of this sequence.%
\item{}Find a recursive definition for the sequence.%
\item{}Find a closed formula for the sequence.%
\item{}If you look at the sequence of differences between terms, and then the sequence of second differences, the sequence of third differences, and so on, will you ever get a constant sequence? Explain how you know.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:hint:idm15883-back}{3}}{}{}{p:exercise:ype}%
Solve the recurrence relation \(a_n = a_{n-1} + 2^n\) with \(a_0 = 5\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:glA-back}{4}}{}{}{p:exercise:ewn}%
Show that \(4^n\) is a solution to the recurrence relation \(a_n = 3a_{n-1} + 4a_{n-2}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15932-back}{5}}{}{}{p:exercise:KDw}%
Find the solution to the recurrence relation \(a_n = 3a_{n-1} + 4a_{n-2}\) with initial terms \(a_0 = 2\) and \(a_1 = 3\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15963-back}{6}}{}{}{p:exercise:qKF}%
Find the solution to the recurrence relation \(a_n = 3a_{n-1} + 4a_{n-2}\) with initial terms \(a_0 = 5\) and \(a_1 = 8\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm15998-back}{7}}{}{}{p:exercise:WRO}%
Solve the recurrence relation \(a_n = 3a_{n-1} + 10a_{n-2}\) with initial terms \(a_0 = 4\) and \(a_1 = 1\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:CYX}%
Suppose that \(r^n\) and \(q^n\) are both solutions to a recurrence relation of the form \(a_n = \alpha a_{n-1} + \beta a_{n-2}\). Prove that \(c\cdot r^n + d \cdot q^n\) is also a solution to the recurrence relation, for any constants \(c, d\).%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:jgg}%
Think back to the magical candy machine at your neighborhood grocery store. Suppose that the first time a quarter is put into the machine 1 Skittle comes out. The second time, 4 Skittles, the third time 16 Skittles, the fourth time 64 Skittles, etc.%
\begin{enumerate}[label=(\alph*)]
\item{}Find both a recursive and closed formula for how many Skittles the \emph{n}th customer gets.%
\item{}Check your solution for the closed formula by solving the recurrence relation using the Characteristic Root technique.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:EOk-back}{10}}{}{}{p:exercise:Pnp}%
Let \(a_n\) be the number of \(1 \times n\) tile designs you can make using \(1 \times 1\) squares available in 4 colors and \(1 \times 2\) dominoes available in 5 colors.%
\begin{enumerate}[label=(\alph*)]
\item{}First, find a recurrence relation to describe the problem. Explain why the recurrence relation is correct (in the context of the problem).%
\item{}Write out the first 6 terms of the sequence \(a_1, a_2, \ldots\).%
\item{}Solve the recurrence relation. That is, find a closed formula for \(a_n\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:vuy}%
You have access to \(1 \times 1\) tiles which come in 2 different colors and \(1\times 2\) tiles which come in 3 different colors. We want to figure out how many different \(1 \times n\) path designs we can make out of these tiles.%
\begin{enumerate}[label=(\alph*)]
\item{}Find a recursive definition for the sequence \(a_n\) of paths of length \(n\).%
\item{}Solve the recurrence relation using the Characteristic Root technique.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:kVt-back}{12}}{}{}{p:exercise:bBH}%
Solve the recurrence relation \(a_n = 2a_{n-1} - a_{n-2}\).%
\begin{enumerate}[label=(\alph*)]
\item{}What is the solution if the initial terms are \(a_0 = 1\) and \(a_1 = 2\)?%
\item{}What do the initial terms need to be in order for \(a_9 = 30\)?%
\item{}For which \(x\) are there initial terms which make \(a_9 = x\)?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:HIQ}%
Consider the recurrence relation \(a_n = 4a_{n-1} - 4a_{n-2}\).%
\begin{enumerate}[label=(\alph*)]
\item{}Find the general solution to the recurrence relation (beware the repeated root).%
\item{}Find the solution when \(a_0 = 1\) and \(a_1 = 2\).%
\item{}Find the solution when \(a_0 = 1\) and \(a_1 = 8\).%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 2.5 Induction}
\typeout{************************************************}
%
\begin{sectionptx}{Induction}{}{Induction}{}{}{x:section:sec_seq-induction}
\begin{introduction}{}%
\index{induction} Mathematical induction is a proof technique, not unlike direct proof or proof by contradiction or combinatorial proof.\footnote{You might or might not be familiar with these yet. We will consider these in \hyperref[x:chapter:ch_logic]{Chapter~\ref{x:chapter:ch_logic}}.\label{g:fn:idm16119}} In other words, induction is a style of argument we use to convince ourselves and others that a mathematical statement is always true. Many mathematical statements can be proved by simply explaining what they mean. Others are very difficult to prove\textemdash{}in fact, there are relatively simple mathematical statements which nobody yet knows how to prove. To facilitate the discovery of proofs, it is important to be familiar with some standard styles of arguments. Induction is one such style. Let's start with an example:%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Stamps}
\typeout{************************************************}
%
\begin{subsectionptx}{Stamps}{}{Stamps}{}{}{x:subsection:subsec_induction-stamps}
\begin{investigation}{}{p:investigation:MwA}%
You need to mail a package, but don't yet know how much postage you will need. You have a large supply of 8-cent stamps and 5-cent stamps. Which amounts of postage can you make exactly using these stamps? Which amounts are impossible to make?%
\end{investigation}
Perhaps in investigating the problem above you picked some amounts of postage, and then figured out whether you could make that amount using just 8-cent and 5-cent stamps. Perhaps you did this in order: can you make 1 cent of postage? Can you make 2 cents? 3 cents? And so on. If this is what you did, you were actually answering a \emph{sequence} of questions. We have methods for dealing with sequences. Let's see if that helps.%
\par
Actually, we will not make a sequence of questions, but rather a sequence of statements. Let \(P(n)\) \label{g:notation:idm16130} be the statement ``you can make \(n\) cents of postage using just 8-cent and 5-cent stamps.'' Since for each value of \(n\), \(P(n)\) is a statement, it is either true or false. So if we form the sequence of statements%
\begin{equation*}
P(1), P(2), P(3), P(4), \ldots\text{,}
\end{equation*}
the sequence will consist of \(T\)'s (for true) and \(F\)'s (for false). In our particular case the sequence starts%
\begin{equation*}
F,F,F,F,T,F,F,T,F,T,F,F,T,\ldots
\end{equation*}
because \(P(1), P(2), P(3), P(4)\) are all false (you cannot make 1, 2, 3, or 4 cents of postage) but \(P(5)\) is true (use one 5-cent stamp), and so on.%
\par
Let's think a bit about how we could find the value of \(P(n)\) for some specific \(n\) (the ``value'' will be either \(T\) or \(F\)). How did we find the value of the \(n\)th term of a sequence of numbers? How did we find \(a_n\)? There were two ways we could do this: either there was a closed formula for \(a_n\), so we could plug in \(n\) into the formula and get our output value, or we had a recursive definition for the sequence, so we could use the previous terms of the sequence to compute the \(n\)th term. When dealing with sequences of statements, we could use either of these techniques as well. Maybe there is a way to use \(n\) itself to determine whether we can make \(n\) cents of postage. That would be something like a closed formula. Or instead we could use the previous terms in the sequence (of statements) to determine whether we can make \(n\) cents of postage. That is, if we know the value of \(P(n-1)\), can we get from that to the value of \(P(n)\)? That would be something like a recursive definition for the sequence. Remember, finding recursive definitions for sequences was often easier than finding closed formulas. The same is true here.%
\par
Suppose I told you that \(P(43)\) was true (it is). Can you determine from this fact the value of \(P(44)\) (whether it true or false)? Yes you can. Even if we don't know how exactly we made 43 cents out of the 5-cent and 8-cent stamps, we do know that there was some way to do it. What if that way used at least three 5-cent stamps (making 15 cents)? We could replace those three 5-cent stamps with two 8-cent stamps (making 16 cents). The total postage has gone up by 1, so we have a way to make 44 cents, so \(P(44)\) is true. Of course, we assumed that we had at least three 5-cent stamps. What if we didn't? Then we must have at least three 8-cent stamps (making 24 cents). If we replace those three 8-cent stamps with five 5-cent stamps (making 25 cents) then again we have bumped up our total by 1 cent so we can make 44 cents, so \(P(44)\) is true.%
\par
Notice that we have not said how to make 44 cents, just that we can, on the basis that we can make 43 cents. How do we know we can make 43 cents? Perhaps because we know we can make \(42\) \label{g:notation:idm16167} cents, which we know we can do because we know we can make 41 cents, and so on. It's a recursion! As with a recursive definition of a numerical sequence, we must specify our initial value. In this case, the initial value is ``\(P(1)\) is false.'' That's not good, since our recurrence relation just says that \(P(k+1)\) is true \emph{if} \(P(k)\) is also true. We need to start the process with a true \(P(k)\). So instead, we might want to use ``\(P(28)\) is true'' as the initial condition.%
\par
Putting this all together we arrive at the following fact: it is possible to (exactly) make any amount of postage greater than 27 cents using just 5-cent and 8-cent stamps.\footnote{This is not claiming that there are no amounts less than 27 cents which can also be made.\label{g:fn:idm16179}} In other words, \(P(k)\) is true for any \(k \ge 28\). To prove this, we could do the following:%
\begin{enumerate}
\item{}Demonstrate that \(P(28)\) is true.%
\item{}Prove that if \(P(k)\) is true, then \(P(k+1)\) is true (for any \(k \ge 28\)).%
\end{enumerate}
%
\par
Suppose we have done this. Then we know that the 28th term of the sequence above is a \(T\) (using step 1, the initial condition or \terminology{base case}), and that every term after the 28th is \(T\) also (using step 2, the recursive part or \terminology{inductive case}). Here is what the proof would actually look like.%
\begin{proofptx}{}{p:proof:GHo}
Let \(P(n)\) be the statement ``it is possible to make exactly \(n\) cents of postage using 5-cent and 8-cent stamps.'' We will show \(P(n)\) is true for all \(n \ge 28\).%
\par
First, we show that \(P(28)\) is true: \(28 = 4 \cdot 5+ 1\cdot 8\), so we can make \(28\) cents using four 5-cent stamps and one 8-cent stamp.%
\par
Now suppose \(P(k)\) is true for some arbitrary \(k \ge 28\). Then it is possible to make \(k\) cents using 5-cent and 8-cent stamps. Note that since \(k \ge 28\), it cannot be that we use fewer than three 5-cent stamps \emph{and} fewer than three 8-cent stamps: using two of each would give only 26 cents. Now if we have made \(k\) cents using at least three 5-cent stamps, replace three 5-cent stamps by two 8-cent stamps. This replaces 15 cents of postage with 16 cents, moving from a total of \(k\) cents to \(k+1\) cents. Thus \(P(k+1)\) is true. On the other hand, if we have made \(k\) cents using at least three 8-cent stamps, then we can replace three 8-cent stamps with five 5-cent stamps, moving from 24 cents to 25 cents, giving a total of \(k+1\) cents of postage. So in this case as well \(P(k+1)\) is true.%
\par
Therefore, by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 28\).%
\end{proofptx}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Formalizing Proofs}
\typeout{************************************************}
%
\begin{subsectionptx}{Formalizing Proofs}{}{Formalizing Proofs}{}{}{x:subsection:subsec_induction-formproofs}
What we did in the stamp example above works for many types of problems. Proof by induction is useful when trying to prove statements about all natural numbers, or all natural numbers greater than some fixed first case (like 28 in the example above), and in some other situations too. In particular, induction should be used when there is some way to go from one case to the next \textendash{} when you can see how to always ``do one more.''%
\par
This is a big idea. Thinking about a problem \emph{inductively} can give new insight into the problem. For example, to really understand the stamp problem, you should think about how any amount of postage (greater than 28 cents) can be made (this is non-inductive reasoning) and also how the ways in which postage can be made \emph{changes} as the amount increases (inductive reasoning). When you are asked to provide a proof by induction, you are being asked to think about the problem \emph{dynamically}; how does increasing \(n\) change the problem?%
\par
But there is another side to proofs by induction as well. In mathematics, it is not enough to understand a problem, you must also be able to communicate the problem to others. Like any discipline, mathematics has standard language and style, allowing mathematicians to share their ideas efficiently. Proofs by induction have a certain formal style, and being able to write in this style is important. It allows us to keep our ideas organized and might even help us with formulating a proof.%
\par
Here is the general structure of a proof by mathematical induction:%
\begin{assemblage}{Induction Proof Structure.}{p:assemblage:UaZ}%
\index{induction} Start by saying what the statement is that you want to prove: ``Let \(P(n)\) be the statement\textellipsis{}'' To prove that \(P(n)\) is true for all \(n \ge 0\), you must prove two facts:%
\begin{enumerate}
\item{}Base case: Prove that \(P(0)\) is true. You do this directly. This is often easy.%
\item{}Inductive case: Prove that \(P(k) \imp P(k+1)\) for all \(k \ge 0\). That is, prove that for any \(k \ge 0\) if \(P(k)\) is true, then \(P(k+1)\) is true as well. This is the proof of an if \textellipsis{} then \textellipsis{} statement, so you can assume \(P(k)\) is true (\(P(k)\) is called the \emph{inductive hypothesis}). \index{inductive hypothesis} You must then explain why \(P(k+1)\) is also true, given that assumption.%
\end{enumerate}
%
\par
Assuming you are successful on both parts above, you can conclude, ``Therefore by the principle of mathematical induction, the statement \(P(n)\) is true for all \(n \ge 0\).''%
\end{assemblage}
Sometimes the statement \(P(n)\) will only be true for values of \(n \ge 4\), for example, or some other value. In such cases, replace all the 0's above with 4's (or the other value).%
\par
The other advantage of formalizing inductive proofs is it allows us to verify that the logic behind this style of argument is valid. Why does induction work? Think of a row of dominoes set up standing on their edges. We want to argue that in a minute, all the dominoes will have fallen down. For this to happen, you will need to push the first domino. That is the base case. It will also have to be that the dominoes are close enough together that when any particular domino falls, it will cause the next domino to fall. That is the inductive case. If both of these conditions are met, you push the first domino over and each domino will cause the next to fall, then all the dominoes will fall.%
\par
Induction is powerful! Think how much easier it is to knock over dominoes when you don't have to push over each domino yourself. You just start the chain reaction, and the rely on the relative nearness of the dominoes to take care of the rest.%
\par
Think about our study of sequences. It is easier to find recursive definitions for sequences than closed formulas. Going from one case to the next is easier than going directly to a particular case. That is what is so great about induction. Instead of going directly to the (arbitrary) case for \(n\), we just need to say how to get from one case to the next.%
\par
When you are asked to prove a statement by mathematical induction, you should first think about \emph{why} the statement is true, using inductive reasoning. Explain why induction is the right thing to do, and roughly why the inductive case will work. Then, sit down and write out a careful, formal proof using the structure above.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Examples}
\typeout{************************************************}
%
\begin{subsectionptx}{Examples}{}{Examples}{}{}{x:subsection:subsec_induction-examples}
Here are some examples of proof by mathematical induction.%
\begin{example}{}{p:example:sDJ}%
Prove for each natural number \(n \ge 1\) that \(1 + 2 + 3 + \cdots + n = \frac{n(n+1)}{2}\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:JBU}{}~~%
First, let's think inductively about this equation. In fact, we know this is true for other reasons (reverse and add comes to mind). But why might induction be applicable? The left-hand side adds up the numbers from 1 to \(n\). If we know how to do that, adding just one more term (\(n+1\)) would not be that hard. For example, if \(n = 100\), suppose we know that the sum of the first 100 numbers is \(5050\) (so \(1 + 2 + 3 + \cdots + 100 = 5050\), which is true). Now to find the sum of the first 101 numbers, it makes more sense to just add 101 to 5050, instead of computing the entire sum again. We would have \(1 + 2 + 3 + \cdots + 100 + 101 = 5050 + 101 = 5151\). In fact, it would always be easy to add just one more term. This is why we should use induction.%
\par
Now the formal proof:%
\begin{proofptx}{}{p:proof:pJd}
Let \(P(n)\) be the statement \(1 + 2 + 3 + \cdots + n = \frac{n(n+1)}{2}\). We will show that \(P(n)\) is true for all natural numbers \(n \ge 1\).%
\par
Base case: \(P(1)\) is the statement \(1 = \frac{1(1+1)}{2}\) which is clearly true.%
\par
Inductive case: Let \(k \ge 1\) be a natural number. Assume (for induction) that \(P(k)\) is true. That means \(1 + 2 + 3 + \cdots + k = \frac{k(k+1)}{2}\). We will prove that \(P(k+1)\) is true as well. That is, we must prove that \(1 + 2 + 3 + \cdots + k + (k+1) = \frac{(k+1)(k+2)}{2}\). To prove this equation, start by adding \(k+1\) to both sides of the inductive hypothesis:%
\begin{equation*}
1 + 2 + 3 + \cdots + k + (k+1) = \frac{k(k+1)}{2} + (k+1)\text{.}
\end{equation*}
%
\par
Now, simplifying the right side we get:%
\begin{align*}
\frac{k(k+1)}{2} + k+1 \amp = \frac{k(k+1)}{2} + \frac{2(k+1)}{2}\\
\amp = \frac{k(k+1) + 2(k+1)}{2}\\
\amp = \frac{(k+2)(k+1)}{2}\text{.}
\end{align*}
%
\par
Thus \(P(k+1)\) is true, so by the principle of mathematical induction \(P(n)\) is true for all natural numbers \(n \ge 1\).%
\end{proofptx}
\end{example}
Note that in the part of the proof in which we proved \(P(k+1)\) from \(P(k)\), we used the equation \(P(k)\). This was the inductive hypothesis. Seeing how to use the inductive hypotheses is usually straight forward when proving a fact about a sum like this. In other proofs, it can be less obvious where it fits in.%
\begin{example}{}{p:example:YKS}%
Prove that for all \(n \in \N\), \(6^n - 1\) is a multiple of 5.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:VQm}{}~~%
Again, start by understanding the dynamics of the problem. What does increasing \(n\) do? Let's try with a few examples. If \(n = 1\), then yes, \(6^1 - 1 = 5\) is a multiple of 5. What does incrementing \(n\) to 2 look like? We get \(6^2 - 1 = 35\), which again is a multiple of 5. Next, \(n = 3\): but instead of just finding \(6^3 - 1\), what did the increase in \(n\) do? We will still subtract 1, but now we are multiplying by another 6 first. Viewed another way, we are multiplying a number which is one more than a multiple of 5 by 6 (because \(6^2 - 1\) is a multiple of 5, so \(6^2\) is one more than a multiple of 5). What do numbers which are one more than a multiple of 5 look like? They must have last digit 1 or 6. What happens when you multiply such a number by 6? Depends on the number, but in any case, the last digit of the new number must be a 6. And then if you subtract 1, you get last digit 5, so a multiple of 5.%
\par
The point is, every time we multiply by just one more six, we still get a number with last digit 6, so subtracting 1 gives us a multiple of 5. Now the formal proof:%
\begin{proofptx}{}{p:proof:BXv}
Let \(P(n)\) be the statement, ``\(6^n - 1\) is a multiple of 5.'' We will prove that \(P(n)\) is true for all \(n \in \N\).%
\par
Base case: \(P(0)\) is true: \(6^0 -1 = 0\) which is a multiple of 5.%
\par
Inductive case: Let \(k\) be an arbitrary natural number. Assume, for induction, that \(P(k)\) is true. That is, \(6^k - 1\) is a multiple of \(5\). Then \(6^k - 1 = 5j\) for some integer \(j\). This means that \(6^k = 5j + 1\). Multiply both sides by \(6\):%
\begin{equation*}
6^{k+1} = 6(5j+1) = 30j + 6\text{.}
\end{equation*}
%
\par
But we want to know about \(6^{k+1} - 1\), so subtract 1 from both sides:%
\begin{equation*}
6^{k+1} - 1 = 30j + 5\text{.}
\end{equation*}
%
\par
Of course \(30j+5 = 5(6j+1)\), so is a multiple of 5.%
\par
Therefore \(6^{k+1} - 1\) is a multiple of 5, or in other words, \(P(k+1)\) is true. Thus, by the principle of mathematical induction \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{example}
We had to be a little bit clever (i.e., use some algebra) to locate the \(6^k - 1\) inside of \(6^{k+1} - 1\) before we could apply the inductive hypothesis. This is what can make inductive proofs challenging.%
\par
In the two examples above, we started with \(n = 1\) or \(n = 0\). We can start later if we need to.%
\begin{example}{}{p:example:ESb}%
Prove that \(n^2 \lt 2^n\) for all integers \(n \ge 5\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ieE}{}~~%
First, the idea of the argument. What happens when we increase \(n\) by 1? On the left-hand side, we increase the base of the square and go to the next square number. On the right-hand side, we increase the power of 2. This means we double the number. So the question is, how does doubling a number relate to increasing to the next square? Think about what the difference of two consecutive squares looks like. We have \((n+1)^2 - n^2\). This factors:%
\begin{equation*}
(n+1)^2 - n^2 = (n+1-n)(n+1+n) = 2n+1\text{.}
\end{equation*}
%
\par
But doubling the right-hand side increases it by \(2^n\), since \(2^{n+1} = 2^n + 2^n\). When \(n\) is large enough, \(2^n > 2n + 1\).%
\par
What we are saying here is that each time \(n\) increases, the left-hand side grows by less than the right-hand side. So if the left-hand side starts smaller (as it does when \(n = 5\)), it will never catch up. Now the formal proof:%
\begin{proofptx}{}{p:proof:OlN}
Let \(P(n)\) be the statement \(n^2 \lt 2^n\). We will prove \(P(n)\) is true for all integers \(n \ge 5\).%
\par
Base case: \(P(5)\) is the statement \(5^2 \lt 2^5\). Since \(5^2 = 25\) and \(2^5 = 32\), we see that \(P(5)\) is indeed true.%
\par
Inductive case: Let \(k \ge 5\) be an arbitrary integer. Assume, for induction, that \(P(k)\) is true. That is, assume \(k^2 \lt  2^k\). We will prove that \(P(k+1)\) is true, i.e., \((k+1)^2 \lt  2^{k+1}\). To prove such an inequality, start with the left-hand side and work towards the right-hand side:%
\begin{align*}
(k+1)^2 \amp = k^2 + 2k + 1 \amp\\
\amp \lt 2^k + 2k + 1 \amp \ldots\text{by the inductive hypothesis.}\\
\amp \lt 2^k + 2^k \amp \ldots\text{ since } 2k + 1 \lt  2^k \text{ for }k \ge 5.\\
\amp = 2^{k+1}. \amp
\end{align*}
%
\par
Following the equalities and inequalities through, we get \((k+1)^2 \lt 2^{k+1}\), in other words, \(P(k+1)\). Therefore by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 5\).%
\end{proofptx}
\end{example}
The previous example might remind you of the \emph{racetrack principle} from calculus, which says that if \(f(a) \lt g(a)\), and \(f'(x) \lt g'(x)\) for \(x >
a\), then \(f(x) \lt g(x)\) for \(x > a\). Same idea: the larger function is increasing at a faster rate than the smaller function, so the larger function will stay larger. In discrete math, we don't have derivatives, so we look at differences. Thus induction is the way to go.%
\begin{paragraphs}{Warning:.}{p:paragraphs:Aii}%
With great power, comes great responsibility. Induction isn't magic. It seems very powerful to be able to assume \(P(k)\) is true. After all, we are trying to prove \(P(n)\) is true and the only difference is in the variable: \(k\) vs. \(n\). Are we assuming that what we want to prove is true? Not really. We assume \(P(k)\) is true only for the sake of proving that \(P(k+1)\) is true.%
\par
Still you might start to believe that you can prove anything with induction. Consider this incorrect ``proof'' that every Canadian \index{Canadians} has the same eye color: Let \(P(n)\) be the statement that any \(n\) Canadians have the same eye color. \(P(1)\) is true, since everyone has the same eye color as themselves. Now assume \(P(k)\) is true. That is, assume that in any group of \(k\) Canadians, everyone has the same eye color. Now consider an arbitrary group of \(k+1\) Canadians. The first \(k\) of these must all have the same eye color, since \(P(k)\) is true. Also, the last \(k\) of these must have the same eye color, since \(P(k)\) is true. So in fact, everyone the group must have the same eye color. Thus \(P(k+1)\) is true. So by the principle of mathematical induction, \(P(n)\) is true for all \(n\).%
\par
Clearly something went wrong. The problem is that the proof that \(P(k)\) implies \(P(k+1)\) assumes that \(k \ge 2\). We have only shown \(P(1)\) is true. In fact, \(P(2)\) is false.%
\end{paragraphs}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Strong Induction}
\typeout{************************************************}
%
\begin{subsectionptx}{Strong Induction}{}{Strong Induction}{}{}{x:subsection:subsec_induction-strong}
\begin{investigation}{}{p:investigation:xnC}%
Start with a square piece of paper. You want to cut this square into smaller squares, leaving no waste (every piece of paper you end up with must be a square). Obviously it is possible to cut the square into 4 squares. You can also cut it into 9 squares. It turns out you can cut the square into 7 squares (although not all the same size). What other numbers of squares could you end up with?%
\end{investigation}
Sometimes, to prove that \(P(k+1)\) is true, it would be helpful to know that \(P(k)\) \emph{and} \(P(k-1)\) \emph{and} \(P(k-2)\) are all true. Consider the following puzzle:%
\begin{quote}%
You have a rectangular chocolate bar, made up of \(n\) identical squares of chocolate. You can take such a bar and break it along any row or column. How many times will you have to break the bar to reduce it to \(n\) single chocolate squares?%
\end{quote}
At first, this question might seem impossible. Perhaps I meant to ask for the \emph{smallest} number of breaks needed? Let's investigate.%
\par
Start with some small cases. If \(n=2\), you must have a \(1\times 2\) rectangle, which can be reduced to single pieces in one break. With \(n=3\), we must have a \(1\times 3\) bar, which requires two breaks: the first break creates a single square and a \(1\times 2\) bar, which we know takes one (more) break.%
\par
What about \(n=4\)? Now we could have a \(2\times 2\) bar, or a \(1 \times 4\) bar. In the first case, break the bar into two \(2\times 2\) bars, each which require one more break (that's a total of three breaks required). If we started with a \(1 \times 4\) bar, we have choices for our first break. We could break the bar in half, creating two \(1\times 2\) bars, or we could break off a single square, leaving a \(1\times 3\) bar. But either way, we still need two more breaks, giving a total of three.%
\par
It is starting to look like no matter how we break the bar (and no matter how the \(n\) squares are arranged into a rectangle), we will always have the same number of breaks required. It also looks like that number is one less than \(n\):%
\begin{conjecture}{}{}{p:conjecture:kZk}%
Given a \(n\)-square rectangular chocolate bar, it always takes \(n-1\) breaks to reduce the bar to single squares.%
\end{conjecture}
It makes sense to prove this by induction because after breaking the bar once, you are left with \emph{smaller} chocolate bars. Reducing to smaller cases is what induction is all about. We can inductively assume we already know how to deal with these smaller bars. The problem is, if we are trying to prove the inductive case about a \((k+1)\)-square bar, we don't know that after the first break the remaining bar will have \(k\) squares. So we really need to assume that our conjecture is true for all cases less than \(k+1\).%
\par
Is it valid to make this stronger assumption? Remember, in induction we are attempting to prove that \(P(n)\) is true for all \(n\). What if that were not the case? Then there would be some first \(n_0\) for which \(P(n_0)\) was false. Since \(n_0\) is the \emph{first} counterexample, we know that \(P(n)\) is true for all \(n \lt n_0\). Now we proceed to prove that \(P(n_0)\) is actually true, based on the assumption that \(P(n)\) is true for all smaller \(n\).%
\par
This is quite an advantage: we now have a stronger inductive hypothesis. We can assume that \(P(1)\), \(P(2)\), \(P(3)\), \textellipsis{} \(P(k)\) is true, just to show that \(P(k+1)\) is true. Previously, we just assumed \(P(k)\) for this purpose.%
\par
It is slightly easier if we change our variables for strong induction. Here is what the formal proof would look like:%
\begin{assemblage}{Strong Induction Proof Structure.}{p:assemblage:gpr}%
Again, start by saying what you want to prove: ``Let \(P(n)\) be the statement\textellipsis{}'' Then establish two facts:%
\begin{enumerate}
\item{}Base case: Prove that \(P(0)\) is true.%
\item{}Inductive case: Assume \(P(k)\) is true for all \(k \lt n\). Prove that \(P(n)\) is true.%
\end{enumerate}
Conclude, ``therefore, by strong induction, \(P(n)\) is true for all \(n \gt 0\).''%
\end{assemblage}
Of course, it is acceptable to replace 0 with a larger base case if needed.\footnote{Technically, strong induction does not require you to prove a separate base case. This is because when proving the inductive case, you must show that \(P(0)\) is true, assuming \(P(k)\) is true for all \(k \lt 0\). But this is not any help so you end up proving \(P(0)\) anyway. To be on the safe side, we will always include the base case separately.\label{g:fn:idm16552}}%
\par
Let's prove our conjecture about the chocolate bar puzzle:%
\begin{proofptx}{}{p:proof:mOx}
Let \(P(n)\) be the statement, ``it takes \(n-1\) breaks to reduce a \(n\)-square chocolate bar to single squares.''%
\par
Base case: Consider \(P(2)\). The squares must be arranged into a \(1\times 2\) rectangle, and we require \(2-1 = 1\) breaks to reduce this to single squares.%
\par
Inductive case: Fix an arbitrary \(n\ge 2\) and assume \(P(k)\) is true for all \(k \lt n\). Consider a \(n\)-square rectangular chocolate bar. Break the bar once along any row or column. This results in two chocolate bars, say of sizes \(a\) and \(b\). That is, we have an \(a\)-square rectangular chocolate bar, a \(b\)-square rectangular chocolate bar, and \(a+b = n\).%
\par
We also know that \(a \lt n\) and \(b \lt n\), so by our inductive hypothesis, \(P(a)\) and \(P(b)\) are true. To reduce the \(a\)-sqaure bar to single squares takes \(a-1\) breaks; to reduce the \(b\)-square bar to single squares takes \(b-1\) breaks. Doing this results in our original bar being reduced to single squares. All together it took the initial break, plus the \(a-1\) and \(b-1\) breaks, for a total of \(1+a-1+b-1 = a+b-1 = n-1\) breaks. Thus \(P(n)\) is true.%
\par
Therefore, by strong induction, \(P(n)\) is true for all \(n \ge 2\).%
\end{proofptx}
Here is a more mathematically relevant example:%
\begin{example}{}{p:example:Rgt}%
Prove that any natural number greater than 1 is either prime \index{prime numbers} or can be written as the product of primes.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:usW}{}~~%
First, the idea: if we take some number \(n\), maybe it is prime. If so, we are done. If not, then it is composite, so it is the product of two smaller numbers. Each of these factors is smaller than \(n\) (but at least 2), so we can repeat the argument with these numbers. We have reduced to a smaller case.%
\par
Now the formal proof:%
\begin{proofptx}{}{p:proof:aAf}
Let \(P(n)\) be the statement, ``\(n\) is either prime or can be written as the product of primes.'' We will prove \(P(n)\) is true for all \(n \ge 2\).%
\par
Base case: \(P(2)\) is true because \(2\) is indeed prime.%
\par
Inductive case: assume \(P(k)\) is true for all \(k \lt n\). We want to show that \(P(n)\) is true. That is, we want to show that \(n\) is either prime or is the product of primes. If \(n\) is prime, we are done. If not, then \(n\) has more than 2 divisors, so we can write \(n = m_1 \cdot m_2\), with \(m_1\) and \(m_2\) less than \(n\) (and greater than 1). By the inductive hypothesis, \(m_1\) and \(m_2\) are each either prime or can be written as the product of primes. In either case, we have that \(n\) is written as the product of primes.%
\par
Thus by the strong induction, \(P(n)\) is true for all \(n \ge 2\).%
\end{proofptx}
\end{example}
Whether you use regular induction or strong induction depends on the statement you want to prove. If you wanted to be safe, you could always use strong induction. It really is \emph{stronger}, so can accomplish everything ``weak'' induction can. That said, using regular induction is often easier since there is only one place you can use the induction hypothesis. There is also something to be said for \emph{elegance} in proofs. If you can prove a statement using simpler tools, it is nice to do so.%
\par
As a final contrast between the two forms of induction, consider once more the stamp problem. Regular induction worked by showing how to increase postage by one cent (either replacing three 5-cent stamps with two 8-cent stamps, or three 8-cent stamps with five 5-cent stamps). We could give a slightly different proof using strong induction. First, we could show \emph{five} base cases: it is possible to make 28, 29, 30, 31, and 32 cents (we would actually say how each of these is made). Now assume that it is possible to make \(k\) cents of postage for all \(k \lt n\) as long as \(k \ge 28\). As long as \(n > 32\), this means in particular we can make \(k = n-5\) cents. Now add a 5-cent stamp to get make \(n\) cents.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_seq-induction}
\begin{divisionexercise}{\hyperlink{p:solution:Mls-back}{1}}{}{}{p:exercise:Qlr}%
On the way to the market, you exchange your cow for some magic dark chocolate espresso beans. These beans have the property that every night at midnight, each bean splits into two, effectively doubling your collection. You decide to take advantage of this and each morning (around 8am) you eat 5 beans.%
\begin{enumerate}[label=(\alph*)]
\item{}Explain why it is true that \emph{if} at noon on day \(n\) you have a number of beans ending in a 5, then at noon on day \(n+1\) you will still have a number of beans ending in a 5.%
\item{}Why is the previous fact not enough to conclude that you will always have a number of beans ending in a 5? What additional fact would you need?%
\item{}Assuming you have the additional fact in part (b), and have successfully proved the fact in part (a), how do you know that you will always have a number of beans ending in a 5? Illustrate what is going on by carefully explaining how the two facts above prove that you will have a number of beans ending in a 5 on \emph{day 4} specifically. In other words, explain why induction works in this context.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ssB-back}{2}}{}{}{p:exercise:wsA}%
Use induction to prove for all \(n \in \N\) that \(\d\sum_{k=0}^n 2^k = 2^{n+1} - 1\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:EGT-back}{3}}{}{}{p:exercise:czJ}%
Prove that \(7^n - 1\) is a multiple of 6 for all \(n \in \N\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:QVl-back}{4}}{}{}{p:exercise:IGS}%
Prove that \(1 + 3 + 5 + \cdots + (2n-1) = n^2\) for all \(n \ge 1\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:djD-back}{5}}{}{}{p:exercise:oOb}%
Prove that \(F_0 + F_2 + F_4 + \cdots + F_{2n} = F_{2n+1} - 1\) where \(F_n\) is the \(n\)th Fibonacci number.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:pxV-back}{6}}{}{}{p:exercise:UVk}%
Prove that \(2^n \lt n!\) for all \(n \ge 4\). (Recall, \(n! = 1\cdot 2 \cdot 3 \cdot \cdots\cdot n\).)%
\end{divisionexercise}%
\begin{divisionexercise}{7}{}{}{p:exercise:Bct}%
Prove, by mathematical induction, that \(F_0 + F_1 + F_2 + \cdots + F_{n} = F_{n+2} - 1\), where \(F_n\) is the \(n\)th Fibonacci number (\(F_0 = 0\), \(F_1 = 1\) and \(F_n = F_{n-1} + F_{n-2}\)).%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:hjC}%
Zombie Euler and Zombie Cauchy, two famous zombie mathematicians, have just signed up for Twitter accounts. After one day, Zombie Cauchy has more followers than Zombie Euler. Each day after that, the number of new followers of Zombie Cauchy is exactly the same as the number of new followers of Zombie Euler (and neither lose any followers). Explain how a proof by mathematical induction can show that on every day after the first day, Zombie Cauchy will have more followers than Zombie Euler. That is, explain what the base case and inductive case are, and why they together prove that Zombie Cauchy will have more followers on the 4th day.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:BMn-back}{9}}{}{}{p:exercise:NqL}%
Find the largest number of points which a football team cannot get exactly using just 3-point field goals and 7-point touchdowns (ignore the possibilities of safeties, missed extra points, and two point conversions). Prove your answer is correct by mathematical induction.%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:txU}%
Prove that the sum of \(n\) squares can be found as follows%
\begin{equation*}
1^2 +2^2 +3^2+...+n^2 = \frac{n(n+1)(2n+1)}{6}\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:hTw-back}{11}}{}{}{p:exercise:ZFd}%
Prove that the sum of the interior angles of a convex \(n\)-gon is \((n-2)\cdot 180^\circ\). (A convex \(n\)-gon is a polygon with \(n\) sides for which each interior angle is less than \(180^\circ\).)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:OaF-back}{12}}{}{}{p:exercise:FMm}%
What is wrong with the following ``proof'' of the ``fact'' that \(n+3 = n+7\) for all values of \(n\) (besides of course that the thing it is claiming to prove is false)?%
\begin{proofptx}{}{p:proof:uhO}
Let \(P(n)\) be the statement that \(n + 3 = n + 7\). We will prove that \(P(n)\) is true for all \(n \in \N\). Assume, for induction that \(P(k)\) is true. That is, \(k+3 = k+7\). We must show that \(P(k+1)\) is true. Now since \(k + 3 = k + 7\), add 1 to both sides. This gives \(k + 3 + 1 = k + 7 + 1\). Regrouping \((k+1) + 3 = (k+1) + 7\). But this is simply \(P(k+1)\). Thus by the principle of mathematical induction \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:aoX-back}{13}}{}{}{p:exercise:lTv}%
The proof in the previous problem does not work. But if we modify the ``fact,'' we can get a working proof. Prove that \(n + 3 \lt n + 7\) for all values of \(n \in \N\). You can do this proof with algebra (without induction), but the goal of this exercise is to write out a valid induction proof.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:mDp-back}{14}}{}{}{p:exercise:SaE}%
Find the flaw in the following ``proof'' of the ``fact'' that \(n \lt 100\) for every \(n \in \N\).%
\begin{proofptx}{}{p:proof:SKy}
Let \(P(n)\) be the statement \(n \lt 100\). We will prove \(P(n)\) is true for all \(n \in \N\). First we establish the base case: when \(n = 0\), \(P(n)\) is true, because \(0 \lt 100\). Now for the inductive step, assume \(P(k)\) is true. That is, \(k \lt 100\). Now if \(k \lt 100\), then \(k\) is some number, like 80. Of course \(80+1 = 81\) which is still less than 100. So \(k +1 \lt 100\) as well. But this is what \(P(k+1)\) claims, so we have shown that \(P(k) \imp P(k+1)\). Thus by the principle of mathematical induction, \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:yRH-back}{15}}{}{}{x:exercise:exc-seq-lessthan-100}%
While the above proof does not work (it better not since the statement it is trying to prove is false!) we can prove something similar. Prove that there is a strictly increasing sequence \(a_1, a_2, a_3, \ldots\) of numbers (not necessarily integers) such that \(a_n \lt 100\) for all \(n \in \N\). (By \terminology{strictly increasing} we mean \(a_n \lt a_{n+1}\) for all \(n\). So each term must be larger than the last.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:eYQ-back}{16}}{}{}{p:exercise:eoW}%
What is wrong with the following ``proof'' of the ``fact'' that for all \(n \in \N\), the number \(n^2 + n\) is odd?%
\begin{proofptx}{}{p:proof:LfZ}
Let \(P(n)\) be the statement ``\(n^2 + n\) is odd.'' We will prove that \(P(n)\) is true for all \(n \in \N\). Suppose for induction that \(P(k)\) is true, that is, that \(k^2 + k\) is odd. Now consider the statement \(P(k+1)\). Now \((k+1)^2 + (k+1) = k^2 + 2k + 1 + k + 1 = k^2 + k + 2k + 2\). By the inductive hypothesis, \(k^2 + k\) is odd, and of course \(2k + 2\) is even. An odd plus an even is always odd, so therefore \((k+1)^2 + (k+1)\) is odd. Therefore by the principle of mathematical induction, \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:rni-back}{17}}{}{}{p:exercise:Kwf}%
Now give a valid proof (by induction, even though you might be able to do so without using induction) of the statement, ``for all \(n \in \N\), the number \(n^2 + n\) is even.''%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Xur-back}{18}}{}{}{p:exercise:qDo}%
Prove that there is a sequence of positive real numbers \(a_0, a_1, a_2, \ldots\) such that the partial sum \(a_0 + a_1 + a_2 + \cdots + a_n\) is strictly less than \(2\) for all \(n \in \N\). Hint: think about how you could define what \(a_{k+1}\) is to make the induction argument work.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:DBA-back}{19}}{}{}{p:exercise:WKx}%
Prove that every positive integer is either a power of 2, or can be written as the sum of distinct powers of 2.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:PPS-back}{20}}{}{}{p:exercise:CRG}%
Prove, using strong induction, that every natural number is either a Fibonacci number or can be written as the \emph{sum} of \emph{distinct} Fibonacci numbers.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vXb-back}{21}}{}{}{p:exercise:iYP}%
Use induction to prove that if \(n\) people all shake hands with each other, that the total number of handshakes is \(\frac{n(n-1)}{2}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:cek-back}{22}}{}{}{p:exercise:PfY}%
Suppose that a particular real number \(x\) has the property that \(x + \frac{1}{x}\) is an integer. Prove that \(x^n + \frac{1}{x^n}\) is an integer for all natural numbers \(n\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Ilt-back}{23}}{}{}{p:exercise:vnh}%
Use induction to prove that \(\d\sum_{k=0}^n {n \choose k} = 2^n\). That is, the sum of the \(n\)th row of Pascal's Triangle is \(2^n\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:osC-back}{24}}{}{}{p:exercise:buq}%
Use induction to prove \({4 \choose 0} + {5 \choose 1} + {6 \choose 2} + \cdots + {4+n \choose n} = {5+n \choose n}\). (This is an example of the hockey stick theorem.)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:UzL-back}{25}}{}{}{p:exercise:HBz}%
Use the product rule for logarithms (\(\log(ab) = \log(a) + \log(b)\)) to prove, by induction on \(n\), that \(\log(a^n) = n \log(a)\), for all natural numbers \(n \ge 2\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:MVm-back}{26}}{}{}{p:exercise:nII}%
Let \(f_1, f_2,\ldots, f_n\) be differentiable functions. Prove, using induction, that%
\begin{equation*}
(f_1 + f_2 + \cdots + f_n)' = f_1' + f_2' + \cdots + f_n'\text{.}
\end{equation*}
%
\par
You may assume \((f+g)' = f' + g'\) for any differentiable functions \(f\) and \(g\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:tcv-back}{27}}{}{}{p:exercise:TPR}%
Suppose \(f_1, f_2, \ldots, f_n\) are differentiable functions. Use mathematical induction to prove the generalized product rule:%
\begin{equation*}
(f_1 f_2 f_3 \cdots f_n)' = f_1' f_2 f_3 \cdots f_n + f_1 f_2' f_3 \cdots f_n + f_1 f_2 f_3' \cdots f_n + \cdots + f_1 f_2 f_3 \cdots f_n'\text{.}
\end{equation*}
%
\par
You may assume the product rule for two functions is true.%
\end{divisionexercise}%
\begin{divisionexercise}{28}{}{}{p:exercise:zXa}%
You will prove that the Fibonacci numbers satisfy the identity \(F_n^2 + F_{n+1}^2 = F_{2n+1}\). One way to do this is to prove the more general identity,%
\begin{equation*}
F_mF_n + F_{m+1}F_{n+1} = F_{m+n+1}\text{,}
\end{equation*}
and realize that when \(m = n\) we get our desired result.%
\par
Note that we now have two variables, so we want to prove this for all \(m \ge 0\) \emph{and} all \(n \ge 0\) at the same time. For each such pair \((m,n)\), let \(P(m,n)\) be the statement \(F_mF_n + F_{m+1}F_{n+1} = F_{m+n+1}\)%
\begin{enumerate}[label=(\alph*)]
\item{}First fix \(m = 0\) and give a proof by mathematical induction that \(P(0,n)\) holds for all \(n \ge 0\). Note this proof will be very easy.%
\item{}Now fix an arbitrary \(n\) and give a proof by \emph{strong} mathematical induction that \(P(m,n)\) holds for all \(m \ge 0\).%
\item{}You can now conclude that \(P(m,n)\) holds for all \(m,n\ge 0\). Do you believe that? Explain why this sort of induction is valid. For example, why do your proofs above guarantee that \(P(2,3)\) is true?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:ZjE-back}{29}}{}{}{p:exercise:gej}%
Given a square, you can cut the square into smaller squares by cutting along lines parallel to the sides of the original square (these lines do not need to travel the entire side length of the original square). For example, by cutting along the lines below, you will divide a square into 6 smaller squares:%
\begin{sidebyside}{1}{0.325}{0.325}{0}%
\begin{sbspanel}{0.35}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.75]
\draw (0,0) rectangle (3,3) (0,0) rectangle (2,2) (1,2) -- (1,3) (2,2) -- (2,3) (2,2) -- (3,2) (2,1)-- (3,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Prove, using strong induction, that it is possible to cut a square into \(n\) smaller squares for any \(n \ge 6\).%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 2.6 Chapter Summary}
\typeout{************************************************}
%
\begin{sectionptx}{Chapter Summary}{}{Chapter Summary}{}{}{x:section:sec_sequences-conc}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:kpq}%
Each day your supply of magic chocolate covered espresso beans doubles (each one splits in half), but then you eat 5 of them. You have 10 at the start of day 0.%
\begin{enumerate}
\item{}Write out the first few terms of the sequence. Then give a recursive definition for the sequence and explain how you know it is correct.%
\item{}Prove, using induction, that the last digit of the number of beans you have on the \(n\)th day is always a 5 for all \(n \ge 1\).%
\item{}Find a closed formula for the \(n\)th term of the sequence and prove it is correct by induction.%
\end{enumerate}
%
\end{investigation}
In this chapter we explored sequences and mathematical induction. At first these might not seem entirely related, but there is a link: recursive reasoning. When we have many cases (maybe infinitely many), it is often easier to describe a particular case by saying how it relates to other cases, instead of describing it absolutely. For sequences, we can describe the \(n\)th term in the sequence by saying how it is related to the \emph{previous} term. When showing a statement involving the variable \(n\) is true for all values of \(n\), we can describe why the case for \(n = k\) is true on the basis of why the case for \(n = k-1\) is true.%
\par
While thinking of problems recursively is often easer than thinking of them absolutely (at least after you get used to thinking in this way), our ultimate goal is to move beyond this recursive description. For sequences, we want to find \emph{closed formulas} for the \(n\)th term of the sequence. For proofs, we want to know the statement is actually true for a particular \(n\) (not only under the assumption that the statement is true for the previous value of \(n\)). In this chapter we saw some methods for moving from recursive descriptions to absolute descriptions.%
\par
%
\begin{itemize}[label=\textbullet]
\item{}If the terms of a sequence increase by a constant difference or constant ratio (these are both recursive descriptions), then the sequences are arithmetic or geometric, respectively, and we have closed formulas for each of these based on the initial terms and common difference or ratio.%
\item{}If the terms of a sequence increase at a polynomial rate (that is, if the differences between terms form a sequence with a polynomial closed formula), then the sequence is itself given by a polynomial closed formula (of degree one more than the sequence of differences).%
\item{}If the terms of a sequence increase at an exponential rate, then we expect the closed formula for the sequence to be exponential. These sequences often have relatively nice recursive formulas, and the \emph{characteristic root technique} allows us to find the closed formula for these sequences.%
\item{}If we want to prove that a statement is true for all values of \(n\) (greater than some first small value), and we can describe why the statement being true for \(n = k\) implies the statement is true for \(n = k+1\), then the \emph{principle of mathematical induction} gives us that the statement is true for all values of \(n\) (greater than the base case).%
\end{itemize}
%
\par
Throughout the chapter we tried to understand \emph{why} these facts listed above are true. In part, that is what proofs, by induction or not, attempt to accomplish: they explain why mathematical truths are in fact truths. As we develop our ability to reason about mathematics, it is a good idea to make sure that the methods of our reasoning are sound. The branch of mathematics that deals with deciding whether reasoning is good or not is \emph{mathematical logic}, the subject of the next chapter.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Exercises  Chapter Review}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Chapter Review}{}{Chapter Review}{}{}{x:exercises:exercises_seq-conc}
\begin{divisionexercise}{\hyperlink{g:solution:idm17257-back}{1}}{}{}{p:exercise:Iec}%
Find \(3 + 7 + 11+ \cdots + 427\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17321-back}{2}}{}{}{p:exercise:oll}%
Consider the sequence \(2, 6, 10, 14, \ldots, 4n + 6\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}How many terms are there in the sequence?%
\item{}What is the second-to-last term?%
\item{}Find the sum of all the terms in the sequence.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17405-back}{3}}{}{}{p:exercise:Usu}%
Consider the sequence given by \(a_n = 2\cdot 5^{n-1}\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Find the first 4 terms of the sequence.%
\par
What sort of sequence is this?%
\par
%
\item{}Find the \emph{sum} of the first 25 terms. That is, compute \(\sum_{k=1}^{25}a_k\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:AzD}%
Consider the sequence \(5, 11, 19, 29, 41, 55,\ldots\). Assume \(a_1 = 5\).%
\begin{enumerate}[label=(\alph*)]
\item{}Find a closed formula for \(a_n\), the \(n\)th term of the sequence, by writing each term as a sum of a sequence. Hint: first find \(a_0\), but ignore it when collapsing the sum.%
\item{}Find a closed formula again, this time using either polynomial fitting or the characteristic root technique (whichever is appropriate). Show your work.%
\item{}Find a closed formula once again, this time by recognizing the sequence as a modification to some well known sequence(s). Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17455-back}{5}}{}{}{p:exercise:gGM}%
Use polynomial fitting to find a closed formula for the sequence \((a_n)_{n\ge 1}\text{:}\)%
\par
%
\begin{equation*}
4, 11, 20, 31, 44, \ldots
\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:GYJ-back}{6}}{}{}{p:exercise:MNV}%
Suppose the closed formula for a particular sequence is a degree 3 polynomial. What can you say about the closed formula for:%
\begin{enumerate}[label=(\alph*)]
\item{}The sequence of partial sums.%
\item{}The sequence of second differences.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:nfS-back}{7}}{}{}{p:exercise:sVe}%
Consider the sequence given recursively by \(a_1 = 4\), \(a_2 = 6\) and \(a_n = a_{n-1} + a_{n-2}\).%
\begin{enumerate}[label=(\alph*)]
\item{}Write out the first 6 terms of the sequence.%
\item{}Could the closed formula for \(a_n\) be a polynomial? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17524-back}{8}}{}{}{p:exercise:Zcn}%
The sequence \((a_n)_{n \ge 1}\) starts \(-1, 0, 2, 5, 9, 14\ldots\) and has closed formula \(a_n = \dfrac{(n+1)(n-2)}{2}\text{.}\) Use this fact to find a closed formula for the sequence \((b_n)_{n \ge 1}\) which starts \(4, 10, 18, 28, 40, \ldots\text{.}\)%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:Fjw}%
The in song \emph{The Twelve Days of Christmas}, my true love gave to me first 1 gift, then 2 gifts and 1 gift, then 3 gifts, 2 gifts and 1 gift, and so on. How many gifts did my true love give me all together during the twelve days?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17583-back}{10}}{}{}{p:exercise:lqF}%
Consider the recurrence relation \(a_n = 3a_{n-1} + 10 a_{n-2}\) with first two terms \(a_0 = 1\) and \(a_1 = 2\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Write out the first 5 terms of the sequence defined by this recurrence relation.%
\item{}Solve the recurrence relation. That is, find a closed formula for \(a_n\text{.}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{g:solution:idm17646-back}{11}}{}{}{p:exercise:RxO}%
Consider the recurrence relation \(a_n = 2a_{n-1} + 8a_{n-2}\text{,}\) with initial terms \(a_0 = 1\) and \(a_1= 3\text{.}\)%
\begin{enumerate}[label=(\alph*)]
\item{}Find the next two terms of the sequence (\(a_2\) and \(a_3\)).%
\item{}Solve the recurrence relation. That is, find a closed formula for the \(n\)th term of the sequence.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:LIC-back}{12}}{}{}{p:exercise:xEX}%
Your magic chocolate bunnies \index{magic chocolate bunnies} reproduce like rabbits: every large bunny produces 2 new mini bunnies each day, and each day every mini bunny born the previous day grows into a large bunny. Assume you start with 2 mini bunnies and no bunny ever dies (or gets eaten).%
\begin{enumerate}[label=(\alph*)]
\item{}Write out the first few terms of the sequence.%
\item{}Give a recursive definition of the sequence and explain why it is correct.%
\item{}Find a closed formula for the \(n\)th term of the sequence.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:dMg}%
Consider the sequence of partial sums of \emph{squares} of Fibonacci numbers: \(F_1^2\), \(F_1^2 + F_2^2\), \(F_1^2 + F_2^2 + F_3^2, \ldots\).  The sequences starts \(1, 2, 6, 15, 40,\ldots\)%
\begin{enumerate}[label=(\alph*)]
\item{}Guess a formula for the \(n\)th partial sum, in terms of Fibonacci numbers.  Hint: write each term as a product.%
\item{}Prove your formula is correct by mathematical induction.%
\item{}Explain what this problem has to do with the following picture:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \draw (0,0) rectangle (13,8) rectangle (8,0) rectangle (13,5) rectangle (10,8) rectangle (8,6) rectangle (9,5);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:rPL-back}{14}}{}{}{p:exercise:JTp}%
Prove the following statements by mathematical induction:%
\begin{enumerate}[label=(\alph*)]
\item{}\(n! \lt n^n\) for \(n \ge 2\)%
\item{}\(\d\frac{1}{1\cdot 2} + \frac{1}{2\cdot 3} +\frac{1}{3\cdot 4}+\cdots + \frac{1}{n\cdot(n+1)} = \d\frac{n}{n+1}\) for all \(n \in \Z^+\).%
\item{}\(4^n - 1\) is a multiple of 3 for all \(n \in \N\).%
\item{}The \emph{greatest} amount of postage you \emph{cannot} make exactly using 4 and 9 cent stamps is 23 cents.%
\item{}Every even number squared is divisible by 4.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:XWU-back}{15}}{}{}{p:exercise:qay}%
Prove \(1^3 + 2^3 + 3^3 + \cdots + n^3 = \left(\frac{n(n+1)}{2}\right)^2\) holds for all \(n \ge 1\), by mathematical induction.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Eed-back}{16}}{}{}{p:exercise:WhH}%
Suppose \(a_0 = 1\), \(a_1 = 1\) and \(a_n = 3a_{n-1} - 2a_{n-1}\). Prove, using strong induction, that \(a_n = 1\) for all \(n\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:klm-back}{17}}{}{}{p:exercise:CoQ}%
Prove using induction that every set containing \(n\) elements has \(2^n\) different subsets for any \(n \ge 1\).%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%
\typeout{************************************************}
\typeout{Chapter 3 Symbolic Logic and Proofs}
\typeout{************************************************}
%
\begin{chapterptx}{Symbolic Logic and Proofs}{}{Symbolic Logic and Proofs}{}{}{x:chapter:ch_logic}
\begin{introduction}{}%
Logic is the study of consequence. Given a few mathematical statements or facts, we would like to be able to draw some conclusions. For example, if I told you that a particular real-valued function was continuous on the interval \([0,1]\), and \(f(0) = -1\) and \(f(1) = 5\), can we conclude that there is some point between \([0,1]\) where the graph of the function crosses the \(x\)-axis? Yes, we can, thanks to the Intermediate Value Theorem from Calculus. Can we conclude that there is exactly one point? No. Whenever we find an ``answer'' in math, we really have a (perhaps hidden) argument. Mathematics is really about proving general statements (like the Intermediate Value Theorem), and this too is done via an argument, usually called a proof. We start with some given conditions, the \emph{premises} of our argument, and from these we find a consequence of interest, our \emph{conclusion}.%
\par
The problem is, as you no doubt know from arguing with friends, not all arguments are \emph{good} arguments. A ``bad'' argument is one in which the conclusion does not follow from the premises, i.e., the conclusion is not a consequence of the premises. Logic is the study of what makes an argument good or bad. In other words, logic aims to determine in which cases a conclusion is, or is not, a consequence of a set of premises.%
\par
By the way, ``argument'' is actually a technical term in math (and philosophy, another discipline which studies logic):%
\begin{assemblage}{Arguments.}{p:assemblage:cBA}%
An \terminology{argument} \index{argument} is a set of statements, one of which is called the \terminology{conclusion} \index{conclusion} and the rest of which are called \terminology{premises}. \index{premises} An argument is said to be \terminology{valid} \index{valid} if the conclusion must be true whenever the premises are all true. An argument is \terminology{invalid} if it is not valid; it is possible for all the premises to be true and the conclusion to be false.%
\end{assemblage}
For example, consider the following two arguments:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{ll}
&If Edith eats her vegetables, then she can have a cookie.\tabularnewline[0pt]
&Edith eats her vegetables.\tabularnewline\hrulethin
\(\therefore\)&Edith gets a cookie.
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{ll}
&Florence must eat her vegetables in order to get a cookie.\tabularnewline[0pt]
&Florence eats her vegetables.\tabularnewline\hrulethin
\(\therefore\)&Florence gets a cookie.
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
(The symbol ``\(\therefore\)'' \label{g:notation:idm17879} means ``therefore'')%
\par
Are these arguments valid? Hopefully you agree that the first one is but the second one is not. Logic tells us why by analyzing the structure of the statements in the argument. Notice the two arguments above look almost identical. Edith and Florence both eat their vegetables. In both cases there is a connection between the eating of vegetables and cookies. But we claim that it is valid to conclude that Edith gets a cookie, but not that Florence does. The difference must be in the connection between eating vegetables and getting cookies. We need to be skilled at reading and comprehending these sentences. Do the two sentences mean the same thing? Unfortunately, in everyday language we are often sloppy, and you might be tempted to say they are equivalent. But notice that just because Florence \emph{must} eat her vegetables, we have not said that doing so would be \emph{enough} (she might also need to clean her room, for example). In everyday (non-mathematical) practice, you might be tempted to say this ``other direction'' is implied. In mathematics, we never get that luxury.%
\par
Before proceeding, it might be a good idea to quickly review \hyperref[x:section:sec_intro-statements]{Section~\ref{x:section:sec_intro-statements}} where we first encountered statements and the various forms they can take. The goal now is to see what mathematical tools we can develop to better analyze these, and then to see how this helps read and write proofs.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Section 3.1 Propositional Logic}
\typeout{************************************************}
%
\begin{sectionptx}{Propositional Logic}{}{Propositional Logic}{}{}{x:section:sec_propositional}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:kKC}%
You stumble upon two trolls playing Stratego\textregistered{}. They tell you:%
\begin{quote}%
Troll 1: If we are cousins, then we are both knaves.%
\par
Troll 2: We are cousins or we are both knaves.%
\end{quote}
Could both trolls be knights? Recall that all trolls are either always-truth-telling knights or always-lying knaves.%
\end{investigation}
A \terminology{proposition} \index{proposition} is simply a statement. \terminology{Propositional logic} studies the ways statements can interact with each other. It is important to remember that propositional logic does not really care about the content of the statements. For example, in terms of propositional logic, the claims, ``if the moon is made of cheese then basketballs are round,'' and ``if spiders have eight legs then Sam walks with a limp'' are exactly the same. They are both implications: statements of the form, \(P \imp Q\).%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Truth Tables}
\typeout{************************************************}
%
\begin{subsectionptx}{Truth Tables}{}{Truth Tables}{}{}{p:subsection:DTz}
\index{truth table}%
Here's a question about playing Monopoly:%
\begin{quote}%
If you get more doubles than any other player then you will lose, or if you lose then you must have bought the most properties.%
\end{quote}
True or false? We will answer this question, and won't need to know anything about Monopoly. Instead we will look at the logical \emph{form} of the statement.%
\par
We need to decide when the statement \((P \imp Q) \vee (Q \imp R)\) is true. Using the definitions of the connectives in \hyperref[x:section:sec_intro-statements]{Section~\ref{x:section:sec_intro-statements}}, we see that for this to be true, either \(P \imp Q\) must be true or \(Q \imp R\) must be true (or both). Those are true if either \(P\) is false or \(Q\) is true (in the first case) and \(Q\) is false or \(R\) is true (in the second case). So\textemdash{}yeah, it gets kind of messy. Luckily, we can make a chart to keep track of all the possibilities. Enter \terminology{truth tables}. The idea is this: on each row, we list a possible combination of T's and F's (for true and false) for each of the sentential variables, and then mark down whether the statement in question is true or false in that case. We do this for every possible combination of T's and F's. Then we can clearly see in which cases the statement is true or false. For complicated statements, we will first fill in values for each part of the statement, as a way of breaking up our task into smaller, more manageable pieces.%
\par
Since the truth value of a statement is completely determined by the truth values of its parts and how they are connected, all you really need to know is the truth tables for each of the logical connectives. Here they are:%
\begin{sidebyside}{4}{0.025}{0.025}{0.05}%
\begin{sbspanel}{0.2}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(P\wedge Q\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&F\tabularnewline[0pt]
F&F&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\begin{sbspanel}{0.2}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(P\vee Q\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&T\tabularnewline[0pt]
F&T&T\tabularnewline[0pt]
F&F&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\begin{sbspanel}{0.2}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(P\imp Q\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&T\tabularnewline[0pt]
F&F&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\begin{sbspanel}{0.2}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(P\iff Q\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&F\tabularnewline[0pt]
F&F&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
The truth table for negation looks like this:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cBc}
\(P\)&\(\neg P\)\tabularnewline\hrulethin
T&F\tabularnewline[0pt]
F&T\tabularnewline[0pt]

\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
None of these truth tables should come as a surprise; they are all just restating the definitions of the connectives. Let's try another one.%
\begin{example}{}{x:example:ex-imp-disj}%
Make a truth table for the statement \(\neg P \vee Q\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:QRL}{}~~%
Note that this statement is not \(\neg(P \vee Q)\), the negation belongs to \(P\) alone. Here is the truth table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBcAc}
\(P\)&\(Q\)&\(\neg P\)&\(\neg P \vee Q\)\tabularnewline\hrulethin
T&T&F&T\tabularnewline[0pt]
T&F&F&F\tabularnewline[0pt]
F&T&T&T\tabularnewline[0pt]
F&F&T&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
We added a column for \(\neg P\) to make filling out the last column easier. The entries in the \(\neg P\) column were determined by the entries in the \(P\) column. Then to fill in the final column, look only at the column for \(Q\) and the column for \(\neg P\) and use the rule for \(\vee\).%
\end{example}
Now let's answer our question about monopoly:%
\begin{example}{}{p:example:Nnl}%
Analyze the statement, ``if you get more doubles than any other player you will lose, or that if you lose you must have bought the most properties,'' using truth tables.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:wYU}{}~~%
Represent the statement in symbols as \((P \imp Q) \vee (Q \imp R)\), where \(P\) is the statement ``you get more doubles than any other player,'' \(Q\) is the statement ``you will lose,'' and \(R\) is the statement ``you must have bought the most properties.'' Now make a truth table.%
\par
The truth table needs to contain 8 rows in order to account for every possible combination of truth and falsity among the three statements. Here is the full truth table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcAcBcAcAc}
\(P\)&\(Q\)&\(R\)&\(P \imp Q\)&\(Q \imp R\)&\((P \imp Q) \vee (Q \imp R)\)\tabularnewline\hrulethin
T&T&T&T&T&T\tabularnewline[0pt]
T&T&F&T&F&T\tabularnewline[0pt]
T&F&T&F&T&T\tabularnewline[0pt]
T&F&F&F&T&T\tabularnewline[0pt]
F&T&T&T&T&T\tabularnewline[0pt]
F&T&F&T&F&T\tabularnewline[0pt]
F&F&T&T&T&T\tabularnewline[0pt]
F&F&F&T&T&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
The first three columns are simply a systematic listing of all possible combinations of T and F for the three statements (do you see how you would list the 16 possible combinations for four statements?). The next two columns are determined by the values of \(P\), \(Q\), and \(R\) and the definition of implication. Then, the last column is determined by the values in the previous two columns and the definition of \(\vee\). It is this final column we care about.%
\par
Notice that in each of the eight possible cases, the statement in question is true. So our statement about monopoly is true (regardless of how many properties you own, how many doubles you roll, or whether you win or lose).%
\end{example}
The statement about monopoly is an example of a \terminology{tautology}, \index{tautology} a statement which is true on the basis of its logical form alone. Tautologies are always true but they don't tell us much about the world. No knowledge about monopoly was required to determine that the statement was true. In fact, it is equally true that ``If the moon is made of cheese, then Elvis is still alive, or if Elvis is still alive, then unicorns have 5 legs.''%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Logical Equivalence}
\typeout{************************************************}
%
\begin{subsectionptx}{Logical Equivalence}{}{Logical Equivalence}{}{}{p:subsection:kaI}
You might have noticed in \hyperref[x:example:ex-imp-disj]{Example~\ref{x:example:ex-imp-disj}} that the final column in the truth table for \(\neg P \vee Q\) is identical to the final column in the truth table for \(P \imp Q\):%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBcAc}
\(P\)&\(Q\)&\(P \imp Q\)&\(\neg P \vee Q\)\tabularnewline\hrulethin
T&T&T&T\tabularnewline[0pt]
T&F&F&F\tabularnewline[0pt]
F&T&T&T\tabularnewline[0pt]
F&F&T&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
This says that no matter what \(P\) and \(Q\) are, the statements \(\neg P \vee Q\) and \(P \imp Q\) either both true or both false. We therefore say these statements are \terminology{logically equivalent}.%
\begin{assemblage}{Logical Equivalence.}{p:assemblage:cwj}%
Two (molecular) statements \(P\) and \(Q\) are \terminology{logically equivalent} \index{logical equivalence} provided \(P\) is true precisely when \(Q\) is true. That is, \(P\) and \(Q\) have the same truth value under any assignment of truth values to their atomic parts.%
\par
To verify that two statements are logically equivalent, you can make a truth table for each and check whether the columns for the two statements are identical.%
\end{assemblage}
Recognizing two statements as logically equivalent can be very helpful. Rephrasing a mathematical statement can often lend insight into what it is saying, or how to prove or refute it. By using truth tables we can systematically verify that two statements are indeed logically equivalent.%
\begin{example}{}{p:example:RXe}%
Are the statements, ``it will not rain or snow'' and ``it will not rain and it will not snow'' logically equivalent?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:dgd}{}~~%
We want to know whether \(\neg(P \vee Q)\) is logically equivalent to \(\neg P \wedge \neg Q\). Make a truth table which includes both statements:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBcAc}
\(P\)&\(Q\)&\(\neg(P \vee Q)\)&\(\neg P \wedge \neg Q\)\tabularnewline\hrulethin
T&T&F&F\tabularnewline[0pt]
T&F&F&F\tabularnewline[0pt]
F&T&F&F\tabularnewline[0pt]
F&F&T&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Since in every row the truth values for the two statements are equal, the two statements are logically equivalent.%
\end{example}
Notice that this example gives us a way to ``distribute'' a negation over a disjunction (an ``or''). We have a similar rule for distributing over conjunctions (``and''s):%
\begin{assemblage}{De Morgan's Laws.}{p:assemblage:IDs}%
\index{De Morgan's laws}%
\begin{equation*}
\neg(P \wedge Q) \text{ is logically equivalent to } \neg P \vee \neg Q\text{.}
\end{equation*}
%
\begin{equation*}
\neg(P \vee Q) \text{ is logically equivalent to } \neg P \wedge \neg Q\text{.}
\end{equation*}
%
\end{assemblage}
This suggests there might be a sort of ``algebra'' you could apply to statements (okay, there is: it is called \emph{Boolean algebra}) to transform one statement into another. We can start collecting useful examples of logical equivalence, and apply them in succession to a statement, instead of writing out a complicated truth table.%
\par
De Morgan's laws do not do not directly help us with implications, but as we saw above, every implication can be written as a disjunction:%
\begin{assemblage}{Implications are Disjuctions.}{x:assemblage:assemblage-imp-disj}%
%
\begin{equation*}
P \imp Q \text{ is logically equivalent to } \neg P \vee Q\text{.}
\end{equation*}
%
\par
Example: ``If a number is a multiple of 4, then it is even'' is equivalent to, ``a number is not a multiple of 4 or (else) it is even.''%
\end{assemblage}
With this and De Morgan's laws, you can take any statement and \emph{simplify} it to the point where negations are only being applied to atomic propositions.  Well, actually not, because you could get multiple negations stacked up.  But this can be easily dealt with:%
\begin{assemblage}{Double Negation.}{p:assemblage:URK}%
\index{double negation}%
\begin{equation*}
\neg \neg P \text{ is logically equivalent to } P\text{.}
\end{equation*}
%
\par
Example: ``It is not the case that \(c\) is not odd'' means ``\(c\) is odd.''%
\end{assemblage}
Let's see how we can apply the equivalences we have encountered so far.%
\begin{example}{}{p:example:yen}%
Prove that the statements \(\neg(P \imp Q)\) and \(P\wedge \neg Q\) are logically equivalent without using truth tables.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Jnm}{}~~%
We want to start with one of the statements, and transform it into the other through a sequence of logically equivalent statements. Start with \(\neg(P \imp Q)\). We can rewrite the implication as a disjunction this is logically equivalent to%
\begin{equation*}
\neg(\neg P \vee Q)\text{.}
\end{equation*}
Now apply DeMorgan's law to get%
\begin{equation*}
\neg\neg P \wedge \neg Q\text{.}
\end{equation*}
Finally, use double negation to arrive at \(P \wedge \neg Q\)%
\end{example}
Notice that the above example illustrates that the negation of an implication is NOT an implication: it is a conjunction!  We saw this before, in \hyperref[x:section:sec_intro-statements]{Section~\ref{x:section:sec_intro-statements}}, but it is so important and useful, it warants a second blue box here:%
\begin{assemblage}{Negation of an Implication.}{x:assemblage:assemblage-negimp-again}%
The negation of an implication is a conjuction:%
\begin{equation*}
\neg(P \imp Q) \text{ is logically equivalent to } P \wedge \neg Q\text{.}
\end{equation*}
That is, the only way for an implication to be false is for the hypothesis to be true \emph{AND} the conclusion to be false.%
\end{assemblage}
To verify that two statements are logically equivalent, you can use truth tables or a sequence of logically equivalent replacements. The truth table method, although cumbersome, has the advantage that it can verify that two statements are NOT logically equivalent.%
\begin{example}{}{p:example:elw}%
Are the statements \((P \vee Q) \imp R\) and \((P \imp R) \vee (Q \imp R)\) logically equivalent?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:puv}{}~~%
Note that while we could start rewriting these statements with logically equivalent replacements in the hopes of transforming one into another, we will never be sure that our failure is due to their lack of logical equivalence rather than our lack of imagination. So instead, let's make a truth table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcAcBcAc}
\(P\)&\(Q\)&\(R\)&\((P\vee Q) \imp R\)&\((P\imp R) \vee (Q \imp R)\)\tabularnewline\hrulethin
T&T&T&T&T\tabularnewline[0pt]
T&T&F&F&F\tabularnewline[0pt]
T&F&T&T&T\tabularnewline[0pt]
T&F&F&F&T\tabularnewline[0pt]
F&T&T&T&T\tabularnewline[0pt]
F&T&F&F&T\tabularnewline[0pt]
F&F&T&T&T\tabularnewline[0pt]
F&F&F&T&T\tabularnewline[0pt]

\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Look at the fourth (or sixth) row. In this case, \((P \imp R) \vee (Q \imp R)\) is true, but \((P \vee Q) \imp R\) is false. Therefore the statements are not logically equivalent.%
\par
While we don't have logical equivalence, it is the case that whenever \((P \vee Q) \imp R\) is true, so is \((P \imp R) \vee (Q \imp R)\). This tells us that we can \emph{deduce} \((P \imp R) \vee (Q \imp R)\) from \((P \vee Q) \imp R\), just not the reverse direction.%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Deductions}
\typeout{************************************************}
%
\begin{subsectionptx}{Deductions}{}{Deductions}{}{}{p:subsection:QhR}
\begin{investigation}{}{p:investigation:gaJ}%
Holmes owns two suits: one black and one tweed. He always wears either a tweed suit or sandals. Whenever he wears his tweed suit and a purple shirt, he chooses to not wear a tie. He never wears the tweed suit unless he is also wearing either a purple shirt or sandals. Whenever he wears sandals, he also wears a purple shirt. Yesterday, Holmes wore a bow tie. What else did he wear?%
\end{investigation}
Earlier we claimed that the following was a valid argument:%
\begin{quote}%
If Edith eats her vegetables, then she can have a cookie. Edith ate her vegetables. Therefore Edith gets a cookie.%
\end{quote}
How do we know this is valid? Let's look at the form of the statements. Let \(P\) denote ``Edith eats her vegetables'' and \(Q\) denote ``Edith can have a cookie.'' The logical form of the argument is then:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp Q\)\tabularnewline[0pt]
&\(P\)\tabularnewline\hrulethin
\(\therefore\)&\(Q\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
This is an example of a \terminology{deduction rule}, \index{deduction rule} an argument form which is always valid. This one is a particularly famous rule called \textit{modus ponens}. \index{\emph{modus ponens}} Are you convinced that it is a valid deduction rule? If not, consider the following truth table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(P\imp Q\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&T\tabularnewline[0pt]
F&F&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
This is just the truth table for \(P \imp Q\), but what matters here is that all the lines in the deduction rule have their own column in the truth table. Remember that an argument is valid provided the conclusion must be true given that the premises are true. The premises in this case are \(P \imp Q\) and \(P\). Which \emph{rows} of the truth table correspond to both of these being true? \(P\) is true in the first two rows, and of those, only the first row has \(P \imp Q\) true as well. And lo-and-behold, in this one case, \(Q\) is also true. So if \(P\imp Q\) and \(P\) are both true, we see that \(Q\) must be true as well.%
\par
Here are a few more examples.%
\begin{example}{}{p:example:COg}%
Show that%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp Q\)\tabularnewline[0pt]
&\(\neg P \imp Q\)\tabularnewline\hrulethin
\(\therefore\)&\(Q\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
is a valid deduction rule.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:VBE}{}~~%
We make a truth table which contains all the lines of the argument form:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBcAcAc}
\(P\)&\(Q\)&\(P\imp Q\)&\(\neg P\)&\(\neg P \imp Q\)\tabularnewline\hrulethin
T&T&T&F&T\tabularnewline[0pt]
T&F&F&F&T\tabularnewline[0pt]
F&T&T&T&T\tabularnewline[0pt]
F&F&T&T&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
(we include a column for \(\neg P\) just as a step to help getting the column for \(\neg P \imp Q\)).%
\par
Now look at all the rows for which both \(P \imp Q\) and \(\neg P \imp Q\) are true. This happens only in rows 1 and 3. Hey! In those rows \(Q\) is true as well, so the argument form is valid (it is a valid deduction rule).%
\end{example}
\begin{example}{}{p:example:iVp}%
Decide whether%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp R\)\tabularnewline[0pt]
&\(Q \imp R\)\tabularnewline[0pt]
&\(R\)\tabularnewline\hrulethin
\(\therefore\)&\(P \vee Q\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
is a valid deduction rule.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:BIN}{}~~%
Let's make a truth table containing all four statements.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcAcBcAcAc}
\(P\)&\(Q\)&\(R\)&\(P \imp R\)&\(Q \imp R\)&\(P \vee Q\)\tabularnewline\hrulethin
T&T&T&T&T&T\tabularnewline[0pt]
T&T&F&F&F&T\tabularnewline[0pt]
T&F&T&T&T&T\tabularnewline[0pt]
T&F&F&F&T&T\tabularnewline[0pt]
F&T&T&T&T&T\tabularnewline[0pt]
F&T&F&T&F&T\tabularnewline[0pt]
F&F&T&T&T&F\tabularnewline[0pt]
F&F&F&T&T&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Look at the second to last row. Here all three premises of the argument are true, but the conclusion is false. Thus this is not a valid deduction rule.%
\par
While we have the truth table in front of us, look at rows 1, 3, and 5. These are the only rows in which all of the statements statements \(P \imp R\), \(Q \imp R\), and \(P\vee Q\) are true. It also happens that \(R\) is true in these rows as well. Thus we have discovered a new deduction rule we know \emph{is} valid:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp R\)\tabularnewline[0pt]
&\(Q \imp R\)\tabularnewline[0pt]
&\(P \vee Q\)\tabularnewline\hrulethin
\(\therefore\)&\(R\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Beyond Propositions}
\typeout{************************************************}
%
\begin{subsectionptx}{Beyond Propositions}{}{Beyond Propositions}{}{}{p:subsection:wpa}
As we saw in \hyperref[x:section:sec_intro-statements]{Section~\ref{x:section:sec_intro-statements}}, not every statement can be analyzed using logical connectives alone. For example, we might want to work with the statement:%
\begin{quote}%
All primes greater than 2 are odd.%
\end{quote}
To write this statement symbolically, we must use quantifiers. We can translate as follows:%
\begin{equation*}
\forall x ((P(x) \wedge x \gt 2) \imp O(x))\text{.}
\end{equation*}
In this case, we are using \(P(x)\) to denote ``\(x\) is prime'' and \(O(x)\) to denote ``\(x\) is odd.'' These are not propositions, since their truth value depends on the input \(x\). Better to think of \(P\) and \(O\) as denoting \emph{properties} of their input. The technical term for these is \terminology{predicates} and when we study them in logic, we need to use \terminology{predicate logic}.%
\par
It is important to stress that predicate logic \emph{extends} propositional logic (much in the way quantum mechanics extends classical mechanics). You will notice that our statement above still used the (propositional) logical connectives. Everything that we learned about logical equivalence and deductions still applies. However, predicate logic allows us to analyze statements at a higher resolution, digging down into the individual propositions \(P\), \(Q\), etc.%
\par
A full treatment of predicate logic is beyond the scope of this text. One reason is that there is no systematic procedure for deciding whether two statements in predicate logic are logically equivalent (i.e., there is no analogue to truth tables here). Rather, we end with a two examples of logical equivalence and deduction, to pique your interest.%
\begin{example}{}{p:example:MhS}%
Suppose we claim that there is no smallest number. We can translate this into symbols as%
\begin{equation*}
\neg \exists x \forall y (x \le y)
\end{equation*}
(literally, ``it is not true that there is a number \(x\) such that for all numbers \(y\), \(x\) is less than or equal to \(y\)'').%
\par
However, we know how negation interacts with quantifiers: we can pass a negation over a quantifier by switching the quantifier type (between universal and existential). So the statement above should be \emph{logically equivalent} to%
\begin{equation*}
\forall x \exists y (y \lt x)\text{.}
\end{equation*}
Notice that \(y \lt x\) is the negation of \(x \le y\). This literally says, ``for every number \(x\) there is a number \(y\) which is smaller than \(x\).'' We see that this is another way to make our original claim.%
\end{example}
\begin{example}{}{p:example:spb}%
Can you switch the order of quantifiers? For example, consider the two statements:%
\begin{equation*}
\forall x \exists y P(x,y) \qquad \mathrm{ and } \qquad \exists y \forall x P(x,y)\text{.}
\end{equation*}
Are these logically equivalent?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:hPW}{}~~%
These statements are NOT logically equivalent. To see this, we should provide an interpretation of the predicate \(P(x,y)\) which makes one of the statements true and the other false.%
\par
Let \(P(x,y)\) be the predicate \(x \lt y\). It is true, in the natural numbers, that for all \(x\) there is some \(y\) greater than that \(x\) (since there are infinitely many numbers). However, there is not a natural number \(y\) which is greater than every number \(x\). Thus it is possible for \(\forall x \exists y P(x,y)\) to be true while \(\exists y \forall x P(x,y)\) is false.%
\par
We cannot do the reverse of this though. If there is some \(y\) for which every \(x\) satisfies \(P(x,y)\), then certainly for every \(x\) there is some \(y\) which satisfies \(P(x,y)\). The first is saying we can find one \(y\) that works for every \(x\). The second allows different \(y\)'s to work for different \(x\)'s, but there is nothing preventing us from using the same \(y\) that work for every \(x\). In other words, while we don't have logical equivalence between the two statements, we do have a valid deduction rule:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(\exists y \forall x P(x,y)\)\tabularnewline\hrulethin
\(\therefore\)&\(\forall x \exists y P(x,y)\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Put yet another way, this says that the single statement%
\begin{equation*}
\exists y \forall x P(x,y) \imp \forall x \exists y P(x,y)
\end{equation*}
is always true. This is sort of like a tautology, although we reserve that term for necessary truths in propositional logic. A statement in predicate logic that is necessarily true gets the more prestigious designation of a \terminology{law of logic} \index{law of logic} (or sometimes \terminology{logically valid}, \index{logically valid|see{law of logic}} but that is less fun).%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_sec-logic}
\begin{divisionexercise}{\hyperlink{p:solution:Bqo-back}{1}}{}{}{p:exercise:iCQ}%
Consider the statement about a party, ``If it's your birthday or there will be cake, then there will be cake.''%
\begin{enumerate}[label=(\alph*)]
\item{}Translate the above statement into symbols. Clearly state which statement is \(P\) and which is \(Q\).%
\item{}Make a truth table for the statement.%
\item{}Assuming the statement is true, what (if anything) can you conclude if there will be cake?%
\item{}Assuming the statement is true, what (if anything) can you conclude if there will not be cake?%
\item{}Suppose you found out that the statement was a lie. What can you conclude?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:hxx-back}{2}}{}{}{p:exercise:OJZ}%
Make a truth table for the statement \((P \vee Q) \imp (P \wedge Q)\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:NEG-back}{3}}{}{}{p:exercise:uRi}%
Make a truth table for the statement \(\neg P \wedge (Q \imp P)\). What can you conclude about \(P\) and \(Q\) if you know the statement is true?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:tLP-back}{4}}{}{}{p:exercise:aYr}%
Make a truth table for the statement \(\neg P \imp (Q \wedge R)\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:ZSY-back}{5}}{}{}{p:exercise:HfA}%
Geoff Poshingten is out at a fancy pizza joint, and decides to order a calzone. When the waiter asks what he would like in it, he replies, ``I want either pepperoni or sausage. Also, if I have sausage, then I must also include quail. Oh, and if I have pepperoni or quail then I must also have ricotta cheese.''%
\begin{enumerate}[label=(\alph*)]
\item{}Translate Geoff's order into logical symbols.%
\item{}The waiter knows that Geoff is either a liar or a truth-teller (so either everything he says is false, or everything is true). Which is it?%
\item{}What, if anything, can the waiter conclude about the ingredients in Geoff's desired calzone?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Gah-back}{6}}{}{}{p:exercise:nmJ}%
Determine whether the following two statements are logically equivalent: \(\neg(P \imp Q)\) and \(P \wedge \neg Q\). Explain how you know you are correct.%
\end{divisionexercise}%
\begin{divisionexercise}{7}{}{}{p:exercise:TtS}%
Are the statements \(P \imp (Q\vee R)\) and \((P \imp Q) \vee (P \imp R)\) logically equivalent?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:mhq-back}{8}}{}{}{p:exercise:zBb}%
Simplify the following statements (so that negation only appears right before variables).%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg(P \imp \neg Q)\).%
\item{}\((\neg P \vee \neg Q) \imp \neg (\neg Q \wedge R)\).%
\item{}\(\neg((P \imp \neg Q) \vee \neg (R \wedge \neg R))\).%
\item{}It is false that if Sam is not a man then Chris is a woman, and that Chris is not a woman.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:fIk}%
Use De Morgan's Laws, and any other logical equivalence facts you know to simplify the following statements. Show all your steps. Your final statements should have negations only appear directly next to the sentence variables or predicates (\(P\), \(Q\), \(E(x)\), etc.), and no double negations. It would be a good idea to use only conjunctions, disjunctions, and negations.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg((\neg P \wedge Q) \vee \neg(R \vee \neg S))\).%
\item{}\(\neg((\neg P \imp \neg Q) \wedge (\neg Q \imp R))\) (careful with the implications).%
\item{}For both parts above, verify your answers are correct using truth tables. That is, use a truth table to check that the given statement and your proposed simplification are actually logically equivalent.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Soz-back}{10}}{}{}{p:exercise:LPt}%
Consider the statement, ``If a number is triangular or square, then it is not prime''%
\begin{enumerate}[label=(\alph*)]
\item{}Make a truth table for the statement \((T \vee S) \imp \neg P\).%
\item{}If you believed the statement was \emph{false}, what properties would a counterexample need to possess? Explain by referencing your truth table.%
\item{}If the statement were true, what could you conclude about the number 5657, which is definitely prime? Again, explain using the truth table.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:yvI-back}{11}}{}{}{p:exercise:rWC}%
Tommy Flanagan was telling you what he ate yesterday afternoon. He tells you, ``I had either popcorn or raisins. Also, if I had cucumber sandwiches, then I had soda. But I didn't drink soda or tea.'' Of course you know that Tommy is the worlds worst liar, and everything he says is false. What did Tommy eat?%
\par
Justify your answer by writing all of Tommy's statements using sentence variables (\(P, Q, R, S, T\)), taking their negations, and using these to deduce what Tommy actually ate.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:eCR-back}{12}}{}{}{p:exercise:YdL}%
Determine if the following deduction rule is valid:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \vee Q\)\tabularnewline[0pt]
&\(\neg P\)\tabularnewline\hrulethin
\(\therefore\)&\(Q\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:EkU}%
Determine if the following is a valid deduction rule:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp (Q \vee R)\)\tabularnewline[0pt]
&\(\neg(P \imp Q)\)\tabularnewline\hrulethin
\(\therefore\)&\(R\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:ksd}%
Determine if the following is a valid deduction rule:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\((P \wedge Q) \imp R\)\tabularnewline[0pt]
&\(\neg P \vee \neg Q\)\tabularnewline\hrulethin
\(\therefore\)&\(\neg R\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:KKa-back}{15}}{}{}{p:exercise:Qzm}%
Can you chain implications together? That is, if \(P \imp Q\) and \(Q \imp R\), does that means the \(P \imp R\)? Can you chain more implications together? Let's find out:%
\begin{enumerate}[label=(\alph*)]
\item{}Prove that the following is a valid deduction rule:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp Q\)\tabularnewline[0pt]
&\(Q \imp R\)\tabularnewline\hrulethin
\(\therefore\)&\(P \imp R\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\item{}Prove that the following is a valid deduction rule for any \(n \ge 2\):%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P_1 \imp P_2\)\tabularnewline[0pt]
&\(P_2 \imp P_3\)\tabularnewline[0pt]
&\(\vdots\)\tabularnewline[0pt]
&\(P_{n-1} \imp P_n\)\tabularnewline\hrulethin
\(\therefore\)&\(P_1 \imp P_n\).
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
I suggest you don't go through the trouble of writing out a \(2^n\) row truth table. Instead, you should use part (a) and mathematical induction.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:qRj-back}{16}}{}{}{p:exercise:wGv}%
We can also simplify statements in predicate logic using our rules for passing negations over quantifiers, and then applying propositional logical equivalence to the ``inside'' propositional part. Simplify the statements below (so negation appears only directly next to predicates).%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg \exists x \forall y (\neg O(x) \vee E(y))\).%
\item{}\(\neg \forall x \neg \forall y \neg(x \lt y \wedge \exists z (x \lt z \vee y \lt z))\).%
\item{}There is a number \(n\) for which no other number is either less \(n\) than or equal to \(n\).%
\item{}It is false that for every number \(n\) there are two other numbers which \(n\) is between.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{17}{}{}{p:exercise:cNE}%
Simplify the statements below to the point that negation symbols occur only directly next to predicates.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg \forall x \forall y (x \lt y \vee y \lt x)\).%
\item{}\(\neg(\exists x P(x) \imp \forall y P(y))\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:WYs-back}{18}}{}{}{p:exercise:IUN}%
Simplifying negations will be especially useful in the next section when we try to prove a statement by considering what would happen if it were false.  For each statement below, write the \emph{negation} of the statement as simply as possible.  Don't just say, ``it is false that \textellipsis{}''.%
\begin{enumerate}[label=(\alph*)]
\item{}Every number is either even or odd.%
\item{}There is a sequence that is both arithmetic and geometric.%
\item{}For all numbers \(n\), if \(n\) is prime, then \(n+3\) is not prime.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:DfB-back}{19}}{}{}{p:exercise:pbW}%
Suppose \(P\) and \(Q\) are (possibly molecular) propositional statements. Prove that \(P\) and \(Q\) are logically equivalent if any only if \(P \iff Q\) is a tautology.%
\end{divisionexercise}%
\begin{divisionexercise}{20}{}{}{p:exercise:Vjf}%
Suppose \(P_1, P_2, \ldots, P_n\) and \(Q\) are (possibly molecular) propositional statements. Suppose further that%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{ll}
&\(P_1\)\tabularnewline[0pt]
&\(P_2\)\tabularnewline[0pt]
&\(\vdots\)\tabularnewline[0pt]
&\(P_n\)\tabularnewline\hrulethin
\(\therefore\)&\(Q\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
is a valid deduction rule. Prove that the statement%
\begin{equation*}
(P_1 \wedge P_2 \wedge \cdots \wedge P_n) \imp Q
\end{equation*}
is a tautology.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 3.2 Proofs}
\typeout{************************************************}
%
\begin{sectionptx}{Proofs}{}{Proofs}{}{}{x:section:sec_logic-proofs}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:XTu}%
Decide which of the following are valid proofs of the following statement:%
\begin{quote}%
If \(a b\) is an even number, then \(a\) or \(b\) is even.%
\end{quote}
%
\begin{enumerate}
\item{}Suppose \(a\) and \(b\) are odd. That is, \(a=2k+1\) and \(b=2m+1\) for some integers \(k\) and \(m\). Then%
\begin{align*}
ab \amp =(2k+1)(2m+1)\\
\amp =4km+2k+2m+1\\
\amp =2(2km+k+m)+1\text{.}
\end{align*}
%
\par
Therefore \(ab\) is odd.%
\item{}Assume that \(a\) or \(b\) is even - say it is \(a\) (the case where \(b\) is even will be identical). That is, \(a=2k\) for some integer \(k\). Then%
\begin{align*}
ab \amp =(2k)b\\
\amp =2(kb)\text{.}
\end{align*}
%
\par
Thus \(ab\) is even.%
\item{}Suppose that \(ab\) is even but \(a\) and \(b\) are both odd. Namely, \(ab = 2n\), \(a=2k+1\) and \(b=2j+1\) for some integers \(n\), \(k\), and \(j\). Then%
\begin{align*}
2n \amp =(2k+1)(2j+1)\\
2n \amp =4kj+2k+2j+1\\
n \amp = 2kj+k+j+\frac{1}{2}\text{.}
\end{align*}
%
\par
But since \(2kj+k+j\) is an integer, this says that the integer \(n\) is equal to a non-integer, which is impossible.%
\item{}Let \(ab\) be an even number, say \(ab=2n\), and \(a\) be an odd number, say \(a=2k+1\).%
\begin{align*}
ab \amp =(2k+1)b\\
2n \amp =2kb+b\\
2n-2kb\amp =b\\
2(n-kb)\amp =b\text{.}
\end{align*}
%
\par
Therefore \(b\) must be even.%
\end{enumerate}
%
\end{investigation}
Anyone who doesn't believe there is creativity in mathematics clearly has not tried to write proofs. Finding a way to convince the world that a particular statement is necessarily true is a mighty undertaking and can often be quite challenging. There is not a guaranteed path to success in the search for proofs. For example, in the summer of 1742, a German mathematician by the name of Christian Goldbach wondered whether every even integer greater than 2 could be written as the sum of two primes. Centuries later, we still don't have a proof of this apparent fact (computers have checked that ``Goldbach's Conjecture'' holds for all numbers less than \(4\times 10^{18}\), which leaves only infinitely many more numbers to check).%
\par
Writing proofs is a bit of an art. Like any art, to be truly great at it, you need some sort of inspiration, as well as some foundational technique. Just as musicians can learn proper fingering, and painters can learn the proper way to hold a brush, we can look at the proper way to construct arguments. A good place to start might be to study a classic.%
\begin{theorem}{}{}{p:theorem:LFc}%
There are infinitely many primes. \index{prime numbers}%
\end{theorem}
\begin{proofptx}{}{p:proof:qGS}
Suppose this were not the case. That is, suppose there are only finitely many primes. Then there must be a last, largest prime, call it \(p\). Consider the number%
\begin{equation*}
N = p! + 1 = (p \cdot (p-1) \cdot \cdots 3\cdot 2 \cdot 1) + 1\text{.}
\end{equation*}
%
\par
Now \(N\) is certainly larger than \(p\). Also, \(N\) is not divisible by any number less than or equal to \(p\), since every number less than or equal to \(p\) divides \(p!\). Thus the prime factorization of \(N\) contains prime numbers (possibly just \(N\) itself) all greater than \(p\). So \(p\) is not the largest prime, a contradiction. Therefore there are infinitely many primes.%
\end{proofptx}
This proof is an example of a \emph{proof by contradiction}, one of the standard styles of mathematical proof. First and foremost, the proof is an argument. It contains sequence of statements, the last being the \emph{conclusion} which follows from the previous statements. The argument is valid so the conclusion must be true if the premises are true. Let's go through the proof line by line.%
\par
%
\begin{enumerate}
\item{}Suppose there are only finitely many primes. \emph{[this is a premise. Note the use of ``suppose.'']}%
\item{}There must be a largest prime, call it \(p\). \emph{[follows from line 1, by the definition of ``finitely many.'']}%
\item{}Let \(N = p! + 1\). \emph{[basically just notation, although this is the inspired part of the proof; looking at \(p! + 1\) is the key insight.]}%
\item{}\(N\) is larger than \(p\). \emph{[by the definition of \(p!\)]}%
\item{}\(N\) is not divisible by any number less than or equal to \(p\). \emph{[by definition, \(p!\) is divisible by each number less than or equal to \(p\), so \(p! + 1\) is not.]}%
\item{}The prime factorization of \(N\) contains prime numbers greater than \(p\). \emph{[since \(N\) is divisible by each prime number in the prime factorization of \(N\), and by line 5.]}%
\item{}Therefore \(p\) is not the largest prime. \emph{[by line 6, \(N\) is divisible by a prime larger than \(p\).]}%
\item{}This is a contradiction. \emph{[from line 2 and line 7: the largest prime is \(p\) and there is a prime larger than \(p\).]}%
\item{}Therefore there are infinitely many primes. \emph{[from line 1 and line 8: our only premise lead to a contradiction, so the premise is false.]}%
\end{enumerate}
%
\par
We should say a bit more about the last line. Up through line 8, we have a valid argument with the premise ``there are only finitely many primes'' and the conclusion ``there is a prime larger than the largest prime.'' This is a valid argument as each line follows from previous lines. So if the premises are true, then the conclusion \emph{must} be true. However, the conclusion is NOT true. The only way out: the premise must be false.%
\par
The sort of line-by-line analysis we did above is a great way to really understand what is going on. Whenever you come across a proof in a textbook, you really should make sure you understand what each line is saying and why it is true. Additionally, it is equally important to understand the overall structure of the proof. This is where using tools from logic is helpful. Luckily there are a relatively small number of standard proof styles that keep showing up again and again. Being familiar with these can help understand proof, as well as give ideas of how to write your own.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Direct Proof}
\typeout{************************************************}
%
\begin{subsectionptx}{Direct Proof}{}{Direct Proof}{}{}{p:subsection:Ruo}
\index{direct proof}%
The simplest (from a logic perspective) style of proof is a \terminology{direct proof}. Often all that is required to prove something is a systematic explanation of what everything means. Direct proofs are especially useful when proving implications. The general format to prove \(P \imp Q\) is this:%
\begin{quote}%
Assume \(P\). Explain, explain, \textellipsis{}, explain. Therefore \(Q\).%
\end{quote}
Often we want to prove universal statements, perhaps of the form \(\forall x (P(x) \imp Q(x))\). Again, we will want to assume \(P(x)\) is true and deduce \(Q(x)\). But what about the \(x\)? We want this to work for \emph{all} \(x\). We accomplish this by fixing \(x\) to be an arbitrary element (of the sort we are interested in).%
\par
Here are a few examples. First, we will set up the proof structure for a direct proof, then fill in the details.%
\begin{example}{}{p:example:Weh}%
Prove: For all integers \(n\), if \(n\) is even, then \(n^2\) is even.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:EaD}{}~~%
The format of the proof will be this: Let \(n\) be an arbitrary integer. Assume that \(n\) is even. Explain explain explain. Therefore \(n^2\) is even.%
\par
To fill in the details, we will basically just explain what it means for \(n\) to be even, and then see what that means for \(n^2\). Here is a complete proof.%
\begin{proofptx}{}{p:proof:khM}
Let \(n\) be an arbitrary integer. Suppose \(n\) is even. Then \(n = 2k\) for some integer \(k\). Now \(n^2 = (2k)^2 = 4k^2 = 2(2k^2)\). Since \(2k^2\) is an integer, \(n^2\) is even.%
\end{proofptx}
\end{example}
\begin{example}{}{p:example:Clq}%
Prove: For all integers \(a\), \(b\), and \(c\), if \(a|b\) and \(b|c\) then \(a|c\). (Here \(x|y\), read ``\(x\) divides \(y\)'' means that \(y\) is a multiple of \(x\), i.e., that \(x\) will divide into \(y\) without remainder).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:QoV}{}~~%
Even before we know what the divides symbol means, we can set up a direct proof for this statement. It will go something like this: Let \(a\), \(b\), and \(c\) be arbitrary integers. Assume that \(a|b\) and \(b|c\). Dot dot dot. Therefore \(a|c\).%
\par
How do we connect the dots? We say what our hypothesis (\(a|b\) and \(b|c\)) really means and why this gives us what the conclusion (\(a|c\)) really means. Another way to say that \(a|b\) is to say that \(b = ka\) for some integer \(k\) (that is, that \(b\) is a multiple of \(a\)). What are we going for? That \(c = la\), for some integer \(l\) (because we want \(c\) to be a multiple of \(a\)). Here is the complete proof.%
\begin{proofptx}{}{p:proof:wwe}
Let \(a\), \(b\), and \(c\) be integers. Assume that \(a|b\) and \(b|c\). In other words, \(b\) is a multiple of \(a\) and \(c\) is a multiple of \(b\). So there are integers \(k\) and \(j\) such that \(b = ka\) and \(c = jb\). Combining these (through substitution) we get that \(c = jka\). But \(jk\) is an integer, so this says that \(c\) is a multiple of \(a\). Therefore \(a|c\).%
\end{proofptx}
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Proof by Contrapositive}
\typeout{************************************************}
%
\begin{subsectionptx}{Proof by Contrapositive}{}{Proof by Contrapositive}{}{}{p:subsection:xBx}
\index{contrapositive!proof by}%
\index{proof by contrapositive}%
Recall that an implication \(P \imp Q\) is logically equivalent to its contrapositive \(\neg Q \imp \neg P\). There are plenty of examples of statements which are hard to prove directly, but whose contrapositive can easily be proved directly. This is all that \terminology{proof by contrapositive} does. It gives a direct proof of the contrapositive of the implication. This is enough because the contrapositive is logically equivalent to the original implication.%
\par
The skeleton of the proof of \(P \imp Q\) by contrapositive will always look roughly like this:%
\begin{quote}%
Assume \(\neg Q\). Explain, explain, \textellipsis{} explain. Therefore \(\neg P\).%
\end{quote}
As before, if there are variables and quantifiers, we set them to be arbitrary elements of our domain. Here are two examples:%
\begin{example}{}{p:example:isz}%
Is the statement ``for all integers \(n\), if \(n^2\) is even, then \(n\) is even'' true?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:cDn}{}~~%
This is the converse of the statement we proved above using a direct proof. From trying a few examples, this statement definitely appears to be true. So let's prove it.%
\par
A direct proof of this statement would require fixing an arbitrary \(n\) and assuming that \(n^2\) is even. But it is not at all clear how this would allow us to conclude anything about \(n\). Just because \(n^2 = 2k\) does not in itself suggest how we could write \(n\) as a multiple of 2.%
\par
Try something else: write the contrapositive of the statement. We get, for all integers \(n\), if \(n\) is odd then \(n^2\) is odd. This looks much more promising. Our proof will look something like this:%
\par
Let \(n\) be an arbitrary integer. Suppose that \(n\) is not even. This means that \textellipsis{}. In other words \textellipsis{}. But this is the same as saying \textellipsis{}. Therefore \(n^2\) is not even.%
\par
Now we fill in the details:%
\begin{proofptx}{}{p:proof:IKw}
We will prove the contrapositive. Let \(n\) be an arbitrary integer. Suppose that \(n\) is not even, and thus odd. Then \(n= 2k+1\) for some integer \(k\). Now \(n^2 = (2k+1)^2 = 4k^2 + 4k + 1 = 2(2k^2 + 2k) + 1\). Since \(2k^2 + 2k\) is an integer, we see that \(n^2\) is odd and therefore not even.%
\end{proofptx}
\end{example}
\begin{example}{}{p:example:OzI}%
Prove: for all integers \(a\) and \(b\), if \(a + b\) is odd, then \(a\) is odd or \(b\) is odd.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:oRF}{}~~%
The problem with trying a direct proof is that it will be hard to separate \(a\) and \(b\) from knowing something about \(a+b\). On the other hand, if we know something about \(a\) and \(b\) separately, then combining them might give us information about \(a+b\). The contrapositive of the statement we are trying to prove is: for all integers \(a\) and \(b\), if \(a\) and \(b\) are even, then \(a+b\) is even. Thus our proof will have the following format:%
\par
Let \(a\) and \(b\) be integers. Assume that \(a\) and \(b\) are both even. la la la. Therefore \(a+b\) is even.%
\par
Here is a complete proof:%
\begin{proofptx}{}{p:proof:UYO}
Let \(a\) and \(b\) be integers. Assume that \(a\) and \(b\) are even. Then \(a = 2k\) and \(b = 2l\) for some integers \(k\) and \(l\). Now \(a + b = 2k + 2l = 2(k+1)\). Since \(k + l\) is an integer, we see that \(a + b\) is even, completing the proof.%
\end{proofptx}
Note that our assumption that \(a\) and \(b\) are even is really the negation of \(a\) or \(b\) is odd. We used De Morgan's law here.%
\end{example}
We have seen how to prove some statements in the form of implications: either directly or by contrapositive. Some statements are not written as implications to begin with.%
\begin{example}{}{p:example:uGR}%
Consider the following statement: for every prime number \(p\), either \(p = 2\) or \(p\) is odd. We can rephrase this: for every prime number \(p\), if \(p \ne 2\), then \(p\) is odd. Now try to prove it.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:BfX}{}~~%
\begin{proofptx}{}{p:proof:hng}
Let \(p\) be an arbitrary prime number. Assume \(p\) is not odd. So \(p\) is divisible by 2. Since \(p\) is prime, it must have exactly two divisors, and it has 2 as a divisor, so \(p\) must be divisible by only 1 and 2. Therefore \(p = 2\). This completes the proof (by contrapositive).%
\end{proofptx}
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Proof by Contradiction}
\typeout{************************************************}
%
\begin{subsectionptx}{Proof by Contradiction}{}{Proof by Contradiction}{}{}{p:subsection:dIG}
\index{contradiction}%
\index{proof by contradiction}%
There might be statements which really cannot be rephrased as implications. For example, ``\(\sqrt 2\) is irrational.'' In this case, it is hard to know where to start. What can we assume? Well, say we want to prove the statement \(P\). What if we could prove that \(\neg P \imp Q\) where \(Q\) was false? If this implication is true, and \(Q\) is false, what can we say about \(\neg P\)? It must be false as well, which makes \(P\) true!%
\par
This is why \terminology{proof by contradiction} works. If we can prove that \(\neg P\) leads to a contradiction, then the only conclusion is that \(\neg P\) is false, so \(P\) is true. That's what we wanted to prove. In other words, if it is impossible for \(P\) to be false, \(P\) must be true.%
\par
Here are three examples of proofs by contradiction:%
\begin{example}{}{p:example:aOa}%
Prove that \(\sqrt{2}\) is irrational.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Nup}{}~~%
\begin{proofptx}{}{p:proof:tBy}
Suppose not. Then \(\sqrt 2\) is equal to a fraction \(\frac{a}{b}\). Without loss of generality, assume \(\frac{a}{b}\) is in lowest terms (otherwise reduce the fraction). So,%
\begin{equation*}
2 = \frac{a^2}{b^2}
\end{equation*}
%
\begin{equation*}
2b^2 = a^2\text{.}
\end{equation*}
%
\par
Thus \(a^2\) is even, and as such \(a\) is even. So \(a = 2k\) for some integer \(k\), and \(a^2 = 4k^2\). We then have,%
\begin{equation*}
2b^2 = 4k^2
\end{equation*}
%
\begin{equation*}
b^2 = 2k^2\text{.}
\end{equation*}
%
\par
Thus \(b^2\) is even, and as such \(b\) is even. Since \(a\) is also even, we see that \(\frac{a}{b}\) is not in lowest terms, a contradiction. Thus \(\sqrt 2\) is irrational.%
\end{proofptx}
\end{example}
\begin{example}{}{p:example:GVj}%
Prove: There are no integers \(x\) and \(y\) such that \(x^2 = 4y + 2\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ZIH}{}~~%
\begin{proofptx}{}{p:proof:FPQ}
We proceed by contradiction. So suppose there \emph{are} integers \(x\) and \(y\) such that \(x^2 = 4y + 2 = 2(2y + 1)\). So \(x^2\) is even. We have seen that this implies that \(x\) is even. So \(x = 2k\) for some integer \(k\). Then \(x^2 = 4k^2\). This in turn gives \(2k^2 = (2y + 1)\). But \(2k^2\) is even, and \(2y + 1\) is odd, so these cannot be equal. Thus we have a contradiction, so there must not be any integers \(x\) and \(y\) such that \(x^2 = 4y + 2\).%
\end{proofptx}
\end{example}
\begin{example}{}{p:example:ncs}%
The \terminology{Pigeonhole Principle}: \index{pigeonhole principle} If more than \(n\) pigeons fly into \(n\) pigeon holes, then at least one pigeon hole will contain at least two pigeons. Prove this!%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:lWZ}{}~~%
\begin{proofptx}{}{p:proof:Sei}
Suppose, contrary to stipulation, that each of the pigeon holes contains at most one pigeon. Then at most there will be \(n\) pigeons. But we assumed that there are more than \(n\) pigeons, so this is impossible. Thus there must be a pigeonhole with more than one pigeon.%
\end{proofptx}
While we phrased this proof as a proof by contradiction, we could have also used a proof by contrapositive since our contradiction was simply the negation of the hypothesis. Sometimes this will happen, in which case you can use either style of proof. There are examples however where the contradiction occurs ``far away'' from the original statement.%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Proof by (counter) Example}
\typeout{************************************************}
%
\begin{subsectionptx}{Proof by (counter) Example}{}{Proof by (counter) Example}{}{}{p:subsection:JPP}
\index{counterexample}%
It is almost NEVER okay to prove a statement with just an example. Certainly none of the statements proved above can be proved through an example. This is because in each of those cases we are trying to prove that something holds of all integers. We claim that \(n^2\) being even implies that \(n\) is even, \emph{no matter what integer} \(n\) we pick. Showing that this works for \(n = 4\) is not even close to enough.%
\par
This cannot be stressed enough. If you are trying to prove a statement of the form \(\forall x P(x)\), you absolutely CANNOT prove this with an example.\footnote{This is not to say that looking at examples is a waste of time. Doing so will often give you an idea of how to write a proof. But the examples do not belong in the proof.\label{g:fn:idm19730}}%
\par
However, existential statements can be proven this way. If we want to prove that there is an integer \(n\) such that \(n^2-n+41\) is not prime, all we need to do is find one. This might seem like a silly thing to want to prove until you try a few values for \(n\).%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cccccccc}
\multicolumn{1}{cA}{\(n\)}&1&2&3&4&5&6&7\tabularnewline\hrulethin
\multicolumn{1}{cA}{\(n^2 - n + 41\)}&41&43&47&53&61&71&83
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
So far we have gotten only primes. You might be tempted to conjecture, ``For all positive integers \(n\), the number \(n^2 - n + 41\) is prime.'' If you wanted to prove this, you would need to use a direct proof, a proof by contrapositive, or another style of proof, but certainly it is not enough to give even 7 examples. In fact, we can prove this conjecture is \emph{false} by proving its negation: ``There is a positive integer \(n\) such that \(n^2 - n + 41\) is not prime.'' Since this is an existential statement, it suffices to show that there does indeed exist such a number.%
\par
In fact, we can quickly see that \(n = 41\) will give \(41^2\) which is certainly not prime. You might say that this is a counterexample to the conjecture that \(n^2 - n + 41\) is always prime. Since so many statements in mathematics are universal, making their negations existential, we can often prove that a statement is false (if it is) by providing a counterexample.%
\begin{example}{}{p:example:TjB}%
Above we proved, ``for all integers \(a\) and \(b\), if \(a+b\) is odd, then \(a\) is odd or \(b\) is odd.'' Is the converse true?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ylr}{}~~%
The converse is the statement, ``for all integers \(a\) and \(b\), if \(a\) is odd or \(b\) is odd, then \(a + b\) is odd.'' This is false! How do we prove it is false? We need to prove the negation of the converse. Let's look at the symbols. The converse is%
\begin{equation*}
\forall a \forall b ((O(a) \vee O(b)) \imp O(a+b))\text{.}
\end{equation*}
%
\par
We want to prove the negation:%
\begin{equation*}
\neg \forall a \forall b ((O(a) \vee O(b)) \imp O(a+b))\text{.}
\end{equation*}
%
\par
Simplify using the rules from the previous sections:%
\begin{equation*}
\exists a \exists b ((O(a) \vee O(b)) \wedge \neg O(a+b))\text{.}
\end{equation*}
%
\par
As the negation passed by the quantifiers, they changed from \(\forall\) to \(\exists\). We then needed to take the negation of an implication, which is equivalent to asserting the if part and not the then part.%
\par
Now we know what to do. To prove that the converse is false we need to find two integers \(a\) and \(b\) so that \(a\) is odd or \(b\) is odd, but \(a+b\) is not odd (so even). That's easy: 1 and 3. (remember, ``or'' means one or the other or both). Both of these are odd, but \(1+3 = 4\) is not odd.%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Proof by Cases}
\typeout{************************************************}
%
\begin{subsectionptx}{Proof by Cases}{}{Proof by Cases}{}{}{p:subsection:pWY}
\index{cases}%
\index{proof by cases}%
We could go on and on and on about different proof styles (we haven't even mentioned induction or combinatorial proofs here), but instead we will end with one final useful technique: proof by cases. The idea is to prove that \(P\) is true by proving that \(Q \imp P\) and \(\neg Q \imp P\) for some statement \(Q\). So no matter what, whether or not \(Q\) is true, we know that \(P\) is true. In fact, we could generalize this. Suppose we want to prove \(P\). We know that at least one of the statements \(Q_1, Q_2, \ldots, Q_n\) is true. If we can show that \(Q_1 \imp P\) and \(Q_2 \imp P\) and so on all the way to \(Q_n \imp P\), then we can conclude \(P\). The key thing is that we want to be sure that one of our cases (the \(Q_i\)'s) must be true no matter what.%
\par
If that last paragraph was confusing, perhaps an example will make things better.%
\begin{example}{}{p:example:fxT}%
Prove: For any integer \(n\), the number \((n^3 -n)\) is even.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:esA}{}~~%
It is hard to know where to start this, because we don't know much of anything about \(n\). We might be able to prove that \(n^3 - n\) is even if we knew that \(n\) was even. In fact, we could probably prove that \(n^3-n\) was even if \(n\) was odd. But since \(n\) must either be even or odd, this will be enough. Here's the proof.%
\begin{proofptx}{}{p:proof:KzJ}
We consider two cases: if \(n\) is even or if \(n\) is odd.%
\par
Case 1: \(n\) is even. Then \(n = 2k\) for some integer \(k\). This give%
\begin{align*}
n^3 - n \amp = 8k^3 - 2k\\
\amp = 2(4k^2 - k)\text{,}
\end{align*}
and since \(4k^2 - k\) is an integer, this says that \(n^3-n\) is even.%
\par
Case 2: \(n\) is odd. Then \(n = 2k+1\) for some integer \(k\). This gives%
\begin{align*}
n^3 - n \amp = (2k+1)^3 - (2k+1)\\
\amp = 8k^3 + 6k^2 + 6k + 1 - 2k - 1\\
\amp = 2(4k^3 + 3k^2 + 2k)\text{,}
\end{align*}
and since \(4k^3 + 3k^2 + 2k\) is an integer, we see that \(n^3 - n\) is even again.%
\par
Since \(n^3 - n\) is even in both exhaustive cases, we see that \(n^3 - n\) is indeed always even.%
\end{proofptx}
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_logic-proofs}
\begin{divisionexercise}{\hyperlink{p:solution:jPn-back}{1}}{}{}{p:exercise:ENx}%
Consider the statement ``for all integers \(a\) and \(b\), if \(a + b\) is even, then \(a\) and \(b\) are even''%
\begin{enumerate}[label=(\alph*)]
\item{}Write the contrapositive of the statement.%
\item{}Write the converse of the statement.%
\item{}Write the negation of the statement.%
\item{}Is the original statement true or false? Prove your answer.%
\item{}Is the contrapositive of the original statement true or false? Prove your answer.%
\item{}Is the converse of the original statement true or false? Prove your answer.%
\item{}Is the negation of the original statement true or false? Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PWw-back}{2}}{}{}{p:exercise:kUG}%
For each of the statements below, say what method of proof you should use to prove them. Then say how the proof starts and how it ends. Bonus points for filling in the middle.%
\begin{enumerate}[label=(\alph*)]
\item{}There are no integers \(x\) and \(y\) such that \(x\) is a prime greater than 5 and \(x = 6y + 3\).%
\item{}For all integers \(n\), if \(n\) is a multiple of 3, then \(n\) can be written as the sum of consecutive integers.%
\item{}For all integers \(a\) and \(b\), if \(a^2 + b^2\) is odd, then \(a\) or \(b\) is odd.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:wdF-back}{3}}{}{}{p:exercise:RbP}%
Consider the statement: for all integers \(n\), if \(n\) is even then \(8n\) is even.%
\begin{enumerate}[label=(\alph*)]
\item{}Prove the statement. What sort of proof are you using?%
\item{}Is the converse true? Prove or disprove.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:IrX-back}{4}}{}{}{p:exercise:xiY}%
The game TENZI comes with 40 six-sided dice (each numbered 1 to 6). Suppose you roll all 40 dice.%
\begin{enumerate}[label=(\alph*)]
\item{}Prove that there will be at least seven dice that land on the same number.%
\item{}How many dice would you have to roll before you were guaranteed that some four of them would all match or all be different? Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:ANy-back}{5}}{}{}{p:exercise:dqh}%
Prove that for all integers \(n\), it is the case that \(n\) is  even if and only if \(3n\) is even.  That is, prove both implications: if \(n\) is even, then \(3n\) is even, and if \(3n\) is even, then \(n\) is even.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:gUH-back}{6}}{}{}{p:exercise:Jxq}%
Prove that \(\sqrt 3\) is irrational.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:NbQ-back}{7}}{}{}{p:exercise:pEz}%
Consider the statement: for all integers \(a\) and \(b\), if \(a\) is even and \(b\) is a multiple of 3, then \(ab\) is a multiple of 6.%
\begin{enumerate}[label=(\alph*)]
\item{}Prove the statement. What sort of proof are you using?%
\item{}State the converse. Is it true? Prove or disprove.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:VLI}%
Prove the statement: For all integers \(n\), if \(5n\) is odd, then \(n\) is odd. Clearly state the style of proof you are using.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:tiZ-back}{9}}{}{}{p:exercise:BSR}%
Prove the statement: For all integers \(a\), \(b\), and \(c\), if \(a^2 + b^2 = c^2\), then \(a\) or \(b\) is even.%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:iaa}%
Suppose that you would like to prove the following implication:%
\begin{quote}%
For all numbers \(n\), if \(n\) is prime then \(n\) is solitary.%
\end{quote}
Write out the beginning and end of the argument if you were to prove the statement,%
\begin{enumerate}[label=(\alph*)]
\item{}Directly%
\item{}By contrapositive%
\item{}By contradiction%
\end{enumerate}
%
\par
You do not need to provide details for the proofs (since you do not know what solitary means). However, make sure that you provide the first few and last few lines of the proofs so that we can see that logical structure you would follow.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Fxr-back}{11}}{}{}{p:exercise:Ohj}%
Suppose you have a collection of 5-cent stamps and 8-cent stamps. We saw earlier that it is possible to make any amount of postage greater than 27 cents using combinations of both these types of stamps. But, let's ask some other questions:%
\begin{enumerate}[label=(\alph*)]
\item{}Prove that if you only use an even number of both types of stamps, the amount of postage you make must be even.%
\item{}Suppose you made an even amount of postage. Prove that you used an even number of at least one of the types of stamps.%
\item{}Suppose you made exactly 72 cents of postage. Prove that you used at least 6 of one type of stamp.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{12}{}{}{p:exercise:uos}%
Prove: \(x=y\) if and only if \(xy=\dfrac{(x+y)^2}{4}\). Note, you will need to prove two ``directions'' here: the ``if'' and the ``only if'' part.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:lEA-back}{13}}{}{}{p:exercise:avB}%
Prove that \(\log(7)\) is irrational.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:RLJ-back}{14}}{}{}{p:exercise:GCK}%
Prove that there are no integer solutions to the equation \(x^2 = 4y + 3\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:xSS-back}{15}}{}{}{p:exercise:mJT}%
Prove that every prime number greater than 3 is either one more or one less than a multiple of 6.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:eab-back}{16}}{}{}{p:exercise:SRc}%
Your ``friend'' has shown you a ``proof'' he wrote to show that \(1 = 3\). Here is the proof:%
\begin{proofptx}{}{p:proof:Khk}
I claim that \(1 = 3\). Of course we can do anything to one side of an equation as long as we also do it to the other side. So subtract 2 from both sides. This gives \(-1 = 1\). Now square both sides, to get \(1 = 1\). And we all agree this is true.%
\end{proofptx}
What is going on here? Is your friend's argument valid? Is the argument a proof of the claim \(1=3\)? Carefully explain using what we know about logic.%
\end{divisionexercise}%
\begin{divisionexercise}{17}{}{}{p:exercise:yYl}%
A standard deck of 52 cards consists of 4 suites (hearts, diamonds, spades and clubs) each containing 13 different values (Ace, 2, 3, \textellipsis{}, 10, J, Q, K). If you draw some number of cards at random you might or might not have a pair (two cards with the same value) or three cards all of the same suit. However, if you draw enough cards, you will be guaranteed to have these. For each of the following, find the smallest number of cards you would need to draw to be guaranteed having the specified cards. Prove your answers.%
\begin{enumerate}[label=(\alph*)]
\item{}Three of a kind (for example, three 7's).%
\item{}A flush of five cards (for example, five hearts).%
\item{}Three cards that are either all the same suit or all different suits.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:qot-back}{18}}{}{}{p:exercise:ffu}%
Suppose you are at a party with 19 of your closest friends (so including you, there are 20 people there). Explain why there must be least two people at the party who are friends with the same number of people at the party. Assume friendship is always reciprocated.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:WvC-back}{19}}{}{}{p:exercise:LmD}%
Your friend has given you his list of 115 best Doctor Who episodes (in order of greatness). It turns out that you have seen 60 of them. Prove that there are at least two episodes you have seen that are exactly four episodes apart on your friend's list.%
\end{divisionexercise}%
\begin{divisionexercise}{20}{}{}{p:exercise:rtM}%
Suppose you have an \(n\times n\) chessboard but your dog has eaten one of the corner squares. Can you still cover the remaining squares with dominoes? What needs to be true about \(n\)? Give necessary and sufficient conditions (that is, say exactly which values of \(n\) work and which do not work). Prove your answers.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}[scale=.25]
\foreach \x in {0,2,...,6}{
\foreach \y in {0,2,...,6}{
\draw[fill=white!85!black] (\x,\y) rectangle (\x+1, \y+1) rectangle (\x+2,\y+2);
}}
\draw (0,0) grid (8,8);
\draw[white, fill=white] (7,7) rectangle (8,8);
\draw[very thick] (0,0) -- (8,0) --(8,7) -- (7,7) -- (7,8) -- (0,8) -- (0,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{21}{}{}{p:exercise:XAV}%
What if your \(n\times n\) chessboard is missing two opposite corners? Prove that no matter what \(n\) is, you will not be able to cover the remaining squares with dominoes.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=.25]
\foreach \x in {0,2,...,6}{
\foreach \y in {0,2,...,6}{
\draw[fill=white!85!black] (\x,\y) rectangle (\x+1, \y+1) rectangle (\x+2,\y+2);
}}
\draw (0,0) grid (8,8);
\draw[white, fill=white] (7,7) rectangle (8,8) (0,0) rectangle (1,1);
\draw[very thick] (0,1) -- (1,1) -- (1,0) -- (8,0) --(8,7) -- (7,7) -- (7,8) -- (0,8) -- (0,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 3.3 Chapter Summary}
\typeout{************************************************}
%
\begin{sectionptx}{Chapter Summary}{}{Chapter Summary}{}{}{x:section:sec_logic-conc}
\begin{introduction}{}%
We have considered logic both as its own sub-discipline of mathematics, and as a means to help us better understand and write proofs. In either view, we noticed that mathematical statements have a particular logical form, and analyzing that form can help make sense of the statement.%
\par
At the most basic level, a statement might combine simpler statements using \emph{logical connectives}. We often make use of variables, and \emph{quantify} over those variables. How to resolve the truth or falsity of a statement based on these connectives and quantifiers is what logic is all about. From this, we can decide whether two statements are logically equivalent or if one or more statements (logically) imply another.%
\par
When writing proofs (in any area of mathematics) our goal is to explain why a mathematical statement is true. Thus it is vital that our argument implies the truth of the statement. To be sure of this, we first must know what it means for the statement to be true, as well as ensure that the statements that make up the proof correctly imply the conclusion. A firm understanding of logic is required to check whether a proof is correct.%
\par
There is, however, another reason that understanding logic can be helpful. Understanding the logical structure of a statement often gives clues as how to write a proof of the statement.%
\par
This is not to say that writing proofs is always straight forward. Consider again the \emph{Goldbach conjecture}: \index{Goldbach conjecture}%
\begin{quote}%
Every even number greater than 2 can be written as the sum of two primes.%
\end{quote}
We are not going to try to prove the statement here, but we can at least say what a proof might look like, based on the logical form of the statement. Perhaps we should write the statement in an equivalent way which better highlights the quantifiers and connectives:%
\begin{quote}%
For all integers \(n\), if \(n\) is even and greater than 2, then there exists integers \(p\) and \(q\) such that \(p\) and \(q\) are prime and \(n = p+q\).%
\end{quote}
What would a direct proof look like? Since the statement starts with a universal quantifier, we would start by, \textasciigrave{}\textasciigrave{}Let \(n\) be an arbitrary integer." The rest of the statement is an implication. In a direct proof we assume the ``if'' part, so the next line would be, ``Assume \(n\) is greater than 2 and is even.'' I have no idea what comes next, but eventually, we would need to find two prime numbers \(p\) and \(q\) (depending on \(n\)) and explain how we know that \(n = p+q\).%
\par
Or maybe we try a proof by contradiction. To do this, we first assume the negation of the statement we want to prove. What is the negation? From what we have studied we should be able to see that it is,%
\begin{quote}%
There is an integer \(n\) such that \(n\) is even and greater than \(2\), but for all integers \(p\) and \(q\), either \(p\) or \(q\) is not prime or \(n \ne p+q\).%
\end{quote}
Could this statement be true? A proof by contradiction would start by assuming it was and eventually conclude with a contradiction, proving that our assumption of truth was incorrect. And if you can find such a contradiction, you will have proved the most famous open problem in mathematics. Good luck.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Exercises  Chapter Review}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Chapter Review}{}{Chapter Review}{}{}{x:exercises:exercises_logic-conc}
\begin{divisionexercise}{\hyperlink{p:solution:ViS-back}{1}}{}{}{x:exercise:tt}%
Complete a truth table for the statement \(\neg P \imp (Q \wedge R)\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Bqb-back}{2}}{}{}{p:exercise:LPg}%
Suppose you know that the statement ``if Peter is not tall, then Quincy is fat and Robert is skinny'' is false. What, if anything, can you conclude about Peter and Robert if you know that Quincy is indeed fat? Explain (you may reference \hyperlink{x:exercise:tt}{problem~3.3.1}).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:hxk-back}{3}}{}{}{p:exercise:rWp}%
Are the statements \(P \imp (Q \vee R)\) and \((P \imp Q) \vee (P \imp R)\) logically equivalent? Explain your answer.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:NEt-back}{4}}{}{}{p:exercise:Ydy}%
Is the following a valid deduction rule? Explain.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cc}
&\(P \imp Q\)\tabularnewline[0pt]
&\(P\imp R\)\tabularnewline\hrulethin
\(\therefore\)&\(P \imp (Q \wedge R)\).
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:tLC-back}{5}}{}{}{p:exercise:EkH}%
Write the negation, converse and contrapositive for each of the statements below.%
\begin{enumerate}[label=(\alph*)]
\item{}If the power goes off, then the food will spoil.%
\item{}If the door is closed, then the light is off.%
\item{}\(\forall x (x \lt 1 \imp x^2 \lt 1)\).%
\item{}For all natural numbers \(n\), if \(n\) is prime, then \(n\) is solitary.%
\item{}For all functions \(f\), if \(f\) is differentiable, then \(f\) is continuous.%
\item{}For all integers \(a\) and \(b\), if \(a\cdot b\) is even, then \(a\) and \(b\) are even.%
\item{}For every integer \(x\) and every integer \(y\) there is an integer \(n\) such that if \(x > 0\) then \(nx > y\).%
\item{}For all real numbers \(x\) and \(y\), if \(xy = 0\) then \(x = 0\) or \(y = 0\).%
\item{}For every student in Math 228, if they do not understand implications, then they will fail the exam.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ZSL-back}{6}}{}{}{p:exercise:krQ}%
Consider the statement: for all integers \(n\), if \(n\) is even and \(n \le 7\) then \(n\) is negative or \(n \in \{0,2,4,6\}\).%
\begin{enumerate}[label=(\alph*)]
\item{}Is the statement true? Explain why.%
\item{}Write the negation of the statement. Is it true? Explain.%
\item{}State the contrapositive of the statement. Is it true? Explain.%
\item{}State the converse of the statement. Is it true? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:FZU-back}{7}}{}{}{p:exercise:QyZ}%
Consider the statement: \(\forall x (\forall y (x + y = y) \imp \forall z (x\cdot z = 0))\).%
\begin{enumerate}[label=(\alph*)]
\item{}Explain what the statement says in words. Is this statement true? Be sure to state what you are taking the universe of discourse to be.%
\item{}Write the converse of the statement, both in words and in symbols. Is the converse true?%
\item{}Write the contrapositive of the statement, both in words and in symbols. Is the contrapositive true?%
\item{}Write the negation of the statement, both in words and in symbols. Is the negation true?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:mhd-back}{8}}{}{}{p:exercise:wGi}%
Simplify the following.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg (\neg (P \wedge \neg Q) \imp \neg(\neg R \vee \neg(P \imp R)))\).%
\item{}\(\neg \exists x \neg \forall y \neg \exists z (z = x + y \imp \exists w (x - y = w))\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Som-back}{9}}{}{}{p:exercise:cNr}%
Consider the statement: for all integers \(n\), if \(n\) is odd, then \(7n\) is odd.%
\begin{enumerate}[label=(\alph*)]
\item{}Prove the statement. What sort of proof are you using?%
\item{}Prove the converse. What sort of proof are you using?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:KJN-back}{10}}{}{}{p:exercise:IUA}%
Suppose you break your piggy bank and scoop up a handful of 22 coins (pennies, nickels, dimes and quarters).%
\begin{enumerate}[label=(\alph*)]
\item{}Prove that you must have at least 6 coins of a single denomination.%
\item{}Suppose you have an odd number of pennies. Prove that you must have an odd number of at least one of the other types of coins.%
\item{}How many coins would you need to scoop up to be sure that you either had 4 coins that were all the same or 4 coins that were all different? Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:pbJ}%
You come across four trolls playing bridge. They declare:%
\begin{quote}%
Troll 1: All trolls here see at least one knave.%
\par
Troll 2: I see at least one troll that sees only knaves.%
\par
Troll 3: Some trolls are scared of goats.%
\par
Troll 4: All trolls are scared of goats.%
\end{quote}
Are there any trolls that are not scared of goats? Recall, of course, that all trolls are either knights (who always tell the truth) or knaves (who always lie).%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%
\typeout{************************************************}
\typeout{Chapter 4 Graph Theory}
\typeout{************************************************}
%
\begin{chapterptx}{Graph Theory}{}{Graph Theory}{}{}{x:chapter:ch_graphtheory}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:dGT}%
In the time of Euler, in the town of Königsberg in Prussia, there was a river containing two islands. The islands were connected to the banks of the river by seven bridges (as seen below). The bridges were very beautiful, and on their days off, townspeople would spend time walking over the bridges. As time passed, a question arose: was it possible to plan a walk so that you cross each bridge once and only once? Euler was able to answer this question. Are you?%
\begin{sidebyside}{1}{0.1}{0.1}{0}%
\begin{sbspanel}{0.8}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=0.9]
\definecolor{land}{HTML}{BCC3A6}
\definecolor{water}{HTML}{92A2FF}
\definecolor{bridge}{HTML}{D3AC6B}
\clip (-6,-2.8) rectangle (5.9,2.5);
\fill[color=water] (-6,-1.3) rectangle (5.5,1.19);
\draw[thick, fill=land] plot[smooth cycle] coordinates {(0,0) (-.5, .5) (-1,.6) (-2, .7) (-3,.5) (-3.3, -.7) (-2.8, -.8) (-1,-.7) (-.3, -.5)};
\draw[thick, fill=land] plot[smooth cycle] coordinates {(.5,0) (.4,.5) (1,.6) (2,.5) (2.7,0) (2.9,-.6) (2,-.8) (1,-.5) (.7,-.4)};
\shade[bottom color=land, top color=white!90!land] plot[smooth] coordinates {(-6,.2) (-4.5,.4) (-3,1) (0,.8) (1.5,1) (3,.5) (5.5,.2)} -- plot coordinates {(5.5,3) (-6,3)};
\draw[thick] plot[smooth] coordinates {(-6,.2) (-4.5,.4) (-3,1) (0,.8) (1.5,1) (3,.5) (5.5,.2)};
\shade[top color=land, bottom color=white!75!land] plot[smooth] coordinates {(-6,-.7) (-4.5,-.6) (-3,-1.2) (0,-1) (3,-1.1) (5,-.8) (5.5,-.7)} -- plot coordinates {(5.5,-3) (-6,-3)};
\draw[thick] plot[smooth] coordinates {(-6,-.7) (-4.5,-.6) (-3,-1.2) (0,-1) (3,-1.1) (5,-.8) (5.5,-.7)};
\path[fill=bridge] (-.3,.1) to[out=-10, in=190] (.8,.1) -- (.7, -.2) to[out=170, in=10] (-.35,-.2) -- cycle;
\draw[thick] (-.3,.1) to[out=-10, in=190] (.8,.1) (.7, -.2) to[out=170, in=10] (-.35,-.2);
\path[fill=bridge] (1.75,-1.5) to[out=100, in=260] (1.85,-.5) -- (1.55, -.4) to[out=280, in=80] (1.5,-1.4) -- cycle;
\draw[thick] (1.75,-1.5) to[out=100, in=260] (1.85,-.5) (1.55, -.4) to[out=280, in=80] (1.5,-1.4);

\path[fill=bridge] (1.6,.35) to[out=100, in=280] (1.35,1.3) -- (1.1, 1.2) to[out=300, in=110] (1.4,.3) -- cycle;
\draw[thick] (1.6,.35) to[out=100, in=280] (1.35,1.3) (1.1, 1.2) to[out=300, in=110] (1.4,.3);

\path[fill=bridge] (-.7,.35) to[out=70, in=240] (-.3,1.1) -- (-.5, 1.2) to[out=250, in=60] (-.9,.45) -- cycle;
\draw[thick] (-.7,.35) to[out=70, in=240] (-.3,1.1) (-.5, 1.2) to[out=250, in=60] (-.9,.45);

\path[fill=bridge] (-2.05,.5) to[out=105, in=270] (-2.15,1.4) -- (-2.4, 1.35) to[out=280, in=90] (-2.3,.45) -- cycle;
\draw[thick] (-2.05,.5) to[out=105, in=270] (-2.15,1.4) (-2.4, 1.35) to[out=280, in=90] (-2.3,.45);

\path[fill=bridge] (-2.75,-1.5) to[out=85, in=250] (-2.5,-.6) -- (-2.75, -.5) to[out=260, in=75] (-3,-1.45) -- cycle;
\draw[thick] (-2.75,-1.5) to[out=85, in=250] (-2.5,-.6) (-2.75, -.5) to[out=260, in=75] (-3,-1.45);

\path[fill=bridge] (-.7,-1.5) to[out=100, in=260] (-.7,-.5) -- (-1, -.55) to[out=280, in=80] (-1,-1.45) -- cycle;
\draw[thick] (-.7,-1.5) to[out=100, in=260] (-.7,-.5) (-1, -.55) to[out=280, in=80] (-1,-1.45);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{investigation}
Graph Theory is a relatively new area of mathematics, first studied by the super famous mathematician Leonhard Euler in 1735. Since then it has blossomed in to a powerful tool used in nearly every branch of science and is currently an active area of mathematics research.%
\par
The problem above, known as the \emph{Seven Bridges of Königsberg}, \index{Königsberg} is the problem that originally inspired graph theory. Consider a ``different'' problem: Below is a drawing of four dots connected by some lines. Is it possible to trace over each line once and only once (without lifting up your pencil, starting and ending on a dot)?%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=0.9, yscale=.5]
\draw (-1,-2) \v to [out=120, in=240] (-1,0) \v to [out=120, in=240] (-1,2) \v to [out=300, in=60] (-1,0) to [out=300, in=60] (-1,-2);
\draw (1,0) \v -- (-1,2) (-1,0) -- (1,0) -- (-1,-2);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
There is an obvious connection between these two problems. Any path in the dot and line drawing corresponds exactly to a path over the bridges of Königsberg.%
\par
Pictures like the dot and line drawing are called \terminology{graphs}. Graphs are made up of a collection of dots called \terminology{vertices} \index{vertices} and lines connecting those dots called \terminology{edges}. \index{edges} When two vertices are connected by an edge, we say they are \terminology{adjacent}. \index{adjacent} The nice thing about looking at graphs instead of pictures of rivers, islands and bridges is that we now have a mathematical object to study. We have distilled the ``important'' parts of the bridge picture for the purposes of the problem. It does not matter how big the islands are, what the bridges are made out of, if the river contains alligators, etc. All that matters is which land masses are connected to which other land masses, and how many times. %
\par
We will return to the question of finding paths through graphs later. But first, here are a few other situations you can represent with graphs:%
\begin{example}{}{p:example:MII}%
Al, Bob, Cam, Dan, and Euler are all members of the social networking website \emph{Facebook}. The site allows members to be ``friends'' with each other. It turns out that Al and Cam are friends, as are Bob and Dan. Euler is friends with everyone. Represent this situation with a graph.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:JOc}{}~~%
Each person will be represented by a vertex and each friendship will be represented by an edge. That is, two vertices will be adjacent (there will be an edge between them) if and only if the people represented by those vertices are friends. %
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}[scale=0.7]
  \draw(-1, 0) \vl{C} -- (0,1) \vb{E} -- (-1,2) \vl{A} -- (-1,0)(1,0) \vr{D} -- (0,1)  -- (1,2) \vr{B} -- (1,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{example}
\begin{example}{}{p:example:sPR}%
Each of three houses must be connected to each of three utilities. Is it possible to do this without any of the utility lines crossing?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:pVl}{}~~%
We will answer this question later. For now, notice how we would ask this question in the context of graph theory. We are really asking whether it is possible to redraw the graph below without any edges crossing (except at vertices). Think of the top row as the houses, bottom row as the utilities.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
        \begin{tikzpicture}[yscale=.8]
  \draw (-1,1) \v -- (-1,0)\v  -- (0,1) \v -- (0,0) \v -- (1,1) \v -- (1,0) \v -- (0,1) -- (-1,0) -- (1,1) (1,0) -- (-1,1) -- (0,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{example}
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Section 4.1 Definitions}
\typeout{************************************************}
%
\begin{sectionptx}{Definitions}{}{Definitions}{}{}{x:section:sec_gt-intro}
\begin{investigation}{}{p:investigation:LpU}%
Which (if any) of the graphs below are the same?%
\begin{sidebyside}{5}{0.01}{0.01}{0.02}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (0,0);
\coordinate (C) at (1,0);
\coordinate (D) at (-.5,1);
\coordinate (E) at (.5,1);

\draw (A) -- (D) -- (B) -- (E) -- (C) -- (D) (A) -- (E);
\foreach \x in {(A), (B), (C), (D), (E)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}
\coordinate (A) at (90+360/5:1);
\coordinate (B) at (90+2*360/5:1);
\coordinate (C) at (90+3*360/5:1);
\coordinate (D) at (90+4*360/5:1);
\coordinate (E) at (90:1);

\draw (A) -- (B) -- (C) -- (D) -- (E) -- (A);
\foreach \x in {(A), (B), (C), (D), (E)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (0,1);
\coordinate (C) at (0,0);
\coordinate (D) at (0,-1);
\coordinate (E) at (1,0);

\draw (A) -- (B) -- (E) -- (C) -- (A) -- (D) -- (E);
\foreach \x in {(A), (B), (C), (D), (E)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}
\coordinate (A) at (90+360/5:1);
\coordinate (B) at (90+2*360/5:1);
\coordinate (C) at (90+3*360/5:1);
\coordinate (D) at (90+4*360/5:1);
\coordinate (E) at (90:1);

\draw (A) -- (C) -- (E) -- (B) -- (D) -- (A);
\foreach \x in {(A), (B), (C), (D), (E)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (0,1);
\coordinate (C) at (0,0);
\coordinate (D) at (0,-1);
\coordinate (E) at (1,0);

\draw (A) -- (C) -- (B) (D) -- (C) -- (E);
\foreach \x in {(A), (B), (C), (D), (E)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The graphs above are unlabeled. Usually we think of a graph as having a specific set of vertices. Which (if any) of the graphs below are the same?%
\begin{sidebyside}{4}{0.035}{0.035}{0.07}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (-1, 1);
\coordinate (C) at (0,0);
\coordinate (D) at (0,1);
\coordinate (E) at (1,0);
\coordinate (F) at (1,1);

\draw (A) node[below] {\(a\)} -- (B) node[above] {\(b\)} -- (C) node[below] {\(c\)} -- (D) node[above] {\(d\)} -- (E) node[below] {\(e\)} -- (F) node[above] {\(f\)} -- (C) (A) -- (D);
\foreach \x in {(A), (B), (C), (D), (E), (F)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (-1, 1);
\coordinate (C) at (0,1);
\coordinate (D) at (0,0);
\coordinate (E) at (1,0);
\coordinate (F) at (1,1);

\draw (A) node[below] {\(a\)} -- (B) node[above] {\(b\)} -- (C) node[above] {\(c\)} -- (D) node[below] {\(d\)} -- (E) node[below] {\(e\)} -- (F) node[above] {\(f\)} -- (C) (A) -- (D);
\foreach \x in {(A), (B), (C), (D), (E), (F)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (-1, 1);
\coordinate (C) at (0,0);
\coordinate (D) at (0,1);
\coordinate (E) at (1,0);
\coordinate (F) at (1,1);

\draw (A) node[below] {\(a\)} -- (B) node[above] {\(c\)} -- (C) node[below] {\(e\)} -- (D) node[above] {\(b\)} -- (E) node[below] {\(d\)} -- (F) node[above] {\(f\)} -- (C) (A) -- (D);
\foreach \x in {(A), (B), (C), (D), (E), (F)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\coordinate (A) at (-1,0);
\coordinate (B) at (-1, 1);
\coordinate (C) at (0,1);
\coordinate (D) at (0,0);
\coordinate (E) at (1,0);
\coordinate (F) at (1,1);

\draw (A) node[below] {\(v_6\)} -- (B) node[above] {\(v_1\)} -- (C) node[above] {\(v_2\)} -- (D) node[below] {\(v_5\)} -- (E) node[below] {\(v_4\)} -- (F) node[above] {\(v_3\)} -- (C) (A) -- (D);
\foreach \x in {(A), (B), (C), (D), (E), (F)}{
	\fill \x \v;
}
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Actually, all the graphs we have seen above are just \emph{drawings} of graphs. A graph is really an abstract mathematical object consisting of two sets \(V\) and \(E\) where \(E\) is a set of 2-element subsets of \(V\). Are the graphs below the same or different?%
\begin{description}
\item[{Graph 1:}]\(V = \{a, b, c, d, e\}\),%
\par
\(E = \{\{a,b\}, \{a, c\}, \{a,d\}, \{a,e\}, \{b,c\}, \{d,e\}\}\).%
\item[{Graph 2:}]\(V = \{v_1, v_2, v_3, v_4, v_5\}\),%
\par
\(E = \{\{v_1, v_3\}, \{v_1, v_5\}, \{v_2, v_4\}, \{v_2, v_5\}, \{v_3, v_5\}, \{v_4, v_5\}\}\).%
\end{description}
%
\end{investigation}
Before we start studying graphs, we need to agree upon what a graph is.  		While we almost always think of graphs as pictures (dots connected by lines) this is fairly ambiguous. Do the lines need to be straight? Does it matter how long the lines are or how large the dots are? Can there be two lines connecting the same pair of dots? Can one line connect three dots?%
\par
The way we avoid ambiguities in mathematics is to provide concrete and rigorous \emph{definitions}. Crafting good definitions is not easy, but it is incredibly important. The definition is the agreed upon starting point from which all truths in mathematics proceed. Is there a graph with no edges? We have to look at the definition to see if this is possible.%
\par
We want our definition to be precise and unambiguous, but it also must agree with our intuition for the objects we are studying. It needs to be useful: we \emph{could} define a graph to be a six legged mammal, but that would not let us solve any problems about bridges. Instead, here is the (now) standard definition of a graph.%
\begin{assemblage}{Graph Definition.}{p:assemblage:AgV}%
A \terminology{graph} is an ordered pair \(G = (V, E)\) consisting of a nonempty set \(V\) (called the \terminology{vertices}) and a set \(E\) (called the \terminology{edges}) of two-element subsets of \(V\).%
\end{assemblage}
Strange. Nowhere in the definition is there talk of dots or lines. From the definition, a graph could be%
\begin{equation*}
(\{a,b,c,d\}, \{\{a,b\}, \{a,c\}, \{b,c\}, \{b,d\}, \{c,d\}\})\text{.}
\end{equation*}
Here we have a graph with four vertices (the letters \(a, b, c, d\)) and five edges (the pairs \(\{a,b\}, \{a,c\}, \{b,c\}, \{b,d\}, \{c,d\})\)).%
\par
Looking at sets and sets of 2-element sets is difficult to process. That is why we often draw a representation of these sets. We put a dot down for each vertex, and connect two dots with a line precisely when those two vertices are one of the 2-element subsets in our set of edges. Thus one way to draw the graph described above is this:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
	\begin{tikzpicture}[scale=0.7]
  \draw  (-1,1) \vl{\(a\)} -- (1,1) \vr{\(b\)} (-1,1) -- (-1,-1) \vl{\(c\)} -- (1,-1) \vr{\(d\)} -- (1,1) -- (-1,-1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
However we could also have drawn the graph differently. For example either of these:%
\begin{sidebyside}{2}{0.1375}{0.1375}{0.275}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
	\begin{tikzpicture}[scale=0.7]
  \draw  (-1,1) \vl{\(a\)} -- (1,-1) \vr{\(b\)} (-1,1) -- (-1,-1) \vl{\(c\)} -- (1,1) \vr{\(d\)} -- (1,-1) -- (-1,-1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}[bottom]%
\resizebox{\linewidth}{!}{%
	\begin{tikzpicture}[scale=0.7]
  \draw  (-1.5,0) \v -- (-.5,0) \v (-1.5,0) .. controls (-.5,1) .. (.5,0) \v -- (1.5,0) \v .. controls (.5,1) .. (-.5,0) -- (.5,0);
   {\footnotesize
   \draw (-1.5, -.75) node[above]{\(a\)} (-.5,-.75) node[above]{\(b\)} (.5,-.75) node[above]{\(c\)} (1.5, -.75) node[above]{\(d\)};
   }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
We should be careful about what it means for two graphs to be ``the same.'' Actually, given our definition, this is easy: Are the vertex sets equal? Are the edge sets equal? We know what it means for sets to be equal, and graphs are nothing but a pair of two special sorts of sets.%
\begin{example}{}{p:example:kXX}%
Are the graphs below equal?%
\begin{equation*}
G_1 = (\{a,b,c\}, \{\{a,b\}, \{b,c\}\}); \qquad G_2 = (\{a,b,c\}, \{\{a,c\}, \{c, b\}\})\text{.}
\end{equation*}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:XEm}{}~~%
No. Here the vertex sets of each graph are equal, which is a good start. Also, both graphs have two edges. In the first graph, we have edges \(\{a,b\}\) and \(\{b,c\}\), while in the second graph we have edges	\(\{a,c\}\) and 	\(\{c,b\}\). Now we do have \(\{b,c\} = \{c,b\}\), so that is not the problem. The issue is that \(\{a,b\} \ne \{a,c\}\). Since the edge sets of the two graphs are not equal (as sets), the graphs are not equal (as graphs).%
\end{example}
Even if two graphs are not \emph{equal}, they might be \emph{basically} the same. The graphs in the previous example could be drawn like this:%
\begin{sidebyside}{1}{0.2}{0.2}{0}%
\begin{sbspanel}{0.6}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\draw (-3,0) \vb{\footnotesize $a$} -- (-2,0) \vb{\footnotesize $b$} -- (-1,0) \vb{\footnotesize $c$}  (3,0) \vb{\footnotesize $b$} -- (2,0) \vb{\footnotesize $c$} -- (1,0) \vb{$\footnotesize a$};
\node[above] at (-3,.5) {$G_1$} ;
\node[above] at (1, .5) {$G_2$};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Graphs that are basically the same (but perhaps not equal) are called \terminology{isomorphic}. We will give a precise definition of this term after a quick example:%
\begin{example}{}{p:example:Rfg}%
Consider the graphs:%
\begin{equation*}
G_1 = (V_1, E_1) \text{ where }
V_1 = \{a, b, c\} \text{ and } E_1 = \{\{a,b\}, \{a,c\}, \{b,c\}\};
\end{equation*}
%
\begin{equation*}
G_2 = (V_2, E_2) \text{ where }
V_2 = \{u,v,w\} \text{ and }E_2 = \{\{u,v\}, \{u,w\}, \{v,w\}\}.
\end{equation*}
%
\par
Are these graphs the same?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:DLv}{}~~%
The two graphs are NOT equal. It is enough to notice that \(V_1 \ne V_2\) since \(a \in V_1\) but \(a \notin V_2\). However, both of these graphs consist of three vertices with edges connecting every pair of vertices. We can draw them as follows:%
\begin{sidebyside}{2}{0.125}{0.125}{0.25}%
\begin{sbspanel}{0.25}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\draw  (90:1) \va{\(a\)} -- (210:1) \vl{\(b\)} -- (-30:1) \vr{\(c\)} -- (90:1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}[bottom]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\draw  (90:1) \va{\(u\)} -- (210:1) \vl{\(v\)} -- (-30:1) \vr{\(w\)} -- (90:1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Clearly we want to say these graphs are basically the same, so while they are not equal, they will be \emph{isomorphic}. We can rename the vertices of one graph and get the second graph as the result.%
\end{example}
Intuitively, graphs are \terminology{isomorphic} \index{isomorphic} if they are basically the same, or better yet, if they are the same except for the names of the vertices. To make the concept of renaming vertices precise, we give the following definitions:%
\begin{assemblage}{Isomorphic Graphs.}{p:assemblage:goe}%
An \terminology{isomorphism} \index{isomorphism} between two graphs \(G_1\) and \(G_2\) is a bijection \(f:V_1 \to V_2\) between the vertices of the graphs such that \(\{a,b\}\) is an edge in \(G_1\) if and only if \(\{f(a), f(b)\}\) is an edge in \(G_2\).%
\par
Two graphs are \terminology{isomorphic} if there is an isomorphism between them. In this case we write \(G_1 \isom G_2\).%
\end{assemblage}
An isomorphism is simply a function which renames the vertices. It must be a bijection so every vertex gets a new name. These newly named vertices must be connected by edges precisely when they were connected by edges with their old names.%
\begin{example}{}{p:example:xmp}%
Decide whether the graphs \(G_1 = (V_1, E_1)\) and \(G_2 = (V_2, E_2)\) are equal or isomorphic.%
\par
\(V_1 = \{a,b,c,d\}\), \(E_1 = \{\{a,b\}, \{a,c\}, \{a,d\}, \{c,d\}\}\)%
\par
\(V_2 = \{a,b,c,d\}\), \(E_2 = \{\{a,b\}, \{a,c\}, \{b,c\}, \{c,d\}\}\)%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:jSE}{}~~%
The graphs are NOT equal, since \(\{a,d\} \in E_1\) but \(\{a,d\} \notin E_2\). However, since both graphs contain the same number of vertices and same number of edges, they \emph{might} be isomorphic (this is not enough in most cases, but it is a good start).%
\par
We can try to build an isomorphism. How about we say \(f(a) = b\), \(f(b) = c\), \(f(c) = d\) and \(f(d) = a\). This is definitely a bijection, but to make sure that the function is an isomorphism, we must make sure it \emph{respects the edge relation}. In \(G_1\), vertices \(a\) and \(b\) are connected by an edge. In \(G_2\), \(f(a) = b\) and \(f(b) = c\) are connected by an edge. So far, so good, but we must check the other three edges. The edge \(\{a,c\}\) in \(G_1\) corresponds to \(\{f(a),
f(c)\} = \{b,d\}\), but here we have a problem. There is no edge between \(b\) and \(d\) in \(G_2\). Thus \(f\) is NOT an isomorphism.%
\par
Not all hope is lost, however. Just because \(f\) is not an isomorphism does not mean that there is no isomorphism at all. We can try again. At this point it might be helpful to draw the graphs to see how they should match up.%
\begin{sidebyside}{2}{0.135}{0.135}{0.27}%
\begin{sbspanel}{0.23}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\coordinate (a) at (90:1);
	\coordinate (b) at (0:1);
	\coordinate (c) at (-90:1);
	\coordinate (d) at (180:1);

	\draw (a) -- (b) (a) -- (c) (a) -- (d) (c) --(d);
	\draw (a) \va{\footnotesize $a$} (b) \vr{\footnotesize $b$} (c)\vb{\footnotesize $c$} (d) \vl{\footnotesize $d$};
	\node at (-1,1) {$G_1$:};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.23}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\coordinate (a) at (90:1);
	\coordinate (b) at (0:1);
	\coordinate (c) at (-90:1);
	\coordinate (d) at (180:1);

	\draw (a) -- (b) (a) -- (c) (b) -- (c) (c) --(d);
	\draw (a) \va{\footnotesize $a$} (b) \vr{\footnotesize $b$} (c)\vb{\footnotesize $c$} (d) \vl{\footnotesize $d$};
	\node at (-1,1) {$G_2$:};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Alternatively, notice that in \(G_1\), the vertex \(a\) is adjacent to every other vertex. In \(G_2\), there is also a vertex with this property: \(c\). So build the bijection \(g:V_1 \to V_2\) by defining \(g(a) = c\) to start with. Next, where should we send \(b\)? In \(G_1\), the vertex \(b\) is only adjacent to vertex \(a\). There is exactly one vertex like this in \(G_2\), namely \(d\). So let \(g(b) = d\). As for the last two, in this example, we have a free choice: let \(g(c) = b\) and \(g(d) = a\) (switching these would be fine as well).%
\par
We should check that this really is an isomorphism. It is definitely a bijection. We must make sure that the edges are respected. The four edges in \(G_1\) are%
\begin{equation*}
\{a,b\}, \{a,c\}, \{a,d\}, \{c,d\}\text{.}
\end{equation*}
%
\par
Under the proposed isomorphism these become%
\begin{equation*}
\{g(a), g(b)\}, \{g(a), g(c)\}, \{g(a), g(d)\}, \{g(c), g(d)\}
\end{equation*}
%
\begin{equation*}
\{c,d\}, \{c,b\}, \{c,a\}, \{b,a\}\text{,}
\end{equation*}
which are precisely the edges in \(G_2\). Thus \(g\) is an isomorphism, so \(G_1 \cong G_2\)%
\end{example}
Sometimes we will talk about a graph with a special name (like \(K_n\) or the \emph{Peterson graph}) or perhaps draw a graph without any labels. In this case we are really referring to \emph{all} graphs isomorphic to any copy of that particular graph. A collection of isomorphic graphs is often called an \terminology{isomorphism class}. \index{isomorphism class} \footnote{This is not unlike geometry, where we might have more than one copy of a particular triangle. There instead of \emph{isomorphic} we say \emph{congruent}.\label{g:fn:idm20998}}%
\par
There are other relationships between graphs that we care about, other than equality and being isomorphic. For example, compare the following pair of graphs:%
\begin{sidebyside}{2}{0.15}{0.15}{0.3}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
			      \foreach \x in {0,...,6}
			      \draw  (\x*60:1) \v -- (\x*60+60:1) -- (\x*60+180:1) -- cycle;
			    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
			      \foreach \x in {0,...,4}
			      \draw  (\x*90:1) \v -- (\x*90+90:1) -- (\x*90+180:1) -- cycle;
			    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
These are definitely not isomorphic, but notice that the graph on the right looks like it might be part of the graph on the left, especially if we draw it like this:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
						 \foreach \x in {0,...,6}
						 \draw[very thin]  (\x*60:1) \v -- (\x*60+60:1) -- (\x*60+180:1) -- cycle;
						 \draw[very thick] (0:1) -- (60:1) -- (180:1) -- (240:1) -- (0:1) -- (180:1) (60:1) -- (240:1);
					 \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
We would like to say that the smaller graph is a \emph{subgraph} of the larger.%
\par
We should give a careful definition of this. In fact, there are two reasonable notions for what a subgraph should mean.%
\begin{assemblage}{Subgraphs.}{p:assemblage:Mvn}%
We say that \(G' = (V', E')\) is a \terminology{subgraph} of \(G = (V, E)\), and write \(G' \subseteq G\), provided \(V' \subseteq V\) and \(E' \subseteq E\).%
\par
We say that \(G' = (V', E')\) is an \terminology{induced subgraph} \index{subgraph!induced}\index{induced subgraph} of \(G = (V, E)\) provided \(V' \subseteq V\) and every edge in \(E\) whose vertices are still in \(V'\) is also an edge in \(E'\).%
\end{assemblage}
Notice that every induced subgraph is also an ordinary subgraph, but not conversely. Think of a subgraph as the result of deleting some vertices and edges from the larger graph. For the subgraph to be an induced subgraph, we can still delete vertices, but now we only delete those edges that included the deleted vertices.%
\begin{example}{}{p:example:dty}%
Consider the graphs:%
\begin{sidebyside}{4}{0.035}{0.035}{0.07}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
						      \draw  (-1,0) \vb{\footnotesize $a$} -- (0,0) \vb{\footnotesize $b$} -- (1,0) \vb{\footnotesize $c$} -- (.5,1) \vb{\footnotesize $e$} -- (0,0) -- (-.5,1) \vb{\footnotesize $d$} -- (0,2) \vb{\footnotesize $f$} -- (.5,1) -- (-.5,1) -- (-1,0);
									\node[below] at (0,-.5) {$G_1$};
						    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
									\draw  (-1,0) \vb{\footnotesize $a$} -- (0,0) \vb{\footnotesize $b$} -- (1,0) \vb{\footnotesize $c$}  (0,0) -- (-.5,1) \vb{\footnotesize $d$} (-.5,1) -- (-1,0);
									\node[below] at (0,-.5) {$G_2$};
								\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
									\draw  (-1,0) \vb{\footnotesize $a$} (0,0) \vb{\footnotesize $b$} -- (1,0) \vb{\footnotesize $c$}  (0,0) -- (-.5,1) \vb{\footnotesize $d$} -- (0,2) \vb{\footnotesize $f$} (-1,0) -- (-.5,1);
									\node[below] at (0,-.5) {$G_3$};
								\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
									\draw  (-1,0) \vb{\footnotesize $a$} -- (0,0) \vb{\footnotesize $b$} -- (1,0) \vb{\footnotesize $c$} -- (.5,1) (0,0) -- (-.5,1) \vb{\footnotesize $d$} -- (0,2) \vb{\footnotesize $f$} -- (.5,1) (-.5,1) -- (-1,0);
									\node[below] at (0,-.5) {$G_4$};
								\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Here both \(G_2\) and \(G_3\) are subgraphs of \(G_1\). But only \(G_2\) is an \emph{induced} subgraph. Every edge in \(G_1\) that connects vertices in \(G_2\) is also an edge in \(G_2\). In \(G_3\), the edge \(\{a,b\}\) is in \(E_1\) but not \(E_3\), even though vertices \(a\) and \(b\) are in \(V_3\).%
\par
The graph \(G_4\) is NOT a subgraph of \(G_1\), even though it looks like all we did is remove vertex \(e\). The reason is that in \(E_4\) we have the edge \(\{c,f\}\) but this is not an element of \(E_1\), so we don't have the required 	\(E_4 \subseteq E_1\).%
\end{example}
Back to some basic graph theory definitions. Notice that all the graphs we have drawn above have the property that no pair of vertices is connected more than once, and no vertex is connected to itself. Graphs like these are sometimes called \terminology{simple}, although we will just call them \emph{graphs}. This is because our definition for a graph says that the edges form a set of 2-element subsets of the vertices. Remember that it doesn't make sense to say a set contains an element more than once. So no pair of vertices can be connected by an edge more than once. Also, since each edge must be a set containing two vertices, we cannot have a single vertex connected to itself by an edge.%
\par
That said, there are times we want to consider double (or more) edges and single edge loops. For example, the ``graph'' we drew for the Bridges of Königsberg problem had double edges because there really are two bridges connecting a particular island to the near shore. We will call these objects \terminology{multigraphs}. \index{multigraph} This is a good name: a \emph{multiset} is a set in which we are allowed to include a single element multiple times.%
\par
The graphs above are also \terminology{connected}: \index{connected} you can get from any vertex to any other vertex by following some path of edges. A graph that is not connected can be thought of as two separate graphs drawn close together. For example, the following graph is NOT connected because there is no path from \(a\) to \(b\):%
\begin{sidebyside}{1}{0.335}{0.335}{0}%
\begin{sbspanel}{0.33}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\draw (-1.5,0) \vl{\footnotesize $a$} -- (-.5, 1) \v -- (.5, 0) \v -- (-.5,-1) \v -- cycle;
	\draw (-.5,0) \v -- (.5,1) \v -- (1.5,0) \vr{\footnotesize $b$} -- (.5,-1) \v -- cycle;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Vertices in a graph do not always have edges between them. If we add all possible edges, then the resulting graph is called \terminology{complete}. \index{complete graph} That is, a graph is complete if every pair of vertices is connected by an edge. Since a graph is determined completely by which vertices are adjacent to which other vertices, there is only one complete graph with a given number of vertices. We give these a special name: \(K_n\) \label{g:notation:idm21098} is the complete graph on \(n\) vertices.%
\par
Each vertex in \(K_n\) is adjacent to \(n-1\) other vertices. We call the number of edges emanating from a given vertex the \terminology{degree} of that vertex. So every vertex in \(K_n\) has degree \(n-1\). How many edges does \(K_n\) have? One might think the answer should be \(n(n-1)\), since we count \(n-1\) edges \(n\) times (once for each vertex). However, each edge is incident to 2 vertices, so we counted every edge exactly twice. Thus there are \(n(n-1)/2\) edges in \(K_n\). Alternatively, we can say there are \({n \choose 2}\) edges, since to draw an edge we must choose 2 of the \(n\) vertices.%
\par
In general, if we know the degrees of all the vertices in a graph, we can find the number of edges. The sum of the degrees of all vertices will always be \emph{twice} the number of edges, since each edge adds to the degree of two vertices. Notice this means that the sum of the degrees of all vertices in any graph must be even!%
\par
This is our first example of a general result about all graphs.  It seems innocent enough, but we will use it to prove all sorts of other statements.  So let's give it a name and state it formally.%
\begin{lemma}{Handshake Lemma.}{}{x:lemma:lem-handshake}%
\index{handshake lemma}%
\index{degree sum formula}%
In any graph, the sum of the degrees of vertices in the graph is always twice the number of edges.%
\end{lemma}
The handshake lemma\footnote{A \emph{lemma} is a mathematical statement that is primarily of importance in that it is used to establish other results.\label{g:fn:idm21129}} is sometimes called the \emph{degree sum formula}, and can be written symbolically as%
\begin{equation*}
\sum_{v\in V} d(v) = 2e\text{.}
\end{equation*}
Here we are using the notation \(d(v)\) for the degree of the vertex \(v\).%
\par
One use for the lemma is to actually find the number of edges in a graph.  To do this, you must be given the \terminology{degree sequence} for the graph (or be able to find it from other information).  This is a list of every degree of every vertex in the graph, generally written in non-increasing order.%
\begin{example}{}{p:example:JAH}%
How many vertices and edges must a graph have if its degree sequence is%
\begin{equation*}
(4, 4, 3, 3, 3, 2, 1)\text{?}
\end{equation*}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:PZN}{}~~%
The number of vertices is easy to find: it is the number of degrees in the sequence: 7.  To find the number of edges, we compute the degree sum:%
\begin{equation*}
4 + 4 + 3 + 3 + 3 + 2 + 1 = 20\text{,}
\end{equation*}
so the number of edges is half this: 10.%
\end{example}
The handshake lemma also tells us what is not possible.%
\begin{example}{}{p:example:pHQ}%
At a recent math seminar, 9 mathematicians greeted each other by shaking hands. Is it possible that each mathematician shook hands with exactly 7 people at the seminar?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:wgW}{}~~%
It seems like this should be possible. Each mathematician chooses one person to not shake hands with. But this cannot happen. We are asking whether a graph with 9 vertices can have each vertex have degree 7. If such a graph existed, the sum of the degrees of the vertices would be \(9\cdot 7 = 63\). This would be twice the number of edges (handshakes) resulting in a graph with \(31.5\) edges. That is impossible. Thus at least one (in fact an odd number) of the mathematicians must have shaken hands with an \emph{even} number of people at the seminar.%
\end{example}
We can generalize the previous example to get the following proposition.\footnote{A \terminology{proposition} is a general statement in mathematics, similar to a theorem, although generally of lesser importance.\label{g:fn:idm21154}}%
\begin{proposition}{}{}{x:proposition:prop-evensum}%
In any graph, the number of vertices with odd degree must be even.%
\end{proposition}
\begin{proofptx}{}{p:proof:rxd}
Suppose there were a graph with an odd number of vertices with odd degree.  Then the sum of the degrees in the graph would be odd, which is impossible, by the handshake lemma.%
\end{proofptx}
We will consider further applications of the handshake lemma in the exercises.%
\par
One final definition: we say a graph is \terminology{bipartite} \index{bipartite} if the vertices can be divided into two sets, \(A\) and \(B\), with no two vertices in \(A\) adjacent and no two vertices in \(B\) adjacent. The vertices in \(A\) can be adjacent to some or all of the vertices in \(B\). If each vertex in \(A\) is adjacent to all the vertices in \(B\), then the graph is a \terminology{complete bipartite graph}, and gets a special name: \(K_{m,n}\), where \(|A| = m\) and \(|B| = n\). The graph in the houses and utilities puzzle is \(K_{3,3}\).%
\begin{paragraphs}{Named Graphs.}{p:paragraphs:nSD}%
Some graphs are used more than others, and get special names.%
\begin{description}
\item[{\(K_n\)}]The complete graph on \(n\) vertices. \label{g:notation:idm21188}%
\item[{\(K_{m,n}\)}]The complete bipartite graph with sets of \(m\) and \(n\) vertices. \label{g:notation:idm21198}%
\item[{\(C_n\)}]The cycle on \(n\) vertices, just one big loop. \label{g:notation:idm21208}%
\item[{\(P_n\)}]The path on \(n+1\) vertices (so \(n\) edges), just one long path. \label{g:notation:idm21218}%
\end{description}
%
\begin{sidebyside}{4}{0.02875}{0.02875}{0.0575}%
\begin{sbspanel}{0.18}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}[scale=1]
  \path (0,0) +(18:1) coordinate (a);
  \path (0,0) +(90:1) coordinate (b);
  \path (0,0) +(162:1) coordinate (c);
  \path (0,0) +(234:1) coordinate (d);
  \path (0,0) +(306:1) coordinate (e);
  \draw  (a) \v -- (b) \v -- (c) \v -- (d) \v -- (e) \v -- (a) -- (c) -- (e) -- (b) -- (d) -- (a);
  \draw (0,-1.35) node[below]{ \(K_5\)};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
			\begin{tikzpicture}[scale=.6, xscale=1.5]
\draw  (-1, 0) \v -- (-.5,2) \v -- (0,0) \v -- (.5, 2) \v -- (1,0) \v -- (-.5,2) (.5,2) -- (-1,0);
\draw (0,-.5) node[below]{ \(K_{2,3}\)};
 \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.15}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}[scale=.6]
  \draw  (0:1) \v -- (60:1) \v -- (120:1) \v -- (180:1) \v -- (240:1) \v -- (300:1) \v -- cycle;
  \draw (270:1.5) node[below]{ \(C_6\)};
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.24}[bottom]%
\resizebox{\linewidth}{!}{%
				\begin{tikzpicture}[scale=.6]
  \draw  (-2,0) \v -- (-1,.5) \v -- (0,0) \v -- (1,.75) \v -- (.5,1.5) \v -- (2,2) \v;
  \draw (0,-.5) node[below]{ \(P_5\)};
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{paragraphs}%
\begin{paragraphs}{Graph Theory Definitions.}{p:paragraphs:TZM}%
There are a lot of definitions to keep track of in graph theory. Here is a glossary of the terms we have already used and will soon encounter.%
\begin{description}
\item[{Graph}]\index{graph} A collection of \terminology{vertices}, some of which are connected by \terminology{edges}. More precisely, a pair of sets \(V\) and \(E\) where \(V\) is a set of vertices and \(E\) is a set of 2-element subsets of \(V\).%
\item[{Adjacent}]\index{adjacent} Two vertices are \terminology{adjacent} if they are connected by an edge. Two edges are \terminology{adjacent} if they share a vertex.%
\item[{Bipartite graph}]\index{bipartite} A graph for which it is possible to divide the vertices into two disjoint sets such that there are no edges between any two vertices in the same set.%
\item[{Complete bipartite graph}]A bipartite graph for which every vertex in the first set is adjacent to every vertex in the second set.%
\item[{Complete graph}]\index{complete graph} A graph in which every pair of vertices is adjacent.%
\item[{Connected}]\index{connected} A graph is \terminology{connected} if there is a path from any vertex to any other vertex.%
\item[{Chromatic number}]\index{chromatic number} The minimum number of colors required in a proper vertex coloring of the graph.%
\item[{Cycle}]\index{cycle} A path (see below) that starts and stops at the same vertex, but contains no other repeated vertices.%
\item[{Degree of a vertex}]\index{degree} The number of edges incident to a vertex.%
\item[{Euler path}]\index{Euler path} A walk which uses each edge exactly once.%
\item[{Euler circuit}]\index{Euler circuit} An Euler path which starts and stops at the same vertex.%
\item[{Multigraph}]\index{multigraph} A \terminology{multigraph} is just like a graph but can contain multiple edges between two vertices as well as single edge loops (that is an edge from a vertex to itself).%
\item[{Path}]\index{path}A \terminology{path} is a walk that doesn't repeat any vertices (or edges) except perhaps the first and last. If a path starts and ends at the same vertex, it is called a \terminology{cycle}.%
\item[{Planar}]\index{planar} A graph which can be drawn (in the plane) without any edges crossing.%
\item[{Subgraph}]\index{subgraph} We say that \(H\) is a \terminology{subgraph} of \(G\) if every vertex and edge of \(H\) is also a vertex or edge of \(G\). We say \(H\) is an \terminology{induced} subgraph of \(G\) if every vertex of \(H\) is a vertex of \(G\) and each pair of vertices in \(H\) are adjacent in \(H\) if and only if they are adjacent in \(G\).%
\item[{Tree}]\index{tree} A connected graph with no cycles. (If we remove the requirement that the graph is connected, the graph is called a \terminology{forest}.) The vertices in a tree with degree 1 are called \terminology{leaves}.%
\item[{Vertex coloring}]\index{vertex coloring} An assignment of colors to each of the vertices of a graph. A vertex coloring is \terminology{proper} if adjacent vertices are always colored differently.%
\item[{Walk}]\index{walk} A sequence of vertices such that consecutive vertices (in the sequence) are adjacent (in the graph). A walk in which no edge is repeated is called a \terminology{trail}, and a trail in which no vertex is repeated (except possibly the first and last) is called a \terminology{path}.%
\end{description}
%
\end{paragraphs}%
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-intro}
\begin{divisionexercise}{\hyperlink{p:solution:hRJ-back}{1}}{}{}{p:exercise:nGV}%
If 10 people each shake hands with each other, how many handshakes took place? What does this question have to do with graph theory?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:NYS-back}{2}}{}{}{p:exercise:TOe}%
Among a group of 5 people, is it possible for everyone to be friends with exactly 2 of the people in the group? What about 3 of the people in the group?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:ugb-back}{3}}{}{}{p:exercise:zVn}%
Is it possible for two \emph{different} (non-isomorphic) graphs to have the same number of vertices and the same number of edges? What if the degrees of the vertices in the two graphs are the same (so both graphs have vertices with degrees 1, 2, 2, 3, and 4, for example)? Draw two such graphs or explain why not.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ank-back}{4}}{}{}{p:exercise:gcw}%
Are the two graphs below equal? Are they isomorphic? If they are isomorphic, give the isomorphism. If not, explain.%
\par
Graph 1: \(V = \{a,b,c,d,e\}\), \(E = \{\{a,b\}, \{a,c\}, \{a,e\}, \{b,d\}, \{b,e\}, \{c,d\}\}\). %
\par
Graph 2:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
\foreach \x in {0,...,4} {
\coordinate (v\x) at (90-72*\x:.75);}
\draw (v3) \vl{\footnotesize \(d\)} -- (v0) \vr{\footnotesize \(a\)} -- (v2) \vr{\footnotesize \(c\)} -- (v1) \vr{\footnotesize \(b\)} -- (v4) \vl{\footnotesize \(e\)} -- (v3) -- (v2);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{5}{}{}{p:exercise:MjF}%
Consider the following two graphs:%
\begin{description}
\item[{\(G_1\)}]\(V_1=\{a,b,c,d,e,f,g\}\)%
\par
\(E_1=\{\{a,b\},\{a,d\},\{b,c\},\{b,d\},\{b,e\},\{b,f\},\{c,g\},\{d,e\}\),%
\par
\(\{e,f\},\{f,g\}\}\).%
\item[{\(G_2\)}]\(V_2=\{v_1,v_2,v_3,v_4,v_5,v_6,v_7\}\),%
\par
\(E_2=\{\{v_1,v_4\},\{v_1,v_5\},\{v_1,v_7\},\{v_2,v_3\},\{v_2,v_6\}\),%
\par
\(\{v_3,v_5\},\{v_3,v_7\},\{v_4,v_5\},\{v_5,v_6\},\{v_5,v_7\}\}\)%
\end{description}
%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(f:G_1 \rightarrow G_2\) be a function that takes the vertices of Graph 1 to vertices of Graph 2. The function is given by the following table:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{llllllll}
\multicolumn{1}{lA}{\(x\)}&\(a\)&\(b\)&\(c\)&\(d\)&\(e\)&\(f\)&\(g\)\tabularnewline\hrulethin
\multicolumn{1}{lA}{\(f(x)\)}&\(v_4\)&\(v_5\)&\(v_1\)&\(v_6\)&\(v_2\)&\(v_3\)&\(v_7\)
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Does \(f\) define an isomorphism between Graph 1 and Graph 2?%
\item{}Define a new function \(g\) (with \(g \ne f\)) that defines an isomorphism between Graph 1 and Graph 2.%
\item{}Is the graph pictured below isomorphic to Graph 1 and Graph 2? Explain.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\draw (-1, 0) coordinate (v1) -- (0,0) coordinate (v2) -- (1,0) coordinate (v3) -- (1,1) coordinate (v4) -- (0,1) coordinate (v5) -- (-1,1) coordinate (v6) -- (v1) --(0,.5) coordinate (v7) -- (v2) (v7) -- (v3) (v7) -- (v5);
	\foreach \i in {1,...,7}{
		\fill (v\i) \v;
	}
	\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Gut-back}{6}}{}{}{p:exercise:sqO}%
What is the largest number of edges possible in a graph with 10 vertices?  What is the largest number of edges possible in a \emph{bipartite} graph with 10 vertices?  What is the largest number of edges possible in a \emph{tree} with 10 vertices?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:mBC-back}{7}}{}{}{p:exercise:YxX}%
Which of the graphs below are bipartite? Justify your answers.%
\begin{sidebyside}{4}{0.025}{0.025}{0.05}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
  \draw (-1,1) \v -- (0,2) \v -- (1,1) \v -- (0,0) \v -- (-1,1) -- (0,1) \v -- (1,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
  \draw (0:1) \v -- (120:1) \v -- (60:1) \v -- (300:1) \v -- (180:1) \v -- (240:1) \v -- cycle;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
  \draw (360/7:1) \v -- (2*360/7:1) \v -- (3*360/7:1) \v -- (4*360/7:1) \v -- (5*360/7:1) \v -- (6*360/7:1) \v -- (0:1) \v -- cycle;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
					\begin{tikzpicture}
  \draw (0,0) \v;
  \foreach \x in {0,...,7}
  \draw (0,0) -- (\x*360/8+22.5:1) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:SIL-back}{8}}{}{}{p:exercise:EFg}%
For which \(n \ge 3\) is the graph \(C_n\) bipartite?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:yPU-back}{9}}{}{}{p:exercise:kMp}%
For each of the following, try to give two \emph{different} unlabeled graphs with the given properties, or explain why doing so is impossible.%
\begin{enumerate}[label=(\alph*)]
\item{}Two different trees with the same number of vertices and the same number of edges. A tree is a connected graph with no cycles.%
\item{}Two different graphs with 8 vertices all of degree 2.%
\item{}Two different graphs with 5 vertices all of degree 4.%
\item{}Two different graphs with 5 vertices all of degree 3.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:eXd-back}{10}}{}{}{p:exercise:QTy}%
Decide whether the statements below about subgraphs are true or false.  For those that are true, briefly explain why (1 or 2 sentences).  For any that are false, give a counterexample.%
\begin{enumerate}[label=(\alph*)]
\item{}Any subgraph of a complete graph is also complete.%
\item{}Any \emph{induced} subgraph of a complete graph is also complete.%
\item{}Any subgraph of a bipartite graph is bipartite.%
\item{}Any subgraph of a tree is a tree.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Lem-back}{11}}{}{}{p:exercise:xaH}%
Let \(k_1, k_2, \ldots,
k_j\) be a list of positive integers that sum to \(n\) (i.e, \(\sum_{i=1}^j k_i = n\)). Use two graphs containing \(n\) vertices to explain why%
\begin{equation*}
\sum_{i = 1}^j \binom{k_i}{2} \le \binom{n}{2}\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:rlv-back}{12}}{}{}{p:exercise:dhQ}%
We often define graph theory concepts using set theory.  For example, given a graph \(G = (V, E)\) and a vertex \(v \in V\), we define%
\begin{equation*}
N(v) = \{u \in V \st \{v,u\} \in E\}\text{.}
\end{equation*}
We define \(N[v] = N(v) \cup \{v\}\).  The goal of this problem is to figure out what all this means.%
\begin{enumerate}[label=(\alph*)]
\item{}Let \(G\) be the graph with \(V = \{a,b,c,d,e,f\}\) and \(E = \{\{a,b\}, \{a,e\},\{b, c\}, \{b,e\}, \{c,d\}, \{c, f\}, \{d, f\}, \{e,f\}\}\).  Find \(N(a)\), \(N[a]\), \(N(c)\), and \(N[c]\).%
\item{}What is the largest and smallest possible values for \(|N(v)|\) and \(|N[v]|\) for the graph in part (a)?  Explain.%
\item{}Give an example of a graph \(G = (V, E)\) (probably different than the one above) for which \(N[v] = V\) for some vertex \(v \in V\).  Is there a graph for which \(N[v] = V\) for \emph{all} \(v \in V\)?  Explain.%
\item{}Give an example of a graph \(G = (V,E)\) for which \(N(v) = \emptyset\) for some \(v \in V\).  Is there an example of such a graph for which \(N[u] = V\) for some other \(u \in V\) as well?  Explain.%
\item{}Describe in words what \(N(v)\) and \(N[v]\) mean in general.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:XsE-back}{13}}{}{}{p:exercise:JoZ}%
A graph is a way of representing the relationships between elements in a set: an edge between the vertices \(x\) and \(y\) tells us that \(x\) is related to \(y\) (which we can write as \(x \sim y\)).  Not all sorts of relationships can be represented by a graph though.  For each relationship described below, either draw the graph or explain why the relationship cannot be represented by a graph.%
\begin{enumerate}[label=(\alph*)]
\item{}The set \(V = \{1,2, \ldots, 9\}\) and the relationship \(x \sim y\) when \(x-y\) is a non-zero multiple of 3.%
\item{}The set \(V = \{1,2, \ldots, 9\}\) and the relationship \(x \sim y\) when \(y\) is a multiple of \(x\).%
\item{}The set \(V = \{1,2,\ldots, 9\}\) and the relationship \(x \sim y\) when \(0 \lt |x-y| \lt 3\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:DzN-back}{14}}{}{}{p:exercise:pwi}%
Consider graphs with \(n\) vertices.  Remember, graphs do not need to be \emph{connected}.%
\begin{enumerate}[label=(\alph*)]
\item{}How many edges must the graph have to guarantee at least one vertex has degree two or more?  Prove your answer.%
\item{}How many edges must the graph have to guarantee all vertices have degree two or more?  Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:jGW-back}{15}}{}{}{p:exercise:VDr}%
Prove that any graph with at least two vertices must have two vertices of the same degree.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:POf-back}{16}}{}{}{x:exercise:exr-degree1handshake}%
Suppose \(G\) is a connected graph with \(n > 1\) vertices and \(n-1\) edges.  Prove that \(G\) has a vertex of degree 1.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.2 Trees}
\typeout{************************************************}
%
\begin{sectionptx}{Trees}{}{Trees}{}{}{x:section:sec_trees}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:SUG}%
Consider the graph drawn below.%
\begin{sidebyside}{1}{0.325}{0.325}{0}%
\begin{sbspanel}{0.35}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw (-1,0) \v -- (1,0)\v -- (1,2) \v -- (-1, 2) \v -- (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
  \draw (-1,0) -- (-2,1) \v -- (-1,2) (1,2) -- (2,1) \v -- (1,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}
\item{}Find a subgraph with the smallest number of edges that is still connected and contains all the vertices.%
\item{}Find a subgraph with the largest number of edges that doesn't contain any cycles.%
\item{}What do you notice about the number of edges in your examples above?  Is this a coincidence?%
\end{enumerate}
%
\end{investigation}
One very useful and common approach to studying graph theory is to restrict your focus to graphs of a particular kind. For example, you could try to really understand just complete graphs or just bipartite graphs, instead of trying to understand all graphs in general. That is what we are going to do now, looking at \emph{trees}. Hopefully by the end of this section we will have a better understanding of this class of graph, and also understand why it is important enough to warrant its own section.%
\begin{assemblage}{Definition of a Tree.}{p:assemblage:kYk}%
A \terminology{tree} is a connected graph containing no cycles.\footnotemark{}%
\par
A \terminology{forest} is a graph containing no cycles.   Note that this means that a connected forest is a tree.%
\end{assemblage}
\footnotetext[4]{Sometimes this is stated as ``a tree is an acyclic connected graph;'' ``acyclic'' is just a fancy word for ``containing no cycles.''\label{g:fn:idm21705}}%
Does the definition above agree with your intuition for what graphs we should call trees? Try thinking of examples of trees and make sure they satisfy the definition. One thing to keep in mind is that while the trees we study in graph theory are related to trees you might see in other subjects, the correspondence is not exact. For instance, in anthropology, you might study family trees, like the one below,%
\begin{sidebyside}{1}{0.15}{0.15}{0}%
\begin{sbspanel}{0.7}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[level 1/.style={sibling distance=20em},level 2/.style={sibling distance=7em},
  every node/.style = {shape=rectangle, rounded corners,
    draw, align=center,
    top color=white, bottom color=white}]]
  \node {Me}
    child { node {Mom} 
      child { node {\footnotesize Maternal\\Grandma}}
      child { node {\footnotesize Maternal\\Grandpa}}}
    child { node {Dad}
      child { node {\footnotesize Paternal\\Grandma}}
      child { node {\footnotesize Paternal\\Grandpa} } };
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
So far so good, but while your grandparents are (probably) not blood-relatives, if we go back far enough, it is likely that they did have \emph{some} common ancestor. If you trace the tree back from you to that common ancestor, then down through your other grandparent, you would have a cycle, and thus the graph would not be a tree.%
\par
You might also have seen something called a \emph{decision tree} (such as the algorithm for deciding whether a series converges or diverges). Sometimes these too contain cycles, as the decision for one node might lead you back to a previous step.%
\par
Both the examples of trees above also have another feature worth mentioning: there is a clear order to the vertices in the tree. In general, there is no reason for a tree to have this added structure, although we can impose such a structure by considering \terminology{rooted trees}, where we simply designate one vertex as the \emph{root}. We will consider such trees in more detail later in this section.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Properties of Trees}
\typeout{************************************************}
%
\begin{subsectionptx}{Properties of Trees}{}{Properties of Trees}{}{}{p:subsection:MvA}
We wish to really understand trees. This means we should discover properties of trees; what makes them special and what is special about them.%
\par
A tree is a connected graph with no cycles. Is there anything else we can say? It would be nice to have other equivalent conditions for a graph to be a tree. That is, we would like to know whether there are any graph theoretic properties that all trees have, and perhaps even that \emph{only} trees have.%
\par
To get a feel for the sorts of things we can say, we will consider three \emph{propositions} about trees.  These will also illustrate important proof techniques that apply to graphs in general, and happen to be a little easier for trees.%
\par
Our first proposition gives an alternate definition for a tree.  That is, it gives necessary and sufficient conditions for a graph to be a tree.%
\begin{proposition}{}{}{x:proposition:prop-unique-paths-trees}%
A graph \(T\) is a tree if and only if between every pair of distinct vertices of \(T\) there is a unique path.%
\end{proposition}
\begin{proofptx}{}{p:proof:zbP}
This is an ``if and only if'' statement, so we must prove two implications.  We start by proving that if \(T\) is a tree, then between every pair of distinct vertices there is a unique path.%
\par
Assume \(T\) is a tree, and let \(u\) and \(v\) be distinct vertices (if \(T\) only has one vertex, then the conclusion is satisfied automatically).  We must show two things to show that there is a unique path between \(u\) and \(v\): that there is a path, and that there is not more than one path.  The first of these is automatic, since \(T\) is a tree, it is connected, so there is a path between any pair of vertices.%
\par
To show the path is unique, we suppose there are two paths between \(u\) and \(v\), and get a contradiction.  The two paths might start out the same, but since they are different, there is some first vertex \(u'\) after which the two paths diverge.  However, since the two paths both end and \(v\), there is some first vertex after \(u'\) that they have in common, call it \(v'\).  Now consider the two paths from \(u'\) to \(v'\).  Taken together, these form a cycle, which contradicts our assumption that \(T\) is a tree.%
\par
Now we consider the converse: if between every pair of distinct vertices of \(T\) there is a unique path, then \(T\) is a tree.  So assume the hypothesis: between every pair of distinct vertices of \(T\) there is a unique path.  To prove that \(T\) is a tree, we must show it is connected and contains no cycles.%
\par
The first half of this is easy: \(T\) is connected, because there is a path between every pair of vertices.  To show that \(T\) has no cycles, we assume it does, for the sake of contradiction.  Let \(u\) and \(v\) be two distinct vertices in a cycle of \(T\).  Since we can get from \(u\) to \(v\) by going clockwise or counterclockwise around the cycle, there are two paths from \(u\) and \(v\), contradicting our assumption.%
\par
We have established both directions so we have completed the proof.%
\end{proofptx}
Read the proof above very carefully.  Notice that both directions had two parts: the existence of paths, and the uniqueness of paths (which related to the fact that there were no cycles).  In this case, these two parts were really separate.  In fact, if we just considered graphs with no cycles (a forest), then we could still do the parts of the proof that explore the uniqueness of paths between vertices, even if there might not \emph{exist} paths between vertices.%
\par
This observation allows us to state the following \emph{corollary}:\footnote{A corollary is another sort of provable statement, like a proposition or theorem, but one that follows direction from another already established statement, or its proof.\label{g:fn:idm21777}}%
\begin{corollary}{}{}{x:corollary:cor-unique-paths-forests}%
A graph \(F\) is a forest if and only if between any pair of vertices in \(F\) there is at most one path.%
\end{corollary}
We do not give a proof of the corollary (it is, after all, supposed to follow directly from the proposition) but for practice, you are asked to give a careful proof in the exercises.  When you do so, try to use proof by contrapositive instead of proof by contradiction.%
\par
Our second proposition tells us that all trees have \terminology{leaves}: vertices of degree one.%
\begin{proposition}{}{}{x:proposition:prop-leaves-in-trees}%
Any tree with at least two vertices has at least two vertices of degree one.%
\end{proposition}
\begin{proofptx}{}{p:proof:fiY}
We give a proof by contradiction.  Let \(T\) be a tree with at least two vertices, and suppose, contrary to stipulation, that there are not two vertices of degree one.%
\par
Let \(P\) be a path in \(T\) of longest possible length.  Let \(u\) and \(v\) be the endpoints of the path.  Since \(T\) does not have two vertices of degree one, at least one of these must have degree two or higher.  Say that it is \(u\).  We know that \(u\) is adjacent to a vertex in the path \(P\), but now it must also be adjacent to another vertex, call it \(u'\).%
\par
Where is \(u'\)?  It cannot be a vertex of \(P\), because if it was, there would be two distinct paths from \(u\) to \(u'\): the edge between them, and the first part of \(P\) (up to \(u'\)).  But \(u'\) also cannot be outside of \(P\), for if it was, there would be a path from \(u'\) to \(v\) that was longer than \(P\), which has longest possible length.%
\par
This contradiction proves that there must be at least two vertices of degree one.  In fact, we can say a little more: \(u\) and \(v\) must \emph{both} have degree one.%
\end{proofptx}
The proposition is quite useful when proving statements about trees, because we often prove statements about trees by \emph{induction}.  To do so, we need to reduce a given tree to a smaller tree (so we can apply the inductive hypothesis).  Getting rid of a vertex of degree one is an obvious choice, and now we know there is always one to get rid of.%
\par
To illustrate how induction is used on trees, we will consider the relationship between the number of vertices and number of edges in trees.  Is there a tree with exactly 7 vertices and 7 edges?  Try to draw one.  Could a tree with 7 vertices have only 5 edges?  There is a good reason that these seem impossible to draw.%
\begin{proposition}{}{}{x:proposition:prop-tree-edge-vertex}%
Let \(T\) be a tree with \(v\) vertices and \(e\) edges.  Then \(e = v-1\).%
\end{proposition}
\begin{proofptx}{}{p:proof:Lqh}
We will give a proof by induction on the number of vertices in the tree.  That is, we will prove that every tree with \(v\) vertices has exactly \(v-1\) edges, and then use induction to show this is true for all \(v \ge 1\).%
\par
For the base case, consider all trees with \(v = 1\) vertices.  There is only one such tree: the graph with a single isolated vertex.  This graph has \(e = 0\) edges, so we see that \(e = v-1\) as needed.%
\par
Now for the inductive case, fix \(k \ge 1\) and assume that all trees with \(v=k\) vertices have exactly \(e=k-1\) edges.  Now consider an arbitrary tree \(T\) with \(v = k+1\) vertices.  By \hyperref[x:proposition:prop-leaves-in-trees]{Proposition~\ref{x:proposition:prop-leaves-in-trees}}, \(T\) has a vertex \(v_0\) of degree one.  Let \(T'\) be the tree resulting from removing \(v_0\) from \(T\) (together with its incident edge).  Since we removed a leaf, \(T'\) is still a tree (the unique paths between pairs of vertices in \(T'\) are the same as the unique paths between them in \(T\)).%
\par
Now \(T'\) has \(k\) vertices, so by the inductive hypothesis, has \(k-1\) edges.  What can we say about \(T\)?  Well, it has one more edge than \(T'\), so it has \(k\) edges.  But this is exactly what we wanted: \(v=k+1\), \(e=k\) so indeed \(e = v-1\).  This completes the inductive case, and the proof.%
\end{proofptx}
There is a very important feature of this induction proof that is worth noting.  Induction makes sense for proofs about graphs because we can think of graphs as growing into larger graphs.  However, this does NOT work.  It would not be correct to start with a tree with \(k\) vertices, and then add a new vertex and edge to get a tree with \(k+1\) vertices, and note that the number of edges also grew by one.  Why is this bad?  Because how do you know that \emph{every} tree with \(k+1\) vertices is the result of adding a vertex to your arbitrary starting tree?  You don't!%
\par
The point is that whenever you give an induction proof that a statement about graphs that holds for all graphs with \(v\) vertices, you must start with an arbitrary graph with \(v+1\) vertices, then \emph{reduce} that graph to a graph with \(v\) vertices, to which you can apply your inductive hypothesis.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Rooted Trees}
\typeout{************************************************}
%
\begin{subsectionptx}{Rooted Trees}{}{Rooted Trees}{}{}{x:subsection:subsec-rooted-trees}
So far, we have thought of trees only as a particular kind of graph. However, it is often useful to add additional structure to trees to help solve problems. Data is often structured like a tree. This book, for example, has a tree structure: draw a vertex for the book itself. Then draw vertices for each chapter, connected to the book vertex. Under each chapter, draw a vertex for each section, connecting it to the chapter it belongs to. The graph will not have any cycles; it will be a tree. But a tree with clear hierarchy which is not present if we don't identify the book vertex as the ``top''.%
\par
\index{root} As soon as one vertex of a tree is designated as the \terminology{root}, then every other vertex on the tree can be characterized by its position relative to the root.  This works because there is a unique path between any two vertices in a tree.  So from any vertex, we can travel back to the root in exactly one way.  This also allows us to describe how distinct vertices in a rooted tree are related.%
\par
\index{parent}\index{child} If two vertices are adjacent, then we say one of them is the \terminology{parent} of the other, which is called the \terminology{child} of the parent.  Of the two, the parent is the vertex that is closer to the root.  Thus the root of a tree is a parent, but is not the child of any vertex (and is unique in this respect: all non-root vertices have \emph{exactly one} parent).%
\par
\index{descendant}\index{ancestor} Not surprisingly, the child of a child of a vertex is called the \terminology{grandchild} of the vertex (and it is the \terminology{grandparent}).  More in general, we say that a vertex \(v\) is a \terminology{descendent} of a vertex \(u\) provided \(u\) is a vertex on the path from \(v\) to the root.  Then we would call \(u\) an \terminology{ancestor} of \(v\).%
\par
\index{sibling} For most trees (in fact, all except paths with one end the root), there will be pairs of vertices neither of which is a descendant of the other.  We might call these cousins or siblings.  In fact, vertices \(u\) and \(v\) are called \terminology{siblings} provided they have the same parent.  Note that siblings are never adjacent (do you see why?).%
\begin{example}{}{p:example:pId}%
Consider the tree below.%
\begin{sidebyside}{1}{0.325}{0.325}{0}%
\begin{sbspanel}{0.35}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  {\footnotesize
    \coordinate (a) at (0,0);
    \coordinate (b) at (1,1);
    \coordinate (c) at (1,0);
    \coordinate (d) at (1,-1);
    \coordinate (e) at (2,0);
    \coordinate (f) at (3,1);
    \coordinate (g) at (3,-1);
    \coordinate (h) at (4,1);
    \coordinate (i) at (4,0);
    \draw (a) -- (c) -- (e) -- (g) (b) -- (e) (d) -- (e) -- (f) -- (h) (f) -- (i);
    \foreach \x in {a,...,i}{
    \draw (\x) \vb{\footnotesize $\x$};
    }
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
If we designate vertex \(f\) as the root, then \(e\), \(h\), and \(i\) are the children of \(f\), and are siblings of each other.  Among the other things we cay say are that \(a\) is a child of \(c\), and a descendant of \(f\).  The vertex \(g\) is a descendant of \(f\), in fact, is a grandchild of \(f\).  Vertices \(g\) and \(d\) are siblings, since they have the common parent \(e\).%
\par
Notice how this changes if we pick a different vertex for the root.  If \(a\) is the root, then its lone child is \(c\), which also has only one child, namely \(e\).  We would then have \(f\) the child of \(e\) (instead of the other way around), and \(f\) is the descendant of \(a\), instead of the ancestor.  \(f\) and \(g\) are now siblings.%
\end{example}
All of this flowery language helps us describe how to \emph{navigate} through a tree.  Traversing a tree, visiting each vertex in some order, is a key step in many algorithms.  Even if the tree is not rooted, we can always form a rooted tree by picking any vertex as the root.  Here is an example of why doing so can be helpful.%
\begin{example}{}{p:example:VPm}%
Explain why every tree is a bipartite graph.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:rxq}{}~~%
To show that a graph is bipartite, we must divide the vertices into two sets \(A\) and \(B\) so that no two vertices in the same set are adjacent.  Here is an algorithm that does just this.%
\par
Designate any vertex as the root.  Put this vertex in set \(A\).  Now put all of the children of the root in set \(B\).  None of these children are adjacent (they are siblings), so we are good so far.  Now put into \(A\) every child of every vertex in \(B\) (i.e., every grandchild of the root).  Keep going until all vertices have been assigned one of the sets, alternating between \(A\) and \(B\) every ``generation.''  That is, a vertex is in set \(B\) if and only if it is the child of a vertex in set \(A\).%
\end{example}
\index{breadth first search}\index{search!breadth first} The key to how we partitioned the tree in the example was to know which vertex to assign to a set next.  We chose to visit all vertices in the same generation before any vertices of the next generation.  This is usually called a \terminology{breadth first search} (we say ``search'' because you often traverse a tree looking for vertices with certain properties).%
\par
\index{depth first search}\index{search!depth first} In contrast, we could also have partitioned the tree in a different order.  Start with the root, put it in \(A\).  Then look for one child of the root to put in \(B\).  Then find a child of that vertex, into \(A\), and then find its child, into \(B\), and so on.  When you get to a vertex with no children, retreat to its parent and see if the parent has any other children.  So we travel as far from the root as fast as possible, then backtrack until we can move forward again.  This is called \terminology{depth first search}.%
\par
These algorithmic explanations can serve as a proof that every tree is bipartite, although care needs to be spent to prove that the algorithms are \emph{correct}.  Another approach to prove that all trees are bipartite, using induction, is requested in the exercises.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Spanning Trees}
\typeout{************************************************}
%
\begin{subsectionptx}{Spanning Trees}{}{Spanning Trees}{}{}{p:subsection:YJS}
One of the advantages of trees is that they give us a few simple ways to travel through the vertices.  If a connected graph is not a tree, then we can still use these traversal algorithms if we identify a subgraph that \emph{is} a tree.%
\par
First we should consider if this even makes sense.  Given any connected graph \(G\), will there always be a subgraph that is a tree?  Well, that is actually too easy: you could just take a single edge of \(G\).  If we want to use this subgraph to tell us how to visit all vertices, then we want our subgraph to include all of the vertices.  We call such a tree a \terminology{spanning tree}.  It turns out that every connected graph has one (and usually many).%
\begin{assemblage}{Spanning tree.}{x:assemblage:assemblage-spanningtree}%
Given a connected graph \(G\), a \terminology{spanning tree} of \(G\) is a subgraph of \(G\) which is a tree and includes all the vertices of \(G\).%
\par
Every connected graph has a spanning tree.%
\end{assemblage}
How do we know?  We can give an algorithm for \emph{finding} a spanning tree!  Start with a connected graph \(G\).  If there is no cycle, then \(G\) is already a tree and we are done.  If there is a cycle, let \(e\) be any edge in that cycle and consider the new graph \(G_1 = G - e\) (i.e., the graph you get by deleting \(e\)).  This tree is still connected since \(e\) belonged to a cycle, there were at least two paths between its incident vertices.  Now repeat: if \(G_1\) has no cycles, we are done, otherwise define \(G_2\) to be \(G_1 - e_1\), where \(e_1\) is an edge in a cycle in \(G_1\).  Keep going.  This process must eventually stop, since there are only a finite number of edges to remove.  The result will be a tree, and since we never removed any vertex, a \emph{spanning} tree.%
\par
This is by no means the only algorithm for finding a spanning tree.  You could have started with the empty graph and added edges that belong to \(G\) as long as adding them would not create a cycle.  You have some choices as to which edges you add first: you could always add an edge adjacent to edges you have already added (after the first one, of course), or add them using some other order.  Which spanning tree you end up with depends on these choices.%
\begin{example}{}{p:example:idE}%
Find two different spanning trees of the graph,%
\begin{sidebyside}{1}{0.325}{0.325}{0}%
\begin{sbspanel}{0.35}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw (-1,0) \v -- (1,0)\v -- (1,2) \v -- (-1, 2) \v -- (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
  \draw (-1,0) -- (-2,1) \v -- (-1,2) (1,2) -- (2,1) \v -- (1,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:XEz}{}~~%
Here are two spanning trees.%
\begin{sidebyside}{2}{0.1}{0.1}{0.2}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw (-1,0) \v -- (1,0)\v (1,2) \v -- (-1, 2) \v  (-1,0)  (-1,2) -- (0,1) \v;
  \draw (-1,0) (-2,1) \v -- (-1,2) (1,2) -- (2,1) \v -- (1,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
  \draw (-1,0) \v  (1,0)\v  (1,2) \v (-1, 2) \v  (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
  \draw (-2,1) \v -- (-1,2) (1,2) -- (2,1) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{example}
Although we will not consider this in detail, these algorithms are usually applied to \emph{weighted} graphs.  Here every edge has some weight or cost assigned to it.  The goal is to find a spanning tree that has the smallest possible combined weight.  Such a tree is called a \terminology{minimum spanning tree}.  Finding the minimum spanning tree uses basically the same algorithms as we described above, but when picking an edge to add, you always pick the smallest (or when removing an edge, you always remove the largest).\footnote{If you add the smallest edge adjacent to edges you have already added, you are doing \emph{Prim's algorithm}.  If you add the smallest edge in the entire graph, you are following \emph{Kruskal's algorithm}.\label{g:fn:idm22029}}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-trees}
\begin{divisionexercise}{\hyperlink{p:solution:BKN-back}{1}}{}{}{p:exercise:HzZ}%
Which of the following graphs are trees?%
\begin{enumerate}[label=(\alph*)]
\item{}\(G = (V, E)\) with \(V = \{a, b, c, d, e\}\) and \(E = \{\{a, b\}, \{a,e\}, \{b, c\}, \{c,d\}, \{d,e\} \}\)%
\item{}\(G = (V, E)\) with \(V = \{a, b, c, d, e\}\) and \(E = \{\{a, b\}, \{b, c\}, \{c,d\}, \{d,e\}\}\)%
\item{}\(G = (V, E)\) with \(V = \{a, b, c, d, e\}\) and \(E = \{\{a, b\}, \{a, c\}, \{a,d\}, \{a,e\}\}\)%
\item{}\(G = (V, E)\) with \(V = \{a, b, c, d, e\}\) and \(E = \{\{a, b\}, \{a, c\}, \{d,e\}\}\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:hRW-back}{2}}{}{}{x:exercise:ex-tree-deg-seq}%
For each degree sequence below, decide whether it must always, must never, or could possibly be a degree sequence for a tree. Remember, a degree sequence lists out the degrees (number of edges incident to the vertex) of all the vertices in a graph in non-increasing order.%
\begin{enumerate}[label=(\alph*)]
\item{}\((4,1,1,1,1)\)%
\item{}\((3,3,2,1,1)\)%
\item{}\((2,2,2,1,1)\)%
\item{}\((4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1)\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:NZf-back}{3}}{}{}{p:exercise:TOr}%
For each degree sequence below, decide whether it must always, must never, or could possibly be a degree sequence for a tree.  Justify your answers.%
\begin{enumerate}[label=(\alph*)]
\item{}\((3, 3, 2, 2, 2)\)%
\item{}\((3, 2, 2, 1, 1, 1)\)%
\item{}\((3, 3, 3, 1, 1, 1)\)%
\item{}\((4, 4, 1, 1, 1, 1, 1, 1)\)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:ugo-back}{4}}{}{}{p:exercise:zVA}%
Suppose you have a graph with \(v\) vertices and \(e\) edges that satisfies \(v = e+1\). Must the graph be a tree? Prove your answer.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:anx-back}{5}}{}{}{p:exercise:gcJ}%
Prove that any graph (not necessarily a tree) with \(v\) vertices and \(e\) edges that satisfies \(v \gt e+1\) will NOT be connected.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:GuG-back}{6}}{}{}{p:exercise:MjS}%
If a graph \(G\) with \(v\) vertices and \(e\) edges is connected and has \(v \lt e+1\), must it contain a cycle? Prove your answer.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:mBP-back}{7}}{}{}{x:exercise:ex-forest}%
We define a \terminology{forest} to be a graph with no cycles.%
\begin{enumerate}[label=(\alph*)]
\item{}Explain why this is a good name. That is, explain why a forest is a union of trees.%
\item{}Suppose \(F\) is a forest consisting of \(m\) trees and \(v\) vertices. How many edges does \(F\) have? Explain.%
\item{}Prove that any graph \(G\) with \(v\) vertices and \(e\) edges that satisfies \(v \lt e+1\) must contain a cycle (i.e., not be a forest).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:SIY-back}{8}}{}{}{p:exercise:Yyk}%
Give a careful proof of \hyperref[x:corollary:cor-unique-paths-forests]{Corollary~\ref{x:corollary:cor-unique-paths-forests}}: A graph is a forest if and only if there is at most one path between any pair of vertices.  Use proof by contrapositive (and not a proof by contradiction) for both directions.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:yQh-back}{9}}{}{}{p:exercise:EFt}%
Give a careful proof by induction on the number of vertices, that every tree is bipartite.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:eXq-back}{10}}{}{}{p:exercise:kMC}%
Consider the tree drawn below.%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  {\footnotesize
    \coordinate (a) at (0,0);
    \coordinate (b) at (1,0);
    \coordinate (c) at (.5,1);
    \coordinate (d) at (1.5,1);
    \coordinate (e) at (2,0);
    \coordinate (f) at (3,0);
    \coordinate (g) at (2.5,1);
    \coordinate (h) at (3.5,1);
    \coordinate (i) at (4,0);
    \draw (a) -- (b) -- (c) (b) -- (d) (b) -- (e) -- (f) -- (g) (f) -- (h) (f) -- (i);
    \foreach \x in {a,...,i}{
    \draw (\x) \vb{\footnotesize $\x$};
    }
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose we designate vertex \(e\) as the root.  List the children, parents and siblings of each vertex.  Does any vertex other than \(e\) have grandchildren?%
\item{}Suppose \(e\) is \emph{not} chosen as the root.  Does our choice of root vertex change the \emph{number} of children \(e\) has?  The number of grandchildren?  How many are there of each?%
\item{}In fact, pick any vertex in the tree and suppose it is not the root.  Explain why the number of children of that vertex does not depend on which other vertex is the root.%
\item{}Does the previous part work for other trees?  Give an example of a different tree for which it holds.  Then either prove that it always holds or give an example of a tree for which it doesn't.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:QTL}%
Let \(T\) be a rooted tree that contains vertices \(u\), \(v\), and \(w\) (among possibly others). Prove that if \(w\) is a descendant of both \(u\) and \(v\), then \(u\) is a descendant of \(v\) or \(v\) is a descendant of \(u\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Lez-back}{12}}{}{}{p:exercise:xaU}%
Unless it is already a tree, a given graph \(G\) will have multiple spanning trees. How similar or different must these be?%
\begin{enumerate}[label=(\alph*)]
\item{}Must all spanning trees of a given graph be isomorphic to each other? Explain why or give a counterexample.%
\item{}Must all spanning trees of a given graph have the same number of edges? Explain why or give a counterexample.%
\item{}Must all spanning trees of a graph have the same number of leaves (vertices of degree 1)? Explain why or give a counterexample.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:did}%
Find all spanning trees of the graph below. How many different spanning trees are there? How many different spanning trees are there \emph{up to isomorphism} (that is, if you grouped all the spanning trees by which are isomorphic, how many groups would you have)?%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \footnotesize{
  \draw (0,0) -- (-1,.75) \vl{$a$} -- (-1,-.75) \vl{$b$} -- (0,0) \vb{$c$} -- (1,1) \vb{$d$} -- (2,0) \vr{$e$} -- (1,-1) \va{$f$} -- (0,0) -- (2,0);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:rlI-back}{14}}{}{}{p:exercise:Jpm}%
Give an example of a graph that has exactly 7 different spanning trees. Note, it acceptable for some or all of these spanning trees to be isomorphic.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:XsR-back}{15}}{}{}{p:exercise:pwv}%
Prove that every connected graph which is not itself a tree must have at last three different (although possibly isomorphic) spanning trees.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:DAa-back}{16}}{}{}{p:exercise:VDE}%
Consider edges that must be in every spanning tree of a graph. Must every graph have such an edge? Give an example of a graph that has exactly one such edge.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.3 Planar Graphs}
\typeout{************************************************}
%
\begin{sectionptx}{Planar Graphs}{}{Planar Graphs}{}{}{x:section:sec_planar}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:Mhf}%
When a connected graph can be drawn without any edges crossing, it is called \terminology{planar}. When a planar graph is drawn in this way, it divides the plane into regions called \terminology{faces}.%
\begin{enumerate}
\item{}Draw, if possible, two different planar graphs with the same number of vertices, edges, and faces.%
\item{}Draw, if possible, two different planar graphs with the same number of vertices and edges, but a different number of faces.%
\end{enumerate}
%
\end{investigation}
When is it possible to draw a graph so that none of the edges cross? If this \emph{is} possible, we say the graph is \terminology{planar} \index{planar} (since you can draw it on the \emph{plane}).%
\par
Notice that the definition of planar includes the phrase ``it is possible to.'' This means that even if a graph does not look like it is planar, it still might be. Perhaps you can redraw it in a way in which no edges cross. For example, this is a planar graph:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.7, xscale=1.5]
   \draw (-1, 0) \v -- (-.5,2) \v -- (0,0) \v -- (.5, 2) \v -- (1,0) \v -- (-.5,2) (.5,2) -- (-1,0);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
That is because we can redraw it like this:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.7, xscale=1.5]
       \draw (-1, 0) \v -- (-.5,2) \v -- (0,0) \v -- (1.5, -1) \v -- (1,0) \v -- (-.5,2) (1.5,-1) -- (-1,0);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The graphs are the same, so if one is planar, the other must be too. However, the original drawing of the graph was not a \terminology{planar representation} of the graph.%
\par
When a planar graph is drawn without edges crossing, the edges and vertices of the graph divide the plane into regions. We will call each region a \terminology{face}. \index{faces} The graph above has 3 faces (yes, we \emph{do} include the ``outside'' region as a face). The number of faces does not change no matter how you draw the graph (as long as you do so without the edges crossing), so it makes sense to ascribe the number of faces as a property of the planar graph.%
\par
WARNING: you can only count faces when the graph is drawn in a planar way. For example, consider these two representations of the same graph:%
\begin{sidebyside}{2}{0.1375}{0.1375}{0.275}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \draw (45:1) \v -- (135:1) \v -- (225:1) \v -- (315:1) \v -- (45:1) -- (225:1) (135:1) -- (315:1);
    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.25}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \draw (45:1) \v -- (135:1) \v -- (225:1) \v -- (315:1) \v -- (45:1) -- (225:1);
      \draw (135:1) .. controls (70:2) and (20:2) .. (315:1);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
If you try to count faces using the graph on the left, you might say there are 5 faces (including the outside). But drawing the graph with a planar representation shows that in fact there are only 4 faces.%
\par
There is a connection between the number of vertices (\(v\)), the number of edges (\(e\)) and the number of faces (\(f\)) in any connected planar graph. This relationship is called Euler's formula.%
\begin{assemblage}{Euler's Formula for Planar Graphs.}{p:assemblage:lPi}%
For any (connected) planar graph with \(v\) vertices, \(e\) edges and \(f\) faces, we have%
\begin{equation*}
v-e + f = 2\text{.}
\end{equation*}
%
\end{assemblage}
Why is Euler's formula true? One way to convince yourself of its validity is to draw a planar graph step by step. Start with the graph \(P_2\):%
\begin{sidebyside}{1}{0.45}{0.45}{0}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \draw (-.5,-.5) \v -- (.5,.5)\v;
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Any connected graph (besides just a single isolated vertex) must contain this subgraph. Now build up to your graph by adding edges and vertices. Each step will consist of either adding a new vertex connected by a new edge to part of your graph (so creating a new ``spike'') or by connecting two vertices already in the graph with a new edge (completing a circuit).%
\begin{sidebyside}{2}{0.125}{0.125}{0.25}%
\begin{sbspanel}{0.3}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \draw (-1, 0) \v -- (-1,2) \v -- (1,2) \v -- (1,0) \v -- (-1,2);
      \draw[dashed] (1,2) -- (2,1) \v;
    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \draw (-1, 0) \v -- (-1,2) \v -- (1,2) \v -- (1,0) \v -- (-1,2);
      \draw[dashed] (1,0) -- (-1,0);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
What do these ``moves'' do? When adding the spike, the number of edges increases by 1, the number of vertices increases by one, and the number of faces remains the same. But this means that \(v - e + f\) does not change. Completing a circuit adds one edge, adds one face, and keeps the number of vertices the same. So again, \(v - e + f\) does not change.%
\par
Since we can build any graph using a combination of these two moves, and doing so never changes the quantity \(v - e + f\), that quantity will be the same for all graphs. But notice that our starting graph \(P_2\) has \(v = 2\), \(e = 1\) and \(f = 1\), so \(v - e + f = 2\). This argument is essentially a proof by induction. A good exercise would be to rewrite it as a formal induction proof.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Non-planar Graphs}
\typeout{************************************************}
%
\begin{subsectionptx}{Non-planar Graphs}{}{Non-planar Graphs}{}{}{p:subsection:ZAQ}
\begin{investigation}{}{p:investigation:qzb}%
For the complete graphs \(K_n\), we would like to be able to say something about the number of vertices, edges, and (if the graph is planar) faces. Let's first consider \(K_3\):%
\begin{enumerate}
\item{}How many vertices does \(K_3\) have? How many edges?%
\item{}If \(K_3\) is planar, how many faces should it have?%
\end{enumerate}
%
\par
Repeat parts (1) and (2) for \(K_4\), \(K_5\), and \(K_{23}\).%
\par
What about complete bipartite graphs? How many vertices, edges, and faces (if it were planar) does \(K_{7,4}\) have? For which values of \(m\) and \(n\) are \(K_n\) and \(K_{m,n}\) planar?%
\end{investigation}
Not all graphs are planar. If there are too many edges and too few vertices, then some of the edges will need to intersect. The smallest graph where this happens is \(K_5\).%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
      \foreach \x in {0,...,4}
      \draw (\x*72+18:1) \v -- (\x*72+90:1) -- (\x*72-54:1);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
If you try to redraw this without edges crossing, you quickly get into trouble. There seems to be one edge too many. In fact, we can prove that no matter how you draw it, \(K_5\) will always have edges crossing.%
\begin{theorem}{}{}{p:theorem:RWr}%
\(K_5\) is not planar.%
\end{theorem}
\begin{proofptx}{}{p:proof:Yvx}
The proof is by contradiction. So assume that \(K_5\) is planar. Then the graph must satisfy Euler's formula for planar graphs. \(K_5\) has 5 vertices and 10 edges, so we get%
\begin{equation*}
5 - 10 + f = 2\text{,}
\end{equation*}
which says that if the graph is drawn without any edges crossing, there would be \(f = 7\) faces.%
\par
Now consider how many edges surround each face. Each face must be surrounded by at least 3 edges. Let \(B\) be the total number of \emph{boundaries} around all the faces in the graph. Thus we have that \(3f \le B\). But also \(B = 2e\), since each edge is used as a boundary exactly twice. Putting this together we get%
\begin{equation*}
3f \le 2e\text{.}
\end{equation*}
%
\par
But this is impossible, since we have already determined that \(f = 7\) and \(e = 10\), and \(21 \not\le 20\). This is a contradiction so in fact \(K_5\) is not planar.%
\end{proofptx}
The other simplest graph which is not planar is \(K_{3,3}\)%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=1.2]
          \draw (-1,1) \v -- (-1,0)\v  -- (0,1) \v -- (0,0) \v -- (1,1) \v -- (1,0) \v -- (0,1) -- (-1,0) -- (1,1) (1,0) -- (-1,1) -- (0,0);
        \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Proving that \(K_{3,3}\) is not planar answers the houses and utilities puzzle: it is not possible to connect each of three houses to each of three utilities without the lines crossing.%
\begin{theorem}{}{}{p:theorem:ydA}%
\(K_{3,3}\) is not planar.%
\end{theorem}
\begin{proofptx}{}{p:proof:ECG}
Again, we proceed by contradiction. Suppose \(K_{3,3}\) were planar. Then by Euler's formula there will be 5 faces, since \(v = 6\), \(e = 9\), and \(6 - 9 + f = 2\).%
\par
How many boundaries surround these 5 faces? Let \(B\) be this number. Since each edge is used as a boundary twice, we have \(B = 2e\). Also, \(B \ge 4f\) since each face is surrounded by 4 or more boundaries. We know this is true because \(K_{3,3}\) is bipartite, so does not contain any 3-edge cycles. Thus%
\begin{equation*}
4f \le 2e\text{.}
\end{equation*}
%
\par
But this would say that \(20 \le 18\), which is clearly false. Thus \(K_{3,3}\) is not planar.%
\end{proofptx}
Note the similarities and differences in these proofs. Both are proofs by contradiction, and both start with using Euler's formula to derive the (supposed) number of faces in the graph. Then we find a relationship between the number of faces and the number of edges based on how many edges surround each face. This is the only difference. In the proof for \(K_5\), we got \(3f \le 2e\) and for \(K_{3,3}\) we go \(4f \le 2e\). The coefficient of \(f\) is the key. It is the smallest number of edges which could surround any face. If some number of edges surround a face, then these edges form a cycle. So that number is the size of the smallest cycle in the graph.%
\par
In general, if we let \(g\) be the size of the smallest cycle in a graph (\(g\) stands for \emph{girth}, \index{girth} which is the technical term for this) then for any planar graph we have \(gf \le 2e\). When this disagrees with Euler's formula, we know for sure that the graph cannot be planar.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Polyhedra}
\typeout{************************************************}
%
\begin{subsectionptx}{Polyhedra}{}{Polyhedra}{}{}{p:subsection:FHZ}
\begin{investigation}{}{p:investigation:viU}%
A cube \index{cube} is an example of a convex polyhedron. It contains 6 identical squares for its faces, 8 vertices, and 12 edges. The cube is a \terminology{regular polyhedron} (also known as a \terminology{Platonic solid}) \index{Platonic solid} because each face is an identical regular polygon and each vertex joins an equal number of faces.%
\par
There are exactly four other regular polyhedra: the tetrahedron, octahedron, dodecahedron, and icosahedron with 4, 8, 12 and 20 faces respectively. How many vertices and edges do each of these have?%
\end{investigation}
Another area of mathematics where you might have heard the terms ``vertex,'' ``edge,'' and ``face'' is geometry. A \terminology{polyhedron} \index{polyhedron} is a geometric solid made up of flat polygonal faces joined at edges and vertices. We are especially interested in \terminology{convex} \index{convex} polyhedra, which means that any line segment connecting two points on the interior of the polyhedron must be entirely contained inside the polyhedron.\footnote{An alternative definition for convex is that the internal angle formed by any two faces must be less than \(180\deg\).\label{g:fn:idm22462}}%
\par
Notice that since \(8 - 12 + 6 = 2\), the vertices, edges and faces of a cube satisfy Euler's formula for planar graphs. This is not a coincidence. We can represent a cube as a planar graph by projecting the vertices and edges onto the plane. One such projection looks like this:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \foreach \ang in {45, 135, 225, 315} {
  \draw (\ang:.4) \v -- (\ang:1) \v -- (\ang+90:1) (\ang:.4) -- (\ang+90:.4);
  }
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
In fact, \emph{every} convex polyhedron can be projected onto the plane without edges crossing. Think of placing the polyhedron inside a sphere, with a light at the center of the sphere. The edges and vertices of the polyhedron cast a shadow onto the interior of the sphere. You can then cut a hole in the sphere in the middle of one of the projected faces and ``stretch'' the sphere to lie down flat on the plane. The face that was punctured becomes the ``outside'' face of the planar graph.%
\par
The point is, we can apply what we know about graphs (in particular planar graphs) to convex polyhedra. Since every convex polyhedron can be represented as a planar graph, we see that Euler's formula for planar graphs holds for all convex polyhedra as well. We also can apply the same sort of reasoning we use for graphs in other contexts to convex polyhedra. For example, we know that there is no convex polyhedron with 11 vertices all of degree 3, as this would make 33\slash{}2 edges.%
\begin{example}{}{p:example:iUC}%
Is there a convex polyhedron consisting of three triangles and six pentagons? What about three triangles, six pentagons and five heptagons (7-sided polygons)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:soo}{}~~%
How many edges would such polyhedra have? For the first proposed polyhedron, the triangles would contribute a total of 9 edges, and the pentagons would contribute 30. However, this counts each edge twice (as each edge borders exactly two faces), giving 39\slash{}2 edges, an impossibility. There is no such polyhedron.%
\par
The second polyhedron does not have this obstacle. The extra 35 edges contributed by the heptagons give a total of 74\slash{}2 = 37 edges. So far so good. Now how many vertices does this supposed polyhedron have? We can use Euler's formula. There are 14 faces, so we have \(v - 37 + 14 = 2\) or equivalently \(v = 25\). But now use the vertices to count the edges again. Each vertex must have degree \emph{at least} three (that is, each vertex joins at least three faces since the interior angle of all the polygons must be less that \(180^\circ\)), so the sum of the degrees of vertices is at least 75. Since the sum of the degrees must be exactly twice the number of edges, this says that there are strictly more than 37 edges. Again, there is no such polyhedron.%
\end{example}
To conclude this application of planar graphs, consider the regular polyhedra. We claimed there are only five. How do we know this is true? We can prove it using graph theory.%
\begin{theorem}{}{}{p:theorem:WGk}%
There are exactly five regular polyhedra.%
\end{theorem}
\begin{proofptx}{}{p:proof:kJP}
Recall that all the faces of a regular polyhedron are identical regular polygons, and that each vertex has the same degree. Consider four cases, depending on the type of regular polygon.%
\par
Case 1: Each face is a triangle. Let \(f\) be the number of faces. There are then \(3f/2\) edges. Using Euler's formula we have \(v - 3f/2 + f = 2\) so \(v = 2 + f/2\). Now each vertex has the same degree, say \(k\). So the number of edges is also \(kv/2\). Putting this together gives%
\begin{equation*}
e = \frac{3f}{2} = \frac{k(2+f/2)}{2}\text{,}
\end{equation*}
which says%
\begin{equation*}
k = \frac{6f}{4+f}\text{.}
\end{equation*}
%
\par
Both \(k\) and \(f\) must be positive integers. Note that \(\frac{6f}{4+f}\) is an increasing function for positive \(f\), bounded above by a horizontal asymptote at \(f=6\). Thus the only possible values for \(k\) are 3, 4, and 5. Each of these are possible. To get \(k = 3\), we need \(f = 4\) (this is the tetrahedron). \index{tetrahedron} For \(k = 4\) we take \(f = 8\) (the octahedron). \index{octahedron} For \(k = 5\) take \(f = 20\) (the icosahedron). \index{icosahedron} Thus there are exactly three regular polyhedra with triangles for faces.%
\par
Case 2: Each face is a square. Now we have \(e = 4f/2 = 2f\). Using Euler's formula we get \(v = 2 + f\), and counting edges using the degree \(k\) of each vertex gives us%
\begin{equation*}
e = 2f = \frac{k(2+f)}{2}\text{.}
\end{equation*}
%
\par
Solving for \(k\) gives%
\begin{equation*}
k = \frac{4f}{2+f} = \frac{8f}{4+2f}\text{.}
\end{equation*}
%
\par
This is again an increasing function, but this time the horizontal asymptote is at \(k = 4\), so the only possible value that \(k\) could take is 3. This produces 6 faces, and we have a cube. There is only one regular polyhedron with square faces.%
\par
Case 3: Each face is a pentagon. We perform the same calculation as above, this time getting \(e = 5f/2\) so \(v = 2 + 3f/2\). Then%
\begin{equation*}
e = \frac{5f}{2} = \frac{k(2+3f/2)}{2}\text{,}
\end{equation*}
so%
\begin{equation*}
k = \frac{10f}{4+3f}\text{.}
\end{equation*}
%
\par
Now the horizontal asymptote is at \(\frac{10}{3}\). This is less than 4, so we can only hope of making \(k = 3\). We can do so by using 12 pentagons, getting the dodecahedron. \index{dodecahedron} This is the only regular polyhedron with pentagons as faces.%
\par
Case 4: Each face is an \(n\)-gon with \(n \ge 6\). Following the same procedure as above, we deduce that%
\begin{equation*}
k = \frac{2nf}{4+(n-2)f}\text{,}
\end{equation*}
which will be increasing to a horizontal asymptote of \(\frac{2n}{n-2}\). When \(n = 6\), this asymptote is at \(k = 3\). Any larger value of \(n\) will give an even smaller asymptote. Therefore no regular polyhedra exist with faces larger than pentagons.\footnote{Notice that you can tile the plane with hexagons. This is an infinite planar graph; each vertex has degree 3. These infinitely many hexagons correspond to the limit as \(f \to \infty\) to make \(k = 3\).\label{g:fn:idm22551}}%
\end{proofptx}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-planar}
\begin{divisionexercise}{\hyperlink{p:solution:jsO-back}{1}}{}{}{p:exercise:Vpj}%
Is it possible for a planar graph to have 6 vertices, 10 edges and 5 faces? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PzX-back}{2}}{}{}{p:exercise:Bws}%
The graph \(G\) has 6 vertices with degrees \(2, 2, 3, 4, 4, 5\). How many edges does \(G\) have? Could \(G\) be planar? If so, how many faces would it have. If not, explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vHg-back}{3}}{}{}{p:exercise:hDB}%
Is it possible for a connected graph with 7 vertices and 10 edges to be drawn so that no edges cross and create 4 faces?  Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:NKK}%
Is it possible for a graph with 10 vertices and edges to be a connected planar graph?  Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:bOp-back}{5}}{}{}{p:exercise:tRT}%
Is there a connected planar graph with an odd number of faces where every vertex has degree 6?  Prove your answer.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:HVy-back}{6}}{}{}{p:exercise:ZZc}%
I'm thinking of a polyhedron containing 12 faces. Seven are triangles and four are quadralaterals. The polyhedron has 11 vertices including those around the mystery face. How many sides does the last face have?%
\end{divisionexercise}%
\begin{divisionexercise}{7}{}{}{p:exercise:Ggl}%
Consider some classic polyhedrons.%
\begin{enumerate}[label=(\alph*)]
\item{}An \emph{octahedron} is a regular polyhedron made up of 8 equilateral triangles (it sort of looks like two pyramids with their bases glued together). Draw a planar graph representation of an octahedron. How many vertices, edges and faces does an octahedron (and your graph) have?%
\item{}The traditional design of a soccer ball is in fact a (spherical projection of a) truncated icosahedron. This consists of 12 regular pentagons and 20 regular hexagons. No two pentagons are adjacent (so the edges of each pentagon are shared only by hexagons). How many vertices, edges, and faces does a truncated icosahedron have? Explain how you arrived at your answers. Bonus: draw the planar graph representation of the truncated icosahedron.%
\item{}Your ``friend'' claims that he has constructed a convex polyhedron out of 2 triangles, 2 squares, 6 pentagons and 5 octagons. Prove that your friend is lying. Hint: each vertex of a convex polyhedron must border at least three faces.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ocH-back}{8}}{}{}{p:exercise:mnu}%
Prove Euler's formula using induction on the number of edges in the graph.%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:SuD}%
Prove Euler's formula using induction on the number of \emph{vertices} in the graph.%
\end{divisionexercise}%
\begin{divisionexercise}{10}{}{}{p:exercise:yBM}%
Euler's formula (\(v - e + f = 2\)) holds for all \emph{connected} planar graphs. What if a graph is not connected? Suppose a planar graph has two components. What is the value of \(v - e + f\) now? What if it has \(k\) components?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:AqZ-back}{11}}{}{}{p:exercise:eIV}%
Prove that the \emph{Petersen graph} \index{Petersen graph} (below) is not planar.%
\begin{sidebyside}{1}{0.36}{0.36}{0}%
\begin{sbspanel}{0.28}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}[scale=.7]
  \draw[thick] (18:2) -- (90:2) -- (162:2)  -- (234:2) -- (306:2) -- cycle;
  \draw[thick] (18:1) --  (162:1)  -- (306:1) -- (90:1) -- (234:1) --cycle;
  \foreach \x in {18, 90, 162, 234, 306}
  \draw[thick] (\x:1) \v -- (\x:2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:gyi-back}{12}}{}{}{p:exercise:KQe}%
Prove that any planar graph with \(v\) vertices and \(e\) edges satisfies \(e \le 3v - 6\).%
\end{divisionexercise}%
\begin{divisionexercise}{13}{}{}{p:exercise:qXn}%
Prove that any planar graph must have a vertex of degree 5 or less.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:sMA-back}{14}}{}{}{x:exercise:exr-grotzsch-nonplanar}%
Give a careful proof that the graph below is not planar.%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.8]
  \foreach \x in {0,...,4}{
\draw (0,0) \v -- (90+\x*72:1) \v -- (162+\x*72:2) \v -- (90+\x*72:2) -- (162+\x*72:1);
}
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:YTJ-back}{15}}{}{}{p:exercise:DlF}%
Explain why we cannot use the same sort of proof we did in \hyperlink{x:exercise:exr-grotzsch-nonplanar}{Exercise~4.3.14} to prove that the graph below is not planar.  Then explain how you know the graph is not planar anyway.%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.8]
  \foreach \x in {0,...,4}{
  \draw (0,0) \v -- (90+\x*72:1) \v -- (162+\x*72:2) \v -- (90+\x*72:2) -- (162+\x*72:1);
  \draw[black!80!blue] (90+\x*72:1) -- (162+\x*72:1);
  }
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.4 Coloring}
\typeout{************************************************}
%
\begin{sectionptx}{Coloring}{}{Coloring}{}{}{x:section:sec_coloring}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:ptv}%
Mapmakers in the fictional land of Euleria have drawn the borders of the various dukedoms of the land. To make the map pretty, they wish to color each region. Adjacent regions must be colored differently, but it is perfectly fine to color two distant regions with the same color. What is the fewest colors the mapmakers can use and still accomplish this task?%
\begin{sidebyside}{1}{0.125}{0.125}{0}%
\begin{sbspanel}{0.75}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\draw[thick]
		plot [smooth] coordinates {(0.1,1) (0,0) (2,0) (4,0.1) (5,0) (6,0) (7,0) (7,1) (7.1,3.5)}
		plot [smooth] coordinates {(1,1) (0.1,1) (0,5)}
		plot [smooth] coordinates {(2,5) (1,5) (1,4) (1,1) (1,.5) (3,.5) (3,1.25)}
		plot [smooth] coordinates {(5,0) (5,1) (6,1) (6,0)}
		plot [smooth] coordinates {(6,1) (6,3) (6,3.5) (5.5,3.5)}
		plot [smooth] coordinates {(5,1) (4,1) (4,1.25) (4,1.5) (4,3) (2,3) (2,1) (3,1.25) (4,1.25)}
		plot [smooth] coordinates {(4,1.5) (5,1.5) (5,3) (5,4) (4,4) (3,3.85) (2,4) (1.5,4) (1.5,3) (2,3)}
		plot [smooth] coordinates {(5,3) (5.5,3) (5.5,3.5) (5.5, 4.2) (5.5,5) (4,5) (4,4)}
		plot [smooth] coordinates {(6,3) (7.1, 3.5) (7,5) (5.5,4.2)}
		plot [smooth] coordinates {(7,5) (5,6.5) (4,7) (1,7) (0,5) (1,4)}
		plot [smooth] coordinates {(2,4) (2,5) (1.8,5.5) (2,6) (3,6.5) (4,5)}
		plot [smooth] coordinates {(1,7) (3,6.5)};
	\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{investigation}
Perhaps the most famous graph theory problem is how to color maps.%
\begin{quote}%
Given any map of countries, states, counties, etc., how many colors are needed to color each region on the map so that neighboring regions are colored differently?%
\end{quote}
Actual map makers usually use around seven colors. For one thing, they require watery regions to be a specific color, and with a lot of colors it is easier to find a permissible coloring. We want to know whether there is a smaller palette that will work for any map.%
\par
How is this related to graph theory? Well, if we place a vertex in the center of each region (say in the capital of each state) and then connect two vertices if their states share a border, we get a graph. Coloring regions on the map corresponds to coloring the vertices of the graph. Since neighboring regions cannot be colored the same, our graph cannot have vertices colored the same when those vertices are adjacent.%
\par
In general, given any graph \(G\), a coloring of the vertices is called (not surprisingly) a \terminology{vertex coloring}. \index{vertex coloring}\index{coloring} If the vertex coloring has the property that adjacent vertices are colored differently, then the coloring is called \terminology{proper}. Every graph has a proper vertex coloring. For example, you could color every vertex with a different color. But often you can do better. The smallest number of colors needed to get a proper vertex coloring is called the \terminology{chromatic number} \index{chromatic number} of the graph, written \(\chi(G)\) \label{g:notation:idm22726} .%
\begin{example}{}{p:example:kJC}%
Find the chromatic number of the graphs below.%
\begin{sidebyside}{3}{0.05}{0.05}{0.1}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	      \foreach \x in {0,...,6}
	      \draw  (\x*60:1) \v -- (\x*60+60:1) -- (\x*60+180:1) -- cycle;
	    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
	      \draw  (-1,0) \v -- (0,0) \v -- (1,0) \v -- (.5,1) \v -- (0,0) -- (-.5,1) \v -- (0,2) \v -- (.5,1) -- (-.5,1) -- (-1,0);
	    \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8, xscale=1.5]
	 \draw  (-1, 0) \v -- (-.5,2) \v -- (0,0) \v -- (.5, 2) \v -- (1,0) \v -- (-.5,2) (.5,2) -- (-1,0);
	  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:VAE}{}~~%
The graph on the left is \(K_6\). The only way to properly color the graph is to give every vertex a different color (since every vertex is adjacent to every other vertex). Thus the chromatic number is 6.%
\par
The middle graph can be properly colored with just 3 colors (Red, Blue, and Green). For example:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.8]
	      \draw  (-1,0) \vb{R} -- (0,0) \vb{B} -- (1,0) \vb{G} -- (.5,1) \vr{R} -- (0,0) -- (-.5,1) \vl{G} -- (0,2) \va{B} -- (.5,1) -- (-.5,1) -- (-1,0);
	    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
There is no way to color it with just two colors, since there are three vertices mutually adjacent (i.e., a triangle). Thus the chromatic number is 3.%
\par
The graph on the right is just \(K_{2,3}\). As with all bipartite graphs, this graph has chromatic number 2: color the vertices on the top row red and the vertices on the bottom row blue.%
\end{example}
It appears that there is no limit to how large chromatic numbers can get. It should not come as a surprise that \(K_n\) has chromatic number \(n\). So how could there possibly be an answer to the original map coloring question? If the chromatic number of graph can be arbitrarily large, then it seems like there would be no upper bound to the number of colors needed for any map. But there is.%
\par
The key observation is that while it is true that for any number \(n\), there is a graph with chromatic number \(n\), only some graphs arrive as representations of maps. If you convert a map to a graph, the edges between vertices correspond to borders between the countries. So you should be able to connect vertices in such a way where the edges do not cross. In other words, the graphs representing maps are all \emph{planar}!%
\par
So the question is, what is the largest chromatic number of any planar graph? The answer is the best known theorem of graph theory:%
\begin{theorem}{The Four Color Theorem.}{}{p:theorem:ECt}%
\index{Four Color Theorem} If \(G\) is a planar graph, then the chromatic number of \(G\) is less than or equal to 4. Thus any map can be properly colored with 4 or fewer colors.%
\end{theorem}
We will not prove this theorem. Really. Even though the theorem is easy to state and understand, the proof is not. In fact, there is currently no ``easy'' known proof of the theorem. The current best proof still requires powerful computers to check an \emph{unavoidable set} of 633 \emph{reducible configurations}. The idea is that every graph must contain one of these reducible configurations (this fact also needs to be checked by a computer) and that reducible configurations can, in fact, be colored in 4 or fewer colors.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Coloring in General}
\typeout{************************************************}
%
\begin{subsectionptx}{Coloring in General}{}{Coloring in General}{}{}{p:subsection:WFX}
\begin{investigation}{}{p:investigation:zSA}%
The math department plans to offer 10 classes next semester. Some classes cannot run at the same time (perhaps they are taught by the same professor, or are required for seniors).%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAl}
Class:&Conflicts with:\tabularnewline\hrulethin
A&D I\tabularnewline[0pt]
B&D I J\tabularnewline[0pt]
C&E F I\tabularnewline[0pt]
D&A B F\tabularnewline[0pt]
E&C H I\tabularnewline[0pt]
F&C D I\tabularnewline[0pt]
G&J\tabularnewline[0pt]
H&E I J\tabularnewline[0pt]
I&A B C E F H\tabularnewline[0pt]
J&B G H
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
How many different time slots are needed to teach these classes (and which should be taught at the same time)? More importantly, how could we use graph coloring to answer this question?%
\end{investigation}
Cartography is certainly not the only application of graph coloring. There are plenty of situations in which you might wish to partition the objects in question so that related objects are not in the same set. For example, you might wish to store chemicals safely. To avoid explosions, certain pairs of chemicals should not be stored in the same room. By coloring a graph (with vertices representing chemicals and edges representing potential negative interactions), you can determine the smallest number of rooms needed to store the chemicals.%
\par
Here is a further example:%
\begin{example}{}{p:example:bpQ}%
Radio stations broadcast their signal at certain frequencies. However, there are a limited number of frequencies to choose from, so nationwide many stations use the same frequency. This works because the stations are far enough apart that their signals will not interfere; no one radio could pick them up at the same time.%
\par
Suppose 10 new radio stations are to be set up in a currently unpopulated (by radio stations) region. The radio stations that are close enough to each other to cause interference are recorded in the table below. What is the fewest number of frequencies the stations could use.%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
\resizebox{\linewidth}{!}{%
\begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|}
 & {\tiny KQEA}&{\tiny KQEB}&{\tiny KQEC}&{\tiny KQED}&{\tiny KQEE}&{\tiny KQEF}&{\tiny KQEG}&{\tiny  KQEH}&{\tiny  KQEI}&{\tiny KQEJ } \\ \hline
{\tiny KQEA }&      &      &   x  &      &      &   x  &   x  &      &      &  x   \\ \hline
{\tiny KQEB }&      &      &   x  &   x  &      &      &      &      &      &      \\ \hline
{\tiny KQEC }&   x  &      &      &      &      &   x  &   x  &      &      &  x   \\ \hline
{\tiny KQED }&      &  x   &      &      &  x   &  x   &      &  x   &      &      \\ \hline
{\tiny KQEE }&      &      &      &  x   &      &      &      &      &  x   &      \\ \hline
{\tiny KQEF }&  x   &      &  x   &  x   &      &      &   x  &      &      &  x   \\ \hline
{\tiny KQEG }&  x   &      &  x   &      &      &  x   &      &      &      &  x   \\ \hline
{\tiny KQEH }&      &      &      &  x   &      &      &      &      &  x   &      \\ \hline
{\tiny KQEI }&      &      &      &      &  x   &      &      &  x   &      &  x   \\ \hline
{\tiny KQEJ }&  x   &      &  x   &      &      &  x   &   x  &      &  x   &      \\ \hline
\end{tabular}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:BHN}{}~~%
Represent the problem as a graph with vertices as the stations and edges when two stations are close enough to cause interference. We are looking for the chromatic number of the graph. Vertices that are colored identically represent stations that can have the same frequency.%
\par
This graph has chromatic number 5. A proper 5-coloring is shown on the right. Notice that the graph contains a copy of the complete graph \(K_5\) so no fewer than 5 colors can be used.%
\begin{sidebyside}{2}{0.0875}{0.0875}{0.175}%
\begin{sbspanel}{0.35}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.9]
	\coordinate (A) at (90:2);
	\coordinate (B) at (90-36:2);
	\coordinate (C) at (90-2*36:2);
	\coordinate (D) at (90-3*36:2);
	\coordinate (E) at (90-4*36:2);
	\coordinate (F) at (90-5*36:2);
	\coordinate (G) at (90-6*36:2);
	\coordinate (H) at (90-7*36:2);
	\coordinate (I) at (90-8*36:2);
	\coordinate (J) at (90-9*36:2);

	\draw (A) -- (F) -- (D) -- (H) -- (I) (G) -- (J) -- (C) -- (F) (C) -- (G) -- (A) -- (J);

	\draw (A) \va{\tiny KQEA} -- (C) \vr{\tiny KQEC} -- (B) \va{\tiny KQEB} -- (D) \vr{\tiny KQED} -- (E) \vb{\tiny KQEE} -- (I) \vl{\tiny KQEI} -- (J) \va{\tiny KQEJ} -- (F) \vb{\tiny KQEF} -- (G) \vl{\tiny KQEG} (H) \vl{\tiny KQEH};
	\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.9]
	\coordinate (A) at (90:2);
	\coordinate (B) at (90-36:2);
	\coordinate (C) at (90-2*36:2);
	\coordinate (D) at (90-3*36:2);
	\coordinate (E) at (90-4*36:2);
	\coordinate (F) at (90-5*36:2);
	\coordinate (G) at (90-6*36:2);
	\coordinate (H) at (90-7*36:2);
	\coordinate (I) at (90-8*36:2);
	\coordinate (J) at (90-9*36:2);

	\draw (A) -- (F) -- (D) -- (H) -- (I) (G) -- (J) -- (C) -- (F) (C) -- (G) -- (A) -- (J);
	\draw[line width=1.25pt] (A) -- (C) -- (F) -- (G) -- (J) -- (A) -- (F) -- (J) -- (C) -- (G) -- (A);

	\draw (A) \va{ R} -- (C) \vr{ B} -- (B) \va{ G} -- (D) \vr{ B} -- (E) \vb{ G} -- (I) \vl{ B} -- (J) \va{ P} -- (F) \vb{ G} -- (G) \vl{ Y} (H) \vl{ R};
	\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{example}
In the example above, the chromatic number was 5, but this is not a counterexample to the Four Color Theorem, since the graph representing the radio stations is not planar. It would be nice to have some quick way to find the chromatic number of a (possibly non-planar) graph. It turns out nobody knows whether an efficient algorithm for computing chromatic numbers exists.%
\par
While we might not be able to find the exact chromatic number of graph easily, we can often give a reasonable range for the chromatic number. In other words, we can give upper and lower bounds for chromatic number.%
\par
This is actually not very difficult: for every graph \(G\), the chromatic number of \(G\) is at least 1 and at most the number of vertices of \(G\).%
\par
What? You want \emph{better} bounds on the chromatic number? Well you are in luck.%
\par
A \terminology{clique} \index{clique} in a graph is a set of vertices all of which are pairwise adjacent. In other words, a clique of size \(n\) is just a copy of the complete graph \(K_n\). We define the \terminology{clique number} of a graph to be the largest \(n\) for which the graph contains a clique of size \(n\). Any clique of size \(n\) cannot be colored with fewer than \(n\) colors, so we have a nice lower bound:%
\begin{theorem}{}{}{p:theorem:Pby}%
The chromatic number of a graph \(G\) is at least the clique number of \(G\).%
\end{theorem}
There are times when the chromatic number of \(G\) is \emph{equal} to the clique number. These graphs have a special name; they are called \terminology{perfect}. \index{perfect graph} If you know that a graph is perfect, then finding the chromatic number is simply a matter of searching for the largest clique.\footnote{There are special classes of graphs which can be proved to be perfect. One such class is the set of \terminology{chordal} graphs, which have the property that every cycle in the graph contains a \terminology{chord}\textemdash{}an edge between two vertices in of the cycle which are not adjacent in the cycle.\label{g:fn:idm22860}} However, not all graphs are perfect.%
\par
For an upper bound, we can improve on ``the number of vertices'' by looking to the degrees of vertices. Let \(\Delta(G)\) \label{g:notation:idm22867} be the largest degree of any vertex in the graph \(G\). One reasonable guess for an upper bound on the chromatic number is \(\chi(G) \le \Delta(G) + 1\). Why is this reasonable? Starting with any vertex, it together with all of its neighbors can always be colored in \(\Delta(G) + 1\) colors, since at most we are talking about \(\Delta(G) + 1\) vertices in this set. Now fan out! At any point, if you consider an already colored vertex, some of its neighbors might be colored, some might not. But no matter what, that vertex and its neighbors could all be colored distinctly, since there are at most \(\Delta(G)\) neighbors, plus the one vertex being considered.%
\par
In fact, there are examples of graphs for which \(\chi(G) = \Delta(G) + 1\). For any \(n\), the complete graph \(K_n\) has chromatic number \(n\), but \(\Delta(K_n) = n-1\) (since every vertex is adjacent to every \emph{other} vertex). Additionally, any \emph{odd} cycle will have chromatic number 3, but the degree of every vertex in a cycle is 2. It turns out that these are the only two types of examples where we get equality, a result known as Brooks' Theorem.%
\begin{theorem}{Brooks' Theorem.}{}{p:theorem:viH}%
\index{Brooks' Theorem} Any graph \(G\) satisfies \(\chi(G) \le \Delta(G)\), unless \(G\) is a complete graph or an odd cycle, in which case \(\chi(G) = \Delta(G) + 1\).%
\end{theorem}
The proof of this theorem is \emph{just} complicated enough that we will not present it here (although you are asked to prove a special case in the exercises). The adventurous reader is encouraged to find a book on graph theory for suggestions on how to prove the theorem.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Coloring Edges}
\typeout{************************************************}
%
\begin{subsectionptx}{Coloring Edges}{}{Coloring Edges}{}{}{p:subsection:CNg}
The chromatic number of a graph tells us about coloring vertices, but we could also ask about coloring edges. Just like with vertex coloring, we might insist that edges that are adjacent must be colored differently. Here, we are thinking of two edges as being adjacent if they are incident to the same vertex. The least number of colors required to properly color the edges of a graph \(G\) is called the \terminology{chromatic index} \index{chromatic index} of \(G\), written \(\chi'(G)\) \label{g:notation:idm22905} .%
\begin{example}{}{p:example:MgS}%
Six friends decide to spend the afternoon playing chess. Everyone will play everyone else once. They have plenty of chess sets but nobody wants to play more than one game at a time. Games will last an hour (thanks to their handy chess clocks). How many hours will the tournament last?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:hOW}{}~~%
Represent each player with a vertex and put an edge between two players if they will play each other. In this case, we get the graph \(K_6\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	\foreach \x in {0,...,5}{

		\foreach \y in {1,...,5}{
		 \draw (\x*60:1) -- (\x*60+\y*60:1);
		}
	\draw (\x*60:1) \v;
	}
	\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
We must color the edges; each color represents a different hour. Since different edges incident to the same vertex will be colored differently, no player will be playing two different games (edges) at the same time. Thus we need to know the chromatic index of \(K_6\).%
\par
Notice that for sure \(\chi'(K_6) \ge 5\), since there is a vertex of degree 5. It turns out 5 colors is enough (go find such a coloring). Therefore the friends will play for 5 hours.%
\end{example}
Interestingly, if one of the friends in the above example left, the remaining 5 chess-letes would still need 5 hours: the chromatic index of \(K_5\) is also 5.%
\par
In general, what can we say about chromatic index? Certainly \(\chi'(G) \ge \Delta(G)\). But how much higher could it be? Only a little higher.%
\begin{theorem}{Vizing's Theorem.}{}{p:theorem:fZJ}%
\index{Vizing's Theorem} For any graph \(G\), the chromatic index \(\chi'(G)\) is either \(\Delta(G)\) or \(\Delta(G) + 1\).%
\end{theorem}
At first this theorem makes it seem like chromatic index might not be very interesting. However, deciding which case a graph is in is not always easy. Graphs for which \(\chi'(G) = \Delta(G)\) are called \emph{class 1}, while the others are called \emph{class 2}. Bipartite graphs always satisfy \(\chi'(G) = \Delta(G)\), so are class 1 (this was proved by König in 1916, decades before Vizing proved his theorem in 1964). In 1965 Vizing proved that all planar graphs with \(\Delta(G) \ge 8\) are of class 1, but this does not hold for all planar graphs with \(2 \le \Delta(G) \le 5\). Vizing conjectured that all planar graphs with \(\Delta(G) = 6\) or \(\Delta(G) = 7\) are class 1; the \(\Delta(G) = 7\) case was proved in 2001 by Sanders and Zhao; the \(\Delta(G) = 6\) case is still open.%
\begin{paragraphs}{Ramsey Theory.}{p:paragraphs:iUp}%
There is another interesting way we might consider coloring edges, quite different from what we have discussed so far. What if we colored every edge of a graph either red or blue. Can we do so without, say, creating a \emph{monochromatic} \index{monochromatic} triangle (i.e., an all red or all blue triangle)? Certainly for some graphs the answer is yes. Try doing so for \(K_4\). What about \(K_5\)? \(K_6\)? How far can we go?%
\par
The problem above is not too difficult and is a fun exercise. We could extend the question in a variety of ways. What if we had three colors? What if we were trying to avoid other graphs. Suprisingly, very little is known about these questions. For example, we know that you need to go up to \(K_{17}\) in order to force a monochromatic triangle using three colors, but nobody knows how big you need to go with more colors. Similarly, we know that using two colors \(K_{18}\) is the smallest graph that forces a monochromatic copy of \(K_4\), but the best we have to force a monochromatic \(K_{5}\) is a range, somewhere from \(K_{43}\) to \(K_{49}\). If you are interested in these sorts of questions, this area of graph theory is called Ramsey theory. \index{Ramsey theory} Check it out.%
\end{paragraphs}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-coloring}
\begin{divisionexercise}{\hyperlink{p:solution:LdZ-back}{1}}{}{}{p:exercise:dhD}%
What is the smallest number of colors you need to properly color the vertices of \(K_{4,5}\)? That is, find the chromatic number of the graph.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:rli-back}{2}}{}{}{p:exercise:JoM}%
Draw a graph with chromatic number 6 (i.e., which requires 6 colors to properly color the vertices). Could your graph be planar? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Xsr-back}{3}}{}{}{p:exercise:pvV}%
Find the chromatic number of each of the following graphs.%
\begin{sidebyside}{3}{0.0916666666666667}{0.0916666666666667}{0.183333333333333}%
\begin{sbspanel}{0.15}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	    \draw  (-1,1) \v -- (0,2) \v -- (1,1) \v -- (0,0) \v -- (-1,1) -- (0,1) \v -- (1,1);
	  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.15}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	    \draw  (360/7:1) \v -- (2*360/7:1) \v -- (3*360/7:1) \v -- (4*360/7:1) \v -- (5*360/7:1) \v -- (6*360/7:1) \v -- (0:1) \v -- cycle;
	  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.15}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	    \draw (0,0) \v;
	    \foreach \x in {0,...,4}
	    \draw  (0,0) -- (\x*360/5:1) \v -- (\x*360/5+72:1);
	  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\begin{sidebyside}{2}{0.15}{0.15}{0.3}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
	    \foreach \x in {0,...,4}
	    \draw  (\x*72+18:1) \v -- (\x*72+90:1) -- (\x*72-54:1);
	  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.5]
	    \draw  (18:2) -- (90:2) -- (162:2)  -- (234:2) -- (306:2) -- cycle;
	    \draw  (18:1) --  (162:1)  -- (306:1) -- (90:1) -- (234:1) --cycle;
	    \foreach \x in {18, 90, 162, 234, 306}
	    \draw  (\x:1) \v -- (\x:2) \v;
	  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:VDe}%
A group of 10 friends decides to head up to a cabin in the woods (where nothing could possibly go wrong). Unfortunately, a number of these friends have dated each other in the past, and things are still a little awkward. To get to the cabin, they need to divide up into some number of cars, and no two people who dated should be in the same car.%
\begin{enumerate}[label=(\alph*)]
\item{}What is the smallest number of cars you need if all the relationships were strictly heterosexual? Represent an example of such a situation with a graph. What kind of graph do you get?%
\item{}Because a number of these friends dated there are also conflicts between friends of the same gender, listed below. Now what is the smallest number of conflict-free cars they could take to the cabin?%
\begin{sidebyside}{1}{0.05}{0.05}{0}%
\begin{sbspanel}{0.9}%
{\centering%
{\tabularfont%
\begin{tabular}{lllllllllll}
\multicolumn{1}{lA}{Friend}&A&B&C&D&E&F&G&H&I&J\tabularnewline\hrulethin
\multicolumn{1}{lA}{Conflicts}&CFJ&J&AEF&H&CFG&ACEGI&EFI&D&AFG&B
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:DzA-back}{5}}{}{}{p:exercise:BKn}%
What is the smallest number of colors that can be used to color the vertices of a cube so that no two adjacent vertices are colored identically?%
\end{divisionexercise}%
\begin{divisionexercise}{6}{}{}{p:exercise:hRw}%
Prove the chromatic number of any tree is two. Recall, a tree is a connected graph with no cycles.%
\begin{enumerate}[label=(\alph*)]
\item{}Describe a procedure to color the tree below.%
\begin{sidebyside}{1}{0.325}{0.325}{0}%
\begin{sbspanel}{0.35}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.7]
\draw (-1,1) \v -- (-1.5,1.5) \v (-1,1) -- (-.9,2)\v (-1,1) -- (-.2,.5) \v (-1,1) -- (-.5,.2)\v;
\draw (-1,1) -- (1,1) \v -- (.5,1.3) \v (1,1) -- (1,2)\v (1,1) -- (1.5,1.3) \v (1,1) -- (1.5,1)\v;
\draw (1,1) -- (0,0) \v -- (-.2,-1) \v (0,0) -- (.2,-1) \v (0,0) -- (2,0) \v -- (2,1) \v -- (2.5,1.5) \v (2,1) -- (2.4,1.1) \v;
\draw (2,0) -- (2,-1) \v -- (2.4,-.5) \v (2,-1) -- (2.4, -1.4) \v (2,-1) -- (2,-1.7) \v (2,-1) -- (1.6,-1.4) \v (2,-1) -- (1.6,-.6) \v;
\draw (2,0) -- (3,1) \v -- (3,1.5) \v -- (3.5,2)\v (3,1) -- (3,.5) \v -- (3.5, 0) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}The chromatic number of \(C_n\) is two when \(n\) is even. What goes wrong when \(n\) is odd?%
\item{}Prove that your procedure from part (a) always works for any tree.%
\item{}Now, prove using induction that every tree has chromatic number 2.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:jGJ-back}{7}}{}{}{p:exercise:NYF}%
The two problems below can be solved using graph coloring. For each problem, represent the situation with a graph, say whether you should be coloring vertices or edges and why, and use the coloring to solve the problem.%
\begin{enumerate}[label=(\alph*)]
\item{}Your Quidditch league has 5 teams. You will play a tournament next week in which every team will play every other team once. Each team can play at most one match each day, but there is plenty of time in the day for multiple matches. What is the fewest number of days over which the tournament can take place?%
\item{}Ten members of Math Club are driving to a math conference in a neighboring state. However, some of these students have dated in the past, and things are still a little awkward. Each student lists which other students they refuse to share a car with; these conflicts are recored in the table below. What is the fewest number of cars the club needs to make the trip? Do not worry about running out of seats, just avoid the conflicts.%
\begin{sidebyside}{1}{0.1}{0.1}{0}%
\begin{sbspanel}{0.8}%
{\centering%
{\tabularfont%
\begin{tabular}{ccccccccccc}
\multicolumn{1}{lB}{Student:}&A&B&C&D&E&F&G&H&I&J\tabularnewline\hrulemedium
\multicolumn{1}{lB}{Conflicts:}&BEJ&ADG&HJ&BF&AI&DJ&B&CI&EHJ&ACFI
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{8}{}{}{p:exercise:ufO}%
Prove the 6-color theorem: every planar graph has chromatic number 6 or less. Do not assume the 4-color theorem (whose proof is MUCH harder), but you may assume the fact that every planar graph contains a vertex of degree at most 5.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PNS-back}{9}}{}{}{p:exercise:amX}%
Not all graphs are perfect. Give an example of a graph with chromatic number 4 that does not contain a copy of \(K_4\). That is, there should be no 4 vertices all pairwise adjacent.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vVb-back}{10}}{}{}{p:exercise:Gug}%
Find the chromatic number of the graph below and prove you are correct.%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.8]
  \foreach \x in {0,...,4}{
\draw (0,0) \v -- (90+\x*72:1) \v -- (162+\x*72:2) \v -- (90+\x*72:2) -- (162+\x*72:1);
}
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:mBp}%
Prove by induction on vertices that any graph \(G\) which contains at least one vertex of degree less than \(\Delta(G)\) (the maximal degree of all vertices in \(G\)) has chromatic number at most \(\Delta(G)\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:cck-back}{12}}{}{}{p:exercise:SIy}%
You have a set of magnetic alphabet letters (one of each of the 26 letters in the alphabet) that you need to put into boxes. For obvious reasons, you don't want to put two consecutive letters in the same box. What is the fewest number of boxes you need (assuming the boxes are able to hold as many letters as they need to)?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:oqC-back}{13}}{}{}{p:exercise:yPH}%
Suppose you colored edges of a graph either red or blue (not requiring that adjacent edges be colored differently).  What must be true of the graph to guarantee some vertex is incident to three edges of the same color?  Prove your answer.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:UxL-back}{14}}{}{}{p:exercise:eWQ}%
Prove that if you color every edge of \(K_6\) either red or blue, you are guaranteed a monochromatic triangle (that is, an all red or an all blue triangle).%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.5 Euler Paths and Circuits}
\typeout{************************************************}
%
\begin{sectionptx}{Euler Paths and Circuits}{}{Euler Paths and Circuits}{}{}{x:section:sec_paths}
\begin{introduction}{}%
\begin{investigation}{}{p:investigation:jqb}%
An \terminology{Euler path}, in a graph or multigraph, is a walk through the graph which uses every edge exactly once. An \terminology{Euler circuit} is an Euler path which starts and stops at the same vertex. Our goal is to find a quick way to check whether a graph (or multigraph) has an Euler path or circuit.%
\begin{enumerate}
\item{}Which of the graphs below have Euler paths? Which have Euler circuits?%
\begin{sidebyside}{4}{0.0075}{0.0075}{0.015}%
\begin{sbspanel}{0.18}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
    \draw (-1,0) \v -- (1,0)\v -- (1,2) \v -- (-1, 2) \v -- (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
    \draw (-1,2) -- (0,3) \v -- (1,2);
  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.18}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
    \draw (-1,0) \v -- (1,0)\v -- (1,2) \v -- (-1, 2) \v -- (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.36}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
    \draw (-1,0) \v -- (1,0)\v -- (1,2) \v -- (-1, 2) \v -- (-1,0) -- (1,2) (-1,2) -- (1,0) (0,1) \v;
    \draw (-1,0) -- (-2,1) \v -- (-1,2) (1,2) -- (2,1) \v -- (1,0);
  \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.22}[center]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[yscale=.45]
   \draw (-1,-2) \v to [out=120, in=240] (-1,0) \v to [out=120, in=240] (-1,2) \v to [out=300, in=60] (-1,0) to [out=300, in=60] (-1,-2);
    \draw (1,0) \v -- (-1,2) (-1,0) -- (1,0) -- (-1,-2);
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}List the degrees of each vertex of the graphs above. Is there a connection between degrees and the existence of Euler paths and circuits?%
\item{}Is it possible for a graph with a degree 1 vertex to have an Euler circuit? If so, draw one. If not, explain why not. What about an Euler path?%
\item{}What if every vertex of the graph has degree 2. Is there an Euler path? An Euler circuit? Draw some graphs.%
\item{}Below is \emph{part} of a graph. Even though you can only see some of the vertices, can you deduce whether the graph will have an Euler path or circuit?%
\begin{sidebyside}{1}{0.23}{0.23}{0}%
\begin{sbspanel}{0.54}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=0.9]
    \draw (-2,0) \v -- (0,1) \v -- (2,0) \v;
    \draw (-2,0) -- (-2.5, -.5) (-2,0) -- (-2, -.5) (-2,0) -- (-1.5,-.5);
    \draw[dashed] (-2.5, -.5) -- (-3, -1) (-2,-.5) -- (-2,-1) (-1.5,-.5) -- (-1,-1);
      \draw (2,0) -- (2.5, -.5) (2,0) -- (2, -.5) (2,0) -- (1.5,-.5);
    \draw[dashed] (2.5, -.5) -- (3, -1) (2,-.5) -- (2,-1) (1.5,-.5) -- (1,-1);
      \draw (0,1) -- (-.25, 0) (0,1) -- (0, 0) (0,1) -- (.25,0);
    \draw[dashed] (-.25, 0) -- (-.5, -1) (0,0) -- (0,-1) (.25,0) -- (.5,-1);
   \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{investigation}
If we start at a vertex and trace along edges to get to other vertices, we create a \emph{walk} through the graph. More precisely, a \terminology{walk} in a graph is a sequence of vertices such that every vertex in the sequence is adjacent to the vertices before and after it in the sequence. If the walk travels along every edge exactly once, then the walk is called an \terminology{Euler path} (or \terminology{Euler walk}). If, in addition, the starting and ending vertices are the same (so you trace along every edge exactly once and end up where you started), then the walk is called an \terminology{Euler circuit} (or \terminology{Euler tour}). Of course if a graph is not connected, there is no hope of finding such a path or circuit. For the rest of this section, assume all the graphs discussed are connected.%
\par
The bridges of Königsberg problem is really a question about the existence of Euler paths. There will be a route that crosses every bridge exactly once if and only if the graph below has an Euler path:%
\begin{sidebyside}{1}{0.39}{0.39}{0}%
\begin{sbspanel}{0.22}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=1, yscale=.5]
  \draw (-1,-2) \v to [out=120, in=240] (-1,0) \v to [out=120, in=240] (-1,2) \v to [out=300, in=60] (-1,0) to [out=300, in=60] (-1,-2);
  \draw (1,0) \v -- (-1,2) (-1,0) -- (1,0) -- (-1,-2);
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
This graph is small enough that we could actually check every possible walk that does not reuse edges, and in doing so convince ourselves that there is no Euler path (let alone an Euler circuit). On small graphs which do have an Euler path, it is usually not difficult to find one. Our goal is to find a quick way to check whether a graph has an Euler path or circuit, even if the graph is quite large.%
\par
One way to guarantee that a graph does \emph{not} have an Euler circuit is to include a ``spike,'' a vertex of degree 1.%
\begin{sidebyside}{1}{0.385}{0.385}{0}%
\begin{sbspanel}{0.23}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
    \draw (-1,0) \v -- (0,1) \v -- (1,0) \v -- cycle;
    \draw (0,1) -- (1,1) \v node[below right]{\(a\)};
   \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The vertex \(a\) has degree 1, and if you try to make an Euler circuit, you see that you will get stuck at the vertex. It is a dead end. That is, unless you start there. But then there is no way to return, so there is no hope of finding an Euler circuit. There is however an Euler path. It starts at the vertex \(a\), then loops around the triangle. You will end at the vertex of degree 3.%
\par
You run into a similar problem whenever you have a vertex of any odd degree. If you start at such a vertex, you will not be able to end there (after traversing every edge exactly once). After using one edge to leave the starting vertex, you will be left with an even number of edges emanating from the vertex. Half of these could be used for returning to the vertex, the other half for leaving. So you return, then leave. Return, then leave. The only way to use up all the edges is to use the last one by leaving the vertex. On the other hand, if you have a vertex with odd degree that you do not start a path at, then you will eventually get stuck at that vertex. The path will use pairs of edges incident to the vertex to arrive and leave again. Eventually all but one of these edges will be used up, leaving only an edge to arrive by, and none to leave again.%
\par
What all this says is that if a graph has an Euler path and two vertices with odd degree, then the Euler path must start at one of the odd degree vertices and end at the other. In such a situation, every other vertex \emph{must} have an even degree since we need an equal number of edges to get to those vertices as to leave them. How could we have an Euler circuit? The graph could not have any odd degree vertex as an Euler path would have to start there or end there, but not both. Thus for a graph to have an Euler circuit, all vertices must have even degree.%
\par
The converse is also true: if all the vertices of a graph have even degree, then the graph has an Euler circuit, and if there are exactly two vertices with odd degree, the graph has an Euler path. To prove this is a little tricky, but the basic idea is that you will never get stuck because there is an ``outbound'' edge for every ``inbound'' edge at every vertex. If you try to make an Euler path and miss some edges, you will always be able to ``splice in'' a circuit using the edges you previously missed.%
\begin{assemblage}{Euler Paths and Circuits.}{p:assemblage:Gdy}%
%
\begin{itemize}[label=\textbullet]
\item{}A graph has an Euler circuit if and only if the degree of every vertex is even.%
\item{}A graph has an Euler path if and only if there are at most two vertices with odd degree.%
\end{itemize}
%
\end{assemblage}
Since the bridges of Königsberg graph has all four vertices with odd degree, there is no Euler path through the graph. Thus there is no way for the townspeople to cross every bridge exactly once.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Hamilton Paths}
\typeout{************************************************}
%
\begin{subsectionptx}{Hamilton Paths}{}{Hamilton Paths}{}{}{p:subsection:ZWp}
Suppose you wanted to tour Königsberg in such a way that you visit each land mass (the two islands and both banks) exactly once. This can be done. In graph theory terms, we are asking whether there is a path which visits every vertex exactly once. Such a path is called a \terminology{Hamilton path} (or \terminology{Hamiltonian path}). \index{Hamilton path} We could also consider \terminology{Hamilton cycles}, which are Hamliton paths which start and stop at the same vertex.%
\begin{example}{}{p:example:mkH}%
Determine whether the graphs below have a Hamilton path.%
\begin{sidebyside}{2}{0.15}{0.15}{0.3}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.5]
\draw  (18:2) -- (90:2) -- (162:2)  -- (234:2) -- (306:2) -- cycle;
\draw  (18:1) --  (162:1)  -- (306:1) -- (90:1) -- (234:1) --cycle;
\foreach \x in {18, 90, 162, 234, 306}
\draw  (\x:1) \v -- (\x:2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}{scale=.5}
\draw  (18:1) -- (90:1) -- (162:1)  -- (234:1) -- (306:1) -- cycle;
\draw  (18:1) --  (162:1)  -- (306:1) -- (90:1) -- (234:1) --cycle;
\foreach \x in {18, 90, 162, 234, 306}
\draw  (\x:1) \v -- (\x:2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Pxk}{}~~%
The graph on the left has a Hamilton path (many different ones, actually), as shown here:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.5]
\draw[very thick, ->-] (90:2) -- (90:1) (90:1) -- (234:1) (234:1)  -- (234:2) -- (162:2) -- (162:1) -- (18:1) -- (18:2) -- (306:2) -- (306:1);
\draw  (18:2) -- (90:2) -- (162:2)  -- (234:2) -- (306:2) -- cycle;
\draw  (18:1) --  (162:1)  -- (306:1) -- (90:1) -- (234:1) --cycle;
\foreach \x in {18, 90, 162, 234, 306}
\draw  (\x:1) \v -- (\x:2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The graph on the right does not have a Hamilton path. You would need to visit each of the ``outside'' vertices, but as soon as you visit one, you get stuck. Note that this graph does not have an Euler path, although there are graphs with Euler paths but no Hamilton paths.%
\end{example}
It appears that finding Hamilton paths would be easier because graphs often have more edges than vertices, so there are fewer requirements to be met. However, nobody knows whether this is true. There is no known simple test for whether a graph has a Hamilton path. For small graphs this is not a problem, but as the size of the graph grows, it gets harder and harder to check wither there is a Hamilton path. In fact, this is an example of a question which as far as we know is too difficult for computers to solve; it is an example of a problem which is NP-complete. \index{NP-complete}%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-paths}
\begin{divisionexercise}{\hyperlink{p:solution:jet-back}{1}}{}{}{p:exercise:Nwp}%
You and your friends want to tour the southwest by car. You will visit the nine states below, with the following rather odd rule: you must cross each border between neighboring states exactly once (so, for example, you must cross the Colorado-Utah border exactly once). Can you do it? If so, does it matter where you start your road trip? What fact about graph theory solves this problem?%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[scale=.25]
\USA[every state={draw=white, line width = .7pt, fill=black!10}, CA={fill=gray}, NV={fill=gray},NM={fill=gray},AZ={fill=gray},UT={fill=gray},CO={fill=gray},TX={fill=gray},KS={fill=gray},OK={fill=gray}];
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:PlC-back}{2}}{}{}{p:exercise:tDy}%
Which of the following graphs contain an Euler path? Which contain an Euler circuit?%
\begin{multicols}{6}
\begin{enumerate}[label=(\alph*)]
\item{}\(\displaystyle K_4\)%
\item{}\(K_5\).%
\item{}\(\displaystyle K_{5,7}\)%
\item{}\(\displaystyle K_{2,7}\)%
\item{}\(\displaystyle C_7\)%
\item{}\(\displaystyle P_7\)%
\end{enumerate}
\end{multicols}
%
\end{divisionexercise}%
\begin{divisionexercise}{3}{}{}{p:exercise:ZKH}%
Edward A. Mouse has just finished his brand new house. The floor plan is shown below:%
\begin{sidebyside}{1}{0.26}{0.26}{0}%
\begin{sbspanel}{0.48}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.8]
\draw[very thick] (-3,0) rectangle (3,3);
\draw[very thick] (-3,1.8) --(-2.7,1.8) (-2.3,1.8) -- (-1.5, 1.8) (-1.5, 1.6) -- (-1,1.6) (-.6, 1.6) -- (.3,1.6) (.7,1.6) -- (1, 1.6) (1, .8) -- (1.5, .8) (1.9,.8) -- (3,.8);
\draw[very thick] (-1.5,0) -- (-1.5, .8) (-1.5, 1.2) -- (-1.5,2.1) (-1.5,2.5) -- (-1.5,3);
\draw[very thick] (0,0) -- (0,.6) (0,1) -- (0,1.6);
\draw[very thick] (1,0) -- (1,.2) (1,.6) -- (1,1) (1,1.4) -- (1,2.1) (1,2.5) -- (1,3);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Edward wants to give a tour of his new pad to a lady-mouse-friend. Is it possible for them to walk through every doorway exactly once? If so, in which rooms must they begin and end the tour? Explain.%
\item{}Is it possible to tour the house visiting each room exactly once (not necessarily using every doorway)? Explain.%
\item{}After a few mouse-years, Edward decides to remodel. He would like to add some new doors between the rooms he has. Of course, he cannot add any doors to the exterior of the house. Is it possible for each room to have an odd number of doors? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:FRQ}%
For which \(n\) does the graph \(K_n\) contain an Euler circuit? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{5}{}{}{p:exercise:lYZ}%
For which \(m\) and \(n\) does the graph \(K_{m,n}\) contain an Euler path? An Euler circuit? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{6}{}{}{p:exercise:Sgi}%
For which \(n\) does \(K_n\) contain a Hamilton path? A Hamilton cycle? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:vsL-back}{7}}{}{}{p:exercise:ynr}%
For which \(m\) and \(n\) does the graph \(K_{m,n}\) contain a Hamilton path? A Hamilton cycle? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:bzU-back}{8}}{}{}{p:exercise:euA}%
A bridge builder has come to Königsberg and would like to add bridges so that it \emph{is} possible to travel over every bridge exactly once. How many bridges must be built?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:HHd-back}{9}}{}{}{p:exercise:KBJ}%
Below is a graph representing friendships between a group of students (each vertex is a student and each edge is a friendship). Is it possible for the students to sit around a round table in such a way that every student sits between two friends? What does this question have to do with paths?%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}
	\foreach \x in {1,...,9}{
	\coordinate (v\x) at (90-\x*360/9:1.5);
	\draw (v\x) \v;
	}
	\draw (v1) -- (v6) -- (v3) -- (v8) -- (v4) -- (v7) -- (v2) -- (v5) -- (v9) -- (v1);
	\draw (v1) -- (v3) -- (v5) (v4) -- (v5) (v4) -- (v7) -- (v6) -- (v9) (v3) -- (v7) (v9) -- (v3);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:nOm-back}{10}}{}{}{p:exercise:qIS}%
On the table rest 8 dominoes, as shown below. If you were to line them up in a single row, so that any two sides touching had matching numbers, what would the sum of the two end numbers be?%
\begin{sidebyside}{8}{0.0125}{0.0125}{0.025}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \dominoborder
  \draw (0,0) \fourdots (0,1) \twodots;;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \dominoborder
  \draw (0,0) \twodots (0,1) \sixdots;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \threedots (0,1) \onedot;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \sixdots (0,1) \fourdots;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \threedots (0,1) \fivedots;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \threedots (0,1) \fourdots;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \fivedots (0,1) \sixdots;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.1}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
 \dominoborder
  \draw (0,0) \sixdots (0,1) \threedots;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:WQb}%
Is there anything we can say about whether a graph has a Hamilton path based on the degrees of its vertices?%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose a graph has a Hamilton path. What is the maximum number of vertices of degree one the graph can have? Explain why your answer is correct.%
\item{}Find a graph which does not have a Hamilton path even though no vertex has degree one. Explain why your example works.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{12}{}{}{p:exercise:CXk}%
Consider the following graph:%
\begin{sidebyside}{1}{0.36}{0.36}{0}%
\begin{sbspanel}{0.28}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.7]
\foreach \x in {0, 45, ..., 315}
  \draw  (\x:2) \v -- (\x+45:2);
\draw (0,0) \v -- (45:2) (0,0) -- (135:2) (0,0) -- (225:2) (0,0) -- (315:2);
\draw (-1,0) \v -- (90:2) (-1,0) -- (180:2) (-1,0) -- (270:2);
\draw (1,0) \v -- (90:2) (1,0) -- (0:2) (1,0) -- (270:2);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Find a Hamilton path. Can your path be extended to a Hamilton cycle?%
\item{}Is the graph bipartite? If so, how many vertices are in each ``part''?%
\item{}Use your answer to part (b) to prove that the graph has no Hamilton cycle.%
\item{}Suppose you have a bipartite graph \(G\) in which one part has at least two more vertices than the other. Prove that \(G\) does not have a Hamilton path.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.6 Matching in Bipartite Graphs}
\typeout{************************************************}
%
\begin{sectionptx}{Matching in Bipartite Graphs}{}{Matching in Bipartite Graphs}{}{}{x:section:sec_matchings}
\begin{investigation}{}{p:investigation:iGh}%
Given a bipartite graph, a \terminology{matching} is a subset of the edges for which every vertex belongs to exactly one of the edges. Our goal in this activity is to discover some criterion for when a bipartite graph has a matching.%
\par
Does the graph below contain a matching? If so, find one.%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \foreach \x in {0,...,5} {
   \coordinate (a\x) at (\x,0);
   \coordinate (b\x) at (\x,2);
   \draw (a\x) \v (b\x) \v;
   }
  \draw (a0) -- (b0) (a0) -- (b1) (a0) -- (b5);
  \draw (a1) -- (b0) (a1) -- (b3);
  \draw (a2) -- (b1) (a2) -- (b2) (a2) -- (b3);
  \draw (a3) -- (b0) (a3) -- (b5);
  \draw (a4) -- (b2) (a4) -- (b3) (a4) -- (b4) (a4) -- (b5);
  \draw (a5) -- (b4);
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Not all bipartite graphs have matchings. Draw as many fundamentally different examples of bipartite graphs which do NOT have matchings. Your goal is to find all the possible obstructions to a graph having a perfect matching. Write down the \emph{necessary} conditions for a graph to have a matching (that is, fill in the blank: If a graph has a matching, then \fillin{4.545454545454546}). Then ask yourself whether these conditions are sufficient (is it true that if \fillin{4.545454545454546}, then the graph has a matching?).%
\end{investigation}
We conclude with one more example of a graph theory problem to illustrate the variety and vastness of the subject.%
\par
Suppose you have a bipartite graph \(G\). This will consist of two sets of vertices \(A\) and \(B\) with some edges connecting some vertices of \(A\) to some vertices in \(B\) (but of course, no edges between two vertices both in \(A\) or both in \(B\)). A \terminology{matching of \(A\)} \index{matching} is a subset of the edges for which each vertex of \(A\) belongs to exactly one edge of the subset, and no vertex in \(B\) belongs to more than one edge in the subset. In practice we will assume that \(|A| = |B|\) (the two sets have the same number of vertices) so this says that every vertex in the graph belongs to exactly one edge in the matching.\footnote{Note: what we are calling a \emph{matching} is sometimes called a \emph{perfect matching} or \emph{complete matching}. This is because in it interesting to look at non-perfect matchings as well. We will call those \emph{partial} matchings.\label{g:fn:idm23407}}%
\par
Some context might make this easier to understand. Think of the vertices in \(A\) as representing students in a class, and the vertices in \(B\) as representing presentation topics. We put an edge from a vertex \(a \in A\) to a vertex \(b \in B\) if student \(a\) would like to present on topic \(b\). Of course, some students would want to present on more than one topic, so their vertex would have degree greater than 1. As the teacher, you want to assign each student their own unique topic. Thus you want to find a matching of \(A\): you pick some subset of the edges so that each student gets matched up with exactly one topic, and no topic gets matched to two students.\footnote{The standard example for matchings used to be the \emph{marriage problem} in which \(A\) consisted of the men in the town, \(B\) the women, and an edge represented a marriage that was agreeable to both parties. A matching then represented a way for the town elders to marry off everyone in the town, no polygamy allowed. We have chosen a more progressive context for the sake of political correctness.\label{g:fn:idm23420}}%
\par
The question is: when does a bipartite graph contain a matching of \(A\)? To begin to answer this question, consider what could prevent the graph from containing a matching. This will not necessarily tell us a condition when the graph \emph{does} have a matching, but at least it is a start.%
\par
One way \(G\) could not have a matching is if there is a vertex in \(A\) not adjacent to any vertex in \(B\) (so having degree 0). What else? What if two students both like the same one topic, and no others? Then after assigning that one topic to the first student, there is nothing left for the second student to like, so it is very much as if the second student has degree 0. Or what if three students like only two topics between them. Again, after assigning one student a topic, we reduce this down to the previous case of two students liking only one topic. We can continue this way with more and more students. %
\par
It should be clear at this point that if there is every a group of \(n\) students who as a group like \(n-1\) or fewer topics, then no matching is possible. This is true for any value of \(n\), and any group of \(n\) students.%
\par
To make this more graph-theoretic, say you have a set \(S \subseteq A\) of vertices. Define \(N(S)\) \label{g:notation:idm23439} to be the set of all the \terminology{neighbors} \index{neighbors} of vertices in \(S\). That is, \(N(S)\) contains all the vertices (in \(B\)) which are adjacent to at least one of the vertices in \(S\). (In the student\slash{}topic graph, \(N(S)\) is the set of topics liked by the students of \(S\).) Our discussion above can be summarized as follows:%
\begin{assemblage}{Matching Condition.}{p:assemblage:Kdx}%
If a bipartite graph \(G = \{A, B\}\) has a matching of \(A\), then%
\begin{equation*}
|N(S)| \ge |S|
\end{equation*}
for all \(S \subseteq A\).%
\end{assemblage}
Is the converse true? Suppose \(G\) satisfies the matching condition \(|N(S)| \ge |S|\) for all \(S \subseteq A\) (every set of vertices has at least as many neighbors than vertices in the set). Does that mean that there is a matching? Surprisingly, yes. The obvious necessary condition is also sufficient.\footnote{This happens often in graph theory. If you can avoid the obvious counterexamples, you often get what you want.\label{g:fn:idm23465}} This is a theorem first proved by Philip Hall in 1935.\footnote{There is also an infinite version of the theorem which was proved by Marshal Hall, Jr. The name is a coincidence though as the two Halls are not related.\label{g:fn:idm23466}}%
\begin{theorem}{Hall's Marriage Theorem.}{}{p:theorem:qkG}%
\index{Hall's Marriage Theorem}%
Let \(G\) be a bipartite graph with sets \(A\) and \(B\). Then \(G\) has a matching of \(A\) if and only if%
\begin{equation*}
|N(S)| \ge |S|
\end{equation*}
for all \(S \subseteq A\).%
\end{theorem}
There are quite a few different proofs of this theorem \textendash{} a quick internet search will get you started.%
\par
In addition to its application to marriage and student presentation topics, matchings have applications all over the place. We conclude with one such example.%
\begin{example}{}{p:example:WrP}%
Suppose you deal 52 regular playing cards into 13 piles of 4 cards each. Prove that you can always select one card from each pile to get one of each of the 13 card values Ace, 2, 3, \textellipsis{}, 10, Jack, Queen, and King.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ONq}{}~~%
Doing this directly would be difficult, but we can use the matching condition to help. Construct a graph \(G\) with 13 vertices in the set \(A\), each representing one of the 13 card values, and 13 vertices in the set \(B\), each representing one of the 13 piles. Draw an edge between a vertex \(a \in A\) to a vertex \(b \in B\) if a card with value \(a\) is in the pile \(b\). Notice that we are just looking for a matching of \(A\); each value needs to be found in the piles exactly once.%
\par
We will have a matching if the matching condition holds. Given any set of card values (a set \(S \subseteq A\)) we must show that \(|N(S)| \ge |S|\). That is, the number of piles that contain those values is at least the number of different values. But what if it wasn't? Say \(|S| = k\). If \(|N(S)| \lt k\), then we would have fewer than \(4k\) different cards in those piles (since each pile contains 4 cards). But there are \(4k\) cards with the \(k\) different values, so at least one of these cards must be in another pile, a contradiction. Thus the matching condition holds, so there is a matching, as required.%
\end{example}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_gt-matchings}
\begin{divisionexercise}{\hyperlink{p:solution:SBH-back}{1}}{}{}{p:exercise:hKF}%
Find a matching of the bipartite graphs below or explain why no matching exists.%
\begin{sidebyside}{3}{0.0166666666666667}{0.0166666666666667}{0.0333333333333333}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\coordinate (a) at (0,0);
\coordinate (A) at (0,1);
\coordinate (b) at (1,0);
\coordinate (B) at (1,1);
\coordinate (c) at (2,0);
\coordinate (C) at (2,1);
\draw (a) \v -- (B) \v -- (c) \v -- (C) \v -- (a) \v -- (A)\v -- (b) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \coordinate (a) at (0,0);
  \coordinate (A) at (0,1);
  \coordinate (b) at (1,0);
  \coordinate (B) at (1,1);
  \coordinate (c) at (2,0);
  \coordinate (C) at (2,1);
  \coordinate (d) at (3,0);
  \coordinate (D) at (3,1);
  \draw (a) \v -- (A) \v (b) \v -- (B) \v (c) \v -- (C) \v (d) \v (D)\v;
  \draw (a) -- (C) -- (b) -- (D) (A) -- (c) (A) -- (d) -- (C);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.4}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
  \coordinate (a) at (0,0);
  \coordinate (A) at (0,1);
  \coordinate (b) at (1,0);
  \coordinate (B) at (1,1);
  \coordinate (c) at (2,0);
  \coordinate (C) at (2,1);
  \coordinate (d) at (3,0);
  \coordinate (D) at (3,1);
  \coordinate (e) at (4,0);
  \coordinate (E) at (4,1);
  \draw (a) \v (A) \v (b) \v (B) \v (c) \v (C) \v (d) \v (D)\v (e)\v (E) \v;
  \draw (a) -- (A) (a) -- (B) (A) -- (b) (A) -- (c) (b) -- (C) (B) -- (c) -- (D) (c) -- (E) (C) -- (d) -- (E) (D) -- (e) -- (E);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:NRO}%
A bipartite graph that doesn't have a matching might still have a \terminology{partial matching}. By this we mean a set of \emph{edges} for which no vertex belongs to more than one edge (but possibly belongs to none). Every bipartite graph (with at least one edge) has a partial matching, so we can look for the largest partial matching in a graph.%
\par
Your ``friend'' claims that she has found the largest partial matching for the graph below (her matching is in bold). She explains that no other edge can be added, because all the edges not used in her partial matching are connected to matched vertices. Is she correct?%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\foreach \x in {0,...,4} {
 \coordinate (a\x) at (\x,0);
 \coordinate (b\x) at (\x,2);
 \draw (a\x) \v (b\x) \v;
 }
 \draw[line width=2pt] (a0) -- (b0) (a1) -- (b1) (a3) -- (b2) (a4) -- (b4);
 \draw[very thin] (a0) -- (b1) (a1) -- (b2) (a2)--(b0)  (a0)--(b2) (a3) -- (b4) (a4) -- (b3);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{3}{}{}{p:exercise:tYX}%
One way you might check to see whether a partial matching is maximal is to construct an \terminology{alternating path}. This is a sequence of adjacent edges, which alternate between edges in the matching and edges not in the matching (no edge can be used more than once). If an alternating path starts and stops with an edge \emph{not} in the matching, then it is called an \terminology{augmenting path}.%
\begin{enumerate}[label=(\alph*)]
\item{}Find the largest possible alternating path for the partial matching of your friend's graph. Is it an augmenting path? How would this help you find a larger matching?%
\begin{sidebyside}{1}{0.3}{0.3}{0}%
\begin{sbspanel}{0.4}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\foreach \x in {0,...,4} {
 \coordinate (a\x) at (\x,0);
 \coordinate (b\x) at (\x,2);
 \draw (a\x) \v (b\x) \v;
 }
 \draw[line width=2pt] (a0) -- (b0) (a1) -- (b1) (a3) -- (b2) (a4) -- (b4);
 \draw[very thin] (a0) -- (b1) (a1) -- (b2) (a2)--(b0) (a0)--(b2) (a3) -- (b4) (a4) -- (b3);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}Find the largest possible alternating path for the partial matching below. Are there any augmenting paths? Is the partial matching the largest one that exists in the graph?%
\begin{sidebyside}{1}{0.25}{0.25}{0}%
\begin{sbspanel}{0.5}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\foreach \x in {0,...,5} {
 \coordinate (a\x) at (\x,0);
 \coordinate (b\x) at (\x,2);
 \draw (a\x) \v (b\x) \v;
 }
 \draw[line width=2pt] (a0) -- (b1) (a1) -- (b2) (a2) -- (b0) (a3) -- (b4) (a4) -- (b5);
 \draw[very thin] (a0) -- (b2) (a1) -- (b0) (a2)--(b1) (a2) -- (b3) (a2) -- (b4) (a3) -- (b2) (a4) -- (b2) (a4)-- (b3) (a4) -- (b4) (a5) -- (b4) (a5)--(b5);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:agg}%
The two richest families in Westeros have decided to enter into an alliance by marriage. The first family has 10 sons, the second has 10 girls. The ages of the kids in the two families match up. To avoid impropriety, the families insist that each child must marry someone either their own age, or someone one position younger or older. In fact, the graph representing agreeable marriages looks like this:%
\begin{sidebyside}{1}{0.05}{0.05}{0}%
\begin{sbspanel}{0.9}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}
\foreach \x in {0,...,9} {
 \coordinate (a\x) at (\x,0);
 \coordinate (b\x) at (\x,2);
 \draw (a\x) \v -- (b\x) \v;
 }
\draw (a0) -- (b1) -- (a2) -- (b3) -- (a4) -- (b5) -- (a6) -- (b7) -- (a8) -- (b9);
\draw (b0) -- (a1) -- (b2) -- (a3) -- (b4) -- (a5) -- (b6) -- (a7) -- (b8) -- (a9);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
The question: how many different acceptable marriage arrangements which marry off all 20 children are possible?%
\begin{enumerate}[label=(\alph*)]
\item{}How many marriage arrangements are possible if we insist that there are exactly 6 boys marry girls not their own age?%
\item{}Could you generalize the previous answer to arrive at the total number of marriage arrangements?%
\item{}How do you know you are correct? Try counting in a different way. Look at smaller family sizes and get a sequence.%
\item{}Can you give a recurrence relation that fits the problem?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{5}{}{}{p:exercise:Gnp}%
We say that a set of vertices \(A \subseteq V\) is a \terminology{vertex cover} if every edge of the graph is incident to a vertex in the cover (so a vertex cover covers the \emph{edges}). Since \(V\) itself is a vertex cover, every graph has a vertex cover. The interesting question is about finding a \terminology{minimal} vertex cover, one that uses the fewest possible number of vertices.%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose you had a matching of a graph. How can you use that to get a minimal vertex cover? Will your method always work?%
\item{}Suppose you had a minimal vertex cover for a graph. How can you use that to get a partial matching? Will your method always work?%
\item{}What is the relationship between the size of the minimal vertex cover and the size of the maximal partial matching in a graph?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{6}{}{}{p:exercise:muy}%
For many applications of matchings, it makes sense to use bipartite graphs. You might wonder, however, whether there is a way to find matchings in graphs in general.%
\begin{enumerate}[label=(\alph*)]
\item{}For which \(n\) does the complete graph \(K_n\) have a matching?%
\item{}Prove that if a graph has a matching, then \(\card{V}\) is even.%
\item{}Is the converse true? That is, do all graphs with \(\card{V}\) even have a matching?%
\item{}What if we also require the matching condition? Prove or disprove: If a graph with an even number of vertices satisfies \(\card{N(S)} \ge \card{S}\) for all \(S \subseteq V\), then the graph has a matching.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 4.7 Chapter Summary}
\typeout{************************************************}
%
\begin{sectionptx}{Chapter Summary}{}{Chapter Summary}{}{}{x:section:sec_gt-conc}
Hopefully this chapter has given you some sense for the wide variety of graph theory topics as well as why these studies are interesting. There are many more interesting areas to consider and the list is increasing all the time; graph theory is an active area of mathematical research.%
\par
One reason graph theory is such a rich area of study is that it deals with such a fundamental concept: any pair of objects can either be related or not related. What the objects are and what ``related'' means varies on context, and this leads to many applications of graph theory to science and other areas of math. The objects can be countries, and two countries can be related if they share a border. The objects could be land masses which are related if there is a bridge between them. The objects could be websites which are related if there is a link from one to the other. Or we can be completely abstract: the objects are vertices which are related if their is an edge between them.%
\par
What question we ask about the graph depends on the application, but often leads to deeper, general and abstract questions worth studying in their own right. Here is a short summary of the types of questions we have considered:%
\begin{itemize}[label=\textbullet]
\item{}Can the graph be drawn in the plane without edges crossing? If so, how many regions does this drawing divide the plane into?%
\item{}Is it possible to color the vertices of the graph so that related vertices have different colors using a small number of colors? How many colors are needed?%
\item{}Is it possible to trace over every edge of a graph exactly once without lifting up your pencil? What other sorts of ``paths'' might a graph posses?%
\item{}Can you find subgraphs with certain properties? For example, when does a (bipartite) graph contain a subgraph in which all vertices are only related to one other vertex?%
\end{itemize}
%
\par
Not surprisingly, these questions are often related to each other. For example, the chromatic number of a graph cannot be greater than 4 when the graph is planar. Whether the graph has an Euler path depends on how many vertices each vertex is adjacent to (and whether those numbers are always even or not). Even the existence of matchings in bipartite graphs can be proved using paths.%
%
%
\typeout{************************************************}
\typeout{Exercises  Chapter Review}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Chapter Review}{}{Chapter Review}{}{}{x:exercises:exercises_gt-conc}
\begin{divisionexercise}{\hyperlink{p:solution:cqF-back}{1}}{}{}{p:exercise:RhG}%
Which (if any) of the graphs below are the same? Which are different? Explain.%
\begin{sidebyside}{3}{0.04}{0.04}{0.08}%
\begin{sbspanel}{0.28}[bottom]%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[yscale=.7]
  \draw (-2,0) \v -- (0,0) \v -- (2,0) \v -- (-1,2) \v -- (1,2) \v -- (0,0) -- (-1,2) (1,2) -- (-2,0);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.28}[bottom]%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[yscale=.7]
  \draw (-2,0) \v -- (0,0) \v -- (2,0) \v -- (0,1) \v -- (-2,0) -- (0,2) \v -- (2,0) (0,2) -- (0,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
            \begin{tikzpicture}[yscale=1]
  \draw (-1, 0) \v -- (-1,1) \v -- (0,1) \v -- (1,1) \v -- (1,0) \v -- (0,1) -- (-1,0);
  \draw (-1,1) to [out=60, in=120] (1,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:IxO-back}{2}}{}{}{p:exercise:xoP}%
Which of the graphs in the previous question contain Euler paths or circuits? Which of the graphs are planar?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:oEX-back}{3}}{}{}{p:exercise:dvY}%
Draw a graph which has an Euler circuit but is not planar.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:UMg-back}{4}}{}{}{p:exercise:JDh}%
Draw a graph which does not have an Euler path and is also not planar.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ATp-back}{5}}{}{}{p:exercise:pKq}%
Consider the graph \(G = (V, E)\) with \(V = \{a,b,c,d,e,f,g\}\) and \(E = \{ab, ac, af, bg,
cd, ce\}\) (here we are using the shorthand for edges: \(ab\) really means \(\{a,b\}\), for example).%
\begin{enumerate}[label=(\alph*)]
\item{}Is the graph \(G\) isomorphic to \(G' = (V', E')\) with \(V' = \{t, u, v, w, x, y, z\}\) and \(E' = \{tz, uv,
uy, uz, vw,
vx\}\)? If so, give the isomoprhism. If not, explain how you know.%
\item{}Find a graph \(G''\) with 7 vertices and 6 edges which is NOT isomorphic to \(G\), or explain why this is not possible.%
\item{}Write down the \emph{degree sequence} for \(G\). That is, write down the degrees of all the vertices, in decreasing order.%
\item{}Find a connected graph \(G'''\) with the same degree sequence of \(G\) which is NOT isomorphic to \(G\), or explain why this is not possible.%
\item{}What kind of graph is \(G\)? Is \(G\) complete? Bipartite? A tree? A cycle? A path? A wheel?%
\item{}Is \(G\) planar?%
\item{}What is the chromatic number of \(G\)? Explain.%
\item{}Does \(G\) have an Euler path or circuit? Explain.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:hay-back}{6}}{}{}{p:exercise:VRz}%
If a graph has 10 vertices and 10 edges and contains an Euler circuit, must it be planar? How many faces would it have?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:NhH-back}{7}}{}{}{p:exercise:BYI}%
Suppose \(G\) is a graph with \(n\) vertices, each having degree 5.%
\begin{enumerate}[label=(\alph*)]
\item{}For which values of \(n\) does this make sense?%
\item{}For which values of \(n\) does the graph have an Euler path?%
\item{}What is the smallest value of \(n\) for which the graph might be planar? (tricky)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:toQ-back}{8}}{}{}{p:exercise:ifR}%
At a school dance, 6 girls and 4 boys take turns dancing (as couples) with each other.%
\begin{enumerate}[label=(\alph*)]
\item{}How many couples danced if every girl dances with every boy?%
\item{}How many couples danced if everyone danced with everyone else (regardless of gender)?%
\item{}Explain what graphs can be used to represent these situations.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ZvZ-back}{9}}{}{}{p:exercise:Ona}%
Among a group of \(n\) people, is it possible for everyone to be friends with an odd number of people in the group? If so, what can you say about \(n\)?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:FDi-back}{10}}{}{}{p:exercise:uuj}%
Your friend has challenged you to create a convex polyhedron containing 9 triangles and 6 pentagons.%
\begin{enumerate}[label=(\alph*)]
\item{}Is it possible to build such a polyhedron using \emph{only} these shapes? Explain.%
\item{}You decide to also include one heptagon (seven-sided polygon). How many vertices does your new convex polyhedron contain?%
\item{}Assuming you are successful in building your new 16-faced polyhedron, could every vertex be the joining of the same number of faces? Could each vertex join either 3 or 4 faces? If so, how many of each type of vertex would there be?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:lKr-back}{11}}{}{}{p:exercise:aBs}%
Is there a convex polyhedron which requires 5 colors to properly color the vertices of the polyhedron? Explain.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:RRA-back}{12}}{}{}{p:exercise:GIB}%
How many edges does the graph \(K_{n,n}\) have? For which values of \(n\) does the graph contain an Euler circuit? For which values of \(n\) is the graph planar?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:xYJ-back}{13}}{}{}{p:exercise:mPK}%
The graph \(G\) has 6 vertices with degrees \(1, 2, 2, 3, 3, 5\). How many edges does \(G\) have? If \(G\) was planar how many faces would it have? Does \(G\) have an Euler path?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:efS-back}{14}}{}{}{p:exercise:SWT}%
What is the smallest number of colors you need to properly color the vertices of \(K_{7}\). Can you say whether \(K_7\) is planar based on your answer?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Knb-back}{15}}{}{}{p:exercise:zec}%
What is the smallest number of colors you need to properly color the vertices of \(K_{3,4}\)? Can you say whether \(K_{3,4}\) is planar based on your answer?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:quk-back}{16}}{}{}{p:exercise:fll}%
Prove that \(K_{3,4}\) is not planar. Do this using Euler's formula, not just by appealing to the fact that \(K_{3,3}\) is not planar.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:WBt-back}{17}}{}{}{p:exercise:Lsu}%
A dodecahedron is a regular convex polyhedron made up of 12 regular pentagons.%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose you color each pentagon with one of three colors. Prove that there must be two adjacent pentagons colored identically.%
\item{}What if you use four colors?%
\item{}What if instead of a dodecahedron you colored the faces of a cube?%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:CIC-back}{18}}{}{}{p:exercise:rzD}%
Decide whether the following statements are true or false. Prove your answers.%
\begin{enumerate}[label=(\alph*)]
\item{}If two graph \(G_1\) and \(G_2\) have the same chromatic number, then they are isomorphic.%
\item{}If two graphs \(G_1\) and \(G_2\) have the same number of vertices and edges and have the same chromatic number, then they are isomorphic.%
\item{}If two graphs are isomorphic, then they have the same chromatic number.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:iPL-back}{19}}{}{}{p:exercise:XGM}%
If a planar graph \(G\) with \(7\) vertices divides the plane into 8 regions, how many edges must \(G\) have?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:OWU-back}{20}}{}{}{p:exercise:DNV}%
Consider the graph below:%
\begin{sidebyside}{1}{0.375}{0.375}{0}%
\begin{sbspanel}{0.25}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[scale=.8]
  \draw (0,0) \v -- (-1.5, .5) \v -- (0,1.5) \v -- (1.5,.5) \v -- (0,0) -- (-1,2) \v -- (0,1.5) -- (1,2) \v -- (0,0) -- (0, 1.5);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
%
\begin{enumerate}[label=(\alph*)]
\item{}Does the graph have an Euler path or circuit? Explain.%
\item{}Is the graph planar? Explain.%
\item{}Is the graph bipartite? Complete? Complete bipartite?%
\item{}What is the chromatic number of the graph.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ved-back}{21}}{}{}{p:exercise:jVe}%
For each part below, say whether the statement is true or false. Explain why the true statements are true, and give counterexamples for the false statements.%
\begin{enumerate}[label=(\alph*)]
\item{}Every bipartite graph is planar.%
\item{}Every bipartite graph has chromatic number 2.%
\item{}Every bipartite graph has an Euler path.%
\item{}Every vertex of a bipartite graph has even degree.%
\item{}A graph is bipartite if and only if the sum of the degrees of all the vertices is even.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:blm-back}{22}}{}{}{p:exercise:Qcn}%
Consider the statement ``If a graph is planar, then it has an Euler path.''%
\begin{enumerate}[label=(\alph*)]
\item{}Write the converse of the statement.%
\item{}Write the contrapositive of the statement.%
\item{}Write the negation of the statement.%
\item{}Is it possible for the contrapositive to be false? If it was, what would that tell you?%
\item{}Is the original statement true or false? Prove your answer.%
\item{}Is the converse of the statement true or false? Prove your answer.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:Hsv-back}{23}}{}{}{p:exercise:wjw}%
Let \(G\) be a connected graph with \(v\) vertices and \(e\) edges.  Use mathematical induction to prove that if \(G\) contains exactly one cycle (among other edges and vertices), then \(v = e\).%
\par
Note: this is asking you to prove a special case of Euler's formula for planar graphs, so do not use that formula in your proof.%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%
\typeout{************************************************}
\typeout{Chapter 5 Additional Topics}
\typeout{************************************************}
%
\begin{chapterptx}{Additional Topics}{}{Additional Topics}{}{}{x:chapter:ch_additionalTopics}
%
%
\typeout{************************************************}
\typeout{Section 5.1 Generating Functions}
\typeout{************************************************}
%
\begin{sectionptx}{Generating Functions}{}{Generating Functions}{}{}{x:section:sec_addtops-genfun}
\begin{introduction}{}%
There is an extremely powerful tool in discrete mathematics used to manipulate sequences called the generating function. The idea is this: instead of an infinite sequence (for example: \(2, 3, 5, 8, 12, \ldots\)) we look at a single function which encodes the sequence. But not a function which gives the \(n\)th term as output. Instead, a function whose power series (like from calculus) ``displays'' the terms of the sequence. So for example, we would look at the power series \(2 + 3x + 5x^2 + 8x^3 + 12x^4 + \cdots\) which displays the sequence \(2, 3, 5, 8, 12, \ldots\) as coefficients.%
\par
An infinite power series is simply an infinite sum of terms of the form \(c_nx^n\) were \(c_n\) is some constant. So we might write a power series like this:%
\begin{equation*}
\sum_{k=0}^\infty c_k x^k\text{.}
\end{equation*}
or expanded like this%
\begin{equation*}
c_0 + c_1x + c_2x^2 + c_3x^3 + c_4x^4 + c_5x^5 + \cdots\text{.}
\end{equation*}
%
\par
When viewed in the context of generating functions, we call such a power series a \emph{generating series}. The generating series generates the sequence%
\begin{equation*}
c_0, c_1, c_2, c_3, c_4, c_5, \ldots\text{.}
\end{equation*}
%
\par
In other words, the sequence generated by a generating series is simply the sequence of \emph{coefficients} of the infinite polynomial.%
\begin{example}{}{p:example:sIN}%
What sequence is represented by the generating series \(3 + 8x^2 + x^3 + \frac{x^5}{7} + 100x^6 + \cdots\)?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:EXf}{}~~%
We just read off the coefficients of each \(x^n\) term. So \(a_0 = 3\) since the coefficient of \(x^0\) is 3 (\(x^0 = 1\) so this is the constant term). What is \(a_1\)? It is NOT 8, since 8 is the coefficient of \(x^2\), so 8 is the term \(a_2\) of the sequence. To find \(a_1\) we need to look for the coefficient of \(x^1\) which in this case is 0. So \(a_1 = 0\). Continuing, we have \(a_2 = 8\), \(a_3 = 1\), \(a_4 = 0\), and \(a_5 = \frac{1}{7}\). So we have the sequence%
\begin{equation*}
3, 0, 8, 1, \frac{1}{7}, 100, \ldots\text{.}
\end{equation*}
%
\par
Note that when discussing generating functions, we always start our sequence with \(a_0\).%
\end{example}
Now you might very naturally ask why we would do such a thing. One reason is that encoding a sequence with a power series helps us keep track of which term is which in the sequence. For example, if we write the sequence \(1, 3, 4, 6, 9, \ldots, 24, 41,\ldots\) it is impossible to determine which term \(24\) is (even if we agreed that the first term was supposed to be \(a_0\)). However, if we wrote the generating series instead, we would have \(1 + 3x + 4x^2 + 6x^3 + 9x^4 + \cdots + 24 x^{17} + 41 x^{18} + \cdots\). Now it is clear that 24 is the 17th term of the sequence (that is, \(a_{17} = 24\)). Of course to get this benefit we could have displayed our sequence in any number of ways, perhaps \(\fbox{1}_0 \fbox{3}_1 \fbox{4}_2 \fbox{6}_3 \fbox{9}_4 \cdots \fbox{24}_{17}\fbox{41}_{18}\cdots\), but we do not do this. The reason is that the generating series looks like an ordinary power series (although we are interpreting it differently) so we can do things with it that we ordinarily do with power series such as write down what it converges to.%
\par
For example, from calculus we know that the power series \(1 + x + \frac{x^2}{2} + \frac{x^3}{6} + \frac{x^4}{24} + \cdots + \frac{x^n}{n!} + \cdots\) converges to the function \(e^x\). So we can use \(e^x\) as a way of talking about the sequence of coefficients of the power series for \(e^x\). When we write down a nice compact function which has an infinite power series that we view as a generating series, then we call that function a \emph{generating function}. In this example, we would say%
\begin{equation*}
1, 1, \frac{1}{2}, \frac{1}{6}, \frac{1}{24}, \ldots, \frac{1}{n!}, \ldots \mbox{ has generating function }  e^x\text{.}
\end{equation*}
%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Building Generating Functions}
\typeout{************************************************}
%
\begin{subsectionptx}{Building Generating Functions}{}{Building Generating Functions}{}{}{p:subsection:DhS}
The \(e^x\) example is very specific. We have a rather odd sequence, and the only reason we know its generating function is because we happen to know the Taylor series for \(e^x\). Our goal now is to gather some tools to build the generating function of a particular given sequence.%
\par
Let's see what the generating functions are for some very simple sequences. The simplest of all: 1, 1, 1, 1, 1, \textellipsis{}. What does the \emph{generating series} look like? It is simply \(1 + x + x^2 + x^3 + x^4 + \cdots\). Now, can we find a closed formula for this power series? Yes! This particular series is really just a geometric series with common ratio \(x\). So if we use our ``multiply, shift and subtract'' technique from \hyperref[x:section:sec_seq-arithgeom]{Section~\ref{x:section:sec_seq-arithgeom}}, we have%
\begin{align*}
S \amp  = 1 + x + x^2 + x^3 + \cdots\\
\underline{- xS} \amp  \underline{\,\, = ~~~~~~ x + x^2 + x^3 + x^4 + \cdots}\\
(1-x)S \amp  = 1
\end{align*}
%
\par
Therefore we see that%
\begin{equation*}
1 + x + x^2 + x^3 \cdots = \dfrac{1}{1-x}\text{.}
\end{equation*}
%
\par
You might remember from calculus that this is only true on the interval of convergence for the power series, in this case when \(|x| \lt 1\). That is true for us, but we don't care. We are never going to plug anything in for \(x\), so as long as there is some value of \(x\) for which the generating function and generating series agree, we are happy. And in this case we are happy.%
\begin{assemblage}{\(1,1,1,\ldots\).}{p:assemblage:bKC}%
The generating function for \(1,1,1,1,1,1,\ldots\) is \(\dfrac{1}{1-x}\)%
\end{assemblage}
Let's use this basic generating function to find generating functions for more sequences. What if we replace \(x\) by \(-x\). We get%
\begin{equation*}
\frac{1}{1+x} = 1 - x + x^2 - x^3 + \cdots \mbox{ which generates }  1, -1, 1, -1, \ldots\text{.}
\end{equation*}
%
\par
If we replace \(x\) by \(3x\) we get%
\begin{equation*}
\frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots \mbox{ which generates }  1, 3, 9, 27, \ldots\text{.}
\end{equation*}
%
\par
By replacing the \(x\) in \(\frac{1}{1-x}\) we can get generating functions for a variety of sequences, but not all. For example, you cannot plug in anything for \(x\) to get the generating function for \(2,2,2,2, \ldots\). However, we are not lost yet. Notice that each term of \(2, 2, 2, 2, \ldots\) is the result of multiplying the terms of \(1, 1, 1, 1, \ldots\) by the constant 2. So multiply the generating function by 2 as well.%
\begin{equation*}
\frac{2}{1-x} = 2 + 2x + 2x^2 + 2x^3 + \cdots \mbox{ which generates }  2, 2, 2, 2, \ldots\text{.}
\end{equation*}
%
\par
Similarly, to find the generating function for the sequence \(3, 9, 27, 81, \ldots\), we note that this sequence is the result of multiplying each term of \(1, 3, 9, 27, \ldots\) by 3. Since we have the generating function for \(1, 3, 9, 27, \ldots\) we can say%
\begin{equation*}
\frac{3}{1-3x} = 3\cdot 1 + 3\cdot 3x + 3\cdot 9x^2 + 3\cdot 27x^3 + \cdots \mbox{ which generates }  3, 9, 27, 81, \ldots\text{.}
\end{equation*}
%
\par
What about the sequence \(2, 4, 10, 28, 82, \ldots\)? Here the terms are always 1 more than powers of 3. That is, we have added the sequences \(1,1,1,1,\ldots\) and \(1,3,9, 27,\ldots\) term by term. Therefore we can get a generating function by adding the respective generating functions:%
\begin{align*}
2 + 4x + 10x^2 + 28x^3 + \cdots  \amp  = (1 + 1) + (1 + 3)x + (1 + 9)x^2 + (1 + 27)x^3 + \cdots\\
\amp  = 1 + x + x^2 + x^3 + \cdots + 1 + 3x + 9x^2 + 27x^3 + \cdots\\
\amp  = \frac{1}{1-x} + \frac{1}{1-3x}
\end{align*}
%
\par
The fun does not stop there: if we replace \(x\) in our original generating function by \(x^2\) we get%
\begin{equation*}
\frac{1}{1-x^2} = 1 + x^2  + x^4 + x^6\cdots \mbox{ which generates }  1, 0, 1, 0, 1, 0, \ldots\text{.}
\end{equation*}
%
\par
How could we get \(0,1,0,1,0,1,\ldots\)? Start with the previous sequence and \emph{shift} it over by 1. But how do you do this? To see how shifting works, let's first try to get the generating function for the sequence \(0, 1, 3, 9, 27, \ldots\). We know that \(\frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots\). To get the zero out front, we need the generating series to look like \(x + 3x^2 + 9x^3 + 27x^4+ \cdots\) (so there is no constant term). Multiplying by \(x\) has this effect. So the generating function for \(0, 1, 3, 9, 27, \ldots\) is \(\frac{x}{1-3x}\). This will also work to get the generating function for \(0,1,0,1,0,1,\ldots\):%
\begin{equation*}
\frac{x}{1-x^2} = x + x^3 + x^5 + \cdots \mbox{ which generates }  0, 1, 0, 1, 0 , 1 \ldots\text{.}
\end{equation*}
%
\par
What if we add the sequences \(1,0,1,0,1,0,\ldots\) and \(0,1,0,1,0,1,\ldots\) term by term? We should get \(1,1,1,1,1,1\ldots\). What happens when we add the generating functions? It works (try it)!%
\begin{equation*}
\frac{1}{1-x^2} + \frac{x}{1-x^2} = \frac{1}{1-x}\text{.}
\end{equation*}
%
\par
Here's a sneaky one: what happens if you take the \emph{derivative} of \(\frac{1}{1-x}\)? We get \(\frac{1}{(1-x)^2}\). On the other hand, if we differentiate term by term in the power series, we get \((1 + x + x^2 + x^3 + \cdots)' = 1 + 2x + 3x^2 + 4x^3 + \cdots\) which is the generating series for \(1, 2, 3, 4, \ldots\). This says%
\begin{assemblage}{\(1,2,3,\ldots\).}{p:assemblage:HRL}%
The generating function for \(1, 2, 3, 4, 5, \ldots\) is \(\d\frac{1}{(1-x)^2}\).%
\end{assemblage}
Take a second derivative: \(\frac{2}{(1-x)^3} = 2 + 6x + 12x^2 + 20x^3 + \cdots\). So \(\frac{1}{(1-x)^3} = 1 + 3x + 6x^2 + 10x^3 + \cdots\) is a generating function for the triangular numbers, \(1,3,6,10\ldots\) (although here we have \(a_0 = 1\) while \(T_0 = 0\) usually).%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Differencing}
\typeout{************************************************}
%
\begin{subsectionptx}{Differencing}{}{Differencing}{}{}{p:subsection:jpb}
We have seen how to find generating functions from \(\frac{1}{1-x}\) using multiplication (by a constant or by \(x\)), substitution, addition, and differentiation. To use each of these, you must notice a way to transform the sequence \(1,1,1,1,1\ldots\) into your desired sequence. This is not always easy. It is also not really the way we have analyzed sequences. One thing we have considered often is the sequence of differences between terms of a sequence. This will turn out to be helpful in finding generating functions as well. The sequence of differences is often simpler than the original sequence. So if we know a generating function for the differences, we would like to use this to find a generating function for the original sequence.%
\par
For example, consider the sequence \(2, 4, 10, 28, 82, \ldots\). How could we move to the sequence of first differences: \(2, 6, 18, 54,\ldots\)? We want to subtract 2 from the 4, 4 from the 10, 10 from the 28, and so on. So if we subtract (term by term) the sequence \(0, 2, 4, 10, 28,\ldots\) from \(2, 4, 10, 28\ldots\), we will be set. We can get the generating function for \(0,2,4,10,28,\ldots\) from the generating function for \(2,4,10,28\ldots\) by multiplying by \(x\). Use \(A\) to represent the generating function for \(2, 4, 10, 28, 82, \ldots\) Then:%
\begin{align*}
A \amp  = 2 + 4x + 10x^2 +28x^3 + 82x^4 + \cdots\\
\underline{-xA} \amp  \underline{\,\,= 0 + 2x + 4x^2 + 10x^3 + 28 x^4 + 82x^5 + \cdots}\\
(1-x)A \amp  = 2 + 2x + 6x^2 + 18x^3 + 54x^4 + \cdots
\end{align*}
%
\par
While we don't get exactly the sequence of differences, we do get something close. In this particular case, we already know the generating function \(A\) (we found it in the previous section) but most of the time we will use this differencing technique to \emph{find} \(A\): if we have the generating function for the sequence of differences, we can then solve for \(A\).%
\begin{example}{}{p:example:nYU}%
Find a generating function for \(1, 3, 5, 7, 9,\ldots\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:leo}{}~~%
Notice that the sequence of differences is constant. We know how to find the generating function for any constant sequence. So denote the generating function for \(1, 3, 5, 7, 9, \ldots\) by \(A\). We have%
\begin{align*}
A \amp  = 1 + 3x + 5x^2 + 7x^3 + 9x^4 + \cdots\\
\underline{-xA} \amp  \underline{\,\,= 0 + x + 3x^2 +  5x^3 + 7x^4 + 9x^5 + \cdots}\\
(1-x)A \amp  = 1 + 2x + 2x^2 + 2x^3 + 2x^4 + \cdots
\end{align*}
%
\par
We know that \(2x + 2x^2 + 2x^3 + 2x^4 + \cdots = \dfrac{2x}{1-x}\). Thus%
\begin{equation*}
(1-x)A = 1 + \frac{2x}{1-x}\text{.}
\end{equation*}
%
\par
Now solve for \(A\):%
\begin{equation*}
A = \frac{1}{1-x} + \frac{2x}{(1-x)^2} = \frac{1+x}{(1-x)^2}\text{.}
\end{equation*}
%
\par
Does this makes sense? Before we simplified the two fractions into one, we were adding the generating function for the sequence \(1,1,1,1,\ldots\) to the generating function for the sequence \(0, 2, 4, 6, 8, 10, \ldots\) (remember \(\frac{1}{(1-x)^2}\) generates \(1,2,3,4,5, \ldots\), multiplying by \(2x\) shifts it over, putting the zero out front, and doubles each term). If we add these term by term, we get the correct sequence \(1,3,5,7, 9, \ldots\).%
\end{example}
Now that we have a generating function for the odd numbers, we can use that to find the generating function for the squares:%
\begin{example}{}{p:example:Ugd}%
Find the generating function for \(1, 4, 9, 16, \ldots\). Note we take \(1 = a_0\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:Rlx}{}~~%
Again we call the generating function for the sequence \(A\). Using differencing:%
\begin{align*}
A \amp  = 1 + 4x + 9x^2 + 16x^3 + \cdots\\
\underline{- xA} \amp  \underline{\,\, = 0 + x + 4x^2 + 9x^3 + 16x^4 + \cdots}\\
(1-x)A \amp  = 1 + 3x + 5x^2 + 7x^3 + \cdots
\end{align*}
%
\par
Since \(1 + 3x + 5x^2 + 7x^3 + \cdots = \d\frac{1+x}{(1-x)^2}\) we have \(A = \d\frac{1+x}{(1-x)^3}\).%
\end{example}
In each of the examples above, we found the difference between consecutive terms which gave us a sequence of differences for which we knew a generating function. We can generalize this to more complicated relationships between terms of the sequence. For example, if we know that the sequence satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\)? In other words, if we take a term of the sequence and subtract 3 times the previous term and then add 2 times the term before that, we get 0 (since \(a_n - 3a_{n-1} + 2a_{n-2} = 0\)). That will hold for all but the first two terms of the sequence. So after the first two terms, the sequence of results of these calculations would be a sequence of 0's, for which we definitely know a generating function.%
\begin{example}{}{p:example:Anm}%
The sequence \(1, 3, 7, 15, 31, 63, \ldots\) satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\). Find the generating function for the sequence.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:xsG}{}~~%
Call the generating function for the sequence \(A\). We have%
\begin{align*}
A \amp  = 1 + 3x + 7x^2 + 15x^3 + 31x^4 + \cdots + a_nx^n + \cdots\\
-3xA \amp  = 0 - 3x - 9x^2 - 21x^3 - 45x^4 - \cdots - 3a_{n-1}x^n - \cdots\\
\underline{+~~~2x^2A_{~}^{~^{~}}} \amp  \underline{\,\, = 0 + 0x + 2x^2 + 6x^3 + 14x^4 + \cdots + 2a_{n-2}x^n + \cdots}\\
(1-3x+2x^2)A \amp  = 1
\end{align*}
%
\par
We multiplied \(A\) by \(-3x\) which shifts every term over one spot and multiplies them by \(-3\). On the third line, we multiplied \(A\) by \(2x^2\), which shifted every term over two spots and multiplied them by 2. When we add up the corresponding terms, we are taking each term, subtracting 3 times the previous term, and adding 2 times the term before that. This will happen for each term after \(a_1\) because \(a_n - 3a_{n-1} + 2a_{n-2} = 0\). In general, we might have two terms from the beginning of the generating series, although in this case the second term happens to be 0 as well.%
\par
Now we just need to solve for \(A\):%
\begin{equation*}
A = \frac{1}{1 - 3x + 2x^2}\text{.}
\end{equation*}
%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Multiplication and Partial Sums}
\typeout{************************************************}
%
\begin{subsectionptx}{Multiplication and Partial Sums}{}{Multiplication and Partial Sums}{}{}{p:subsection:Pwk}
What happens to the sequences when you multiply two generating functions? Let's see: \(A = a_0 + a_1x + a_2x^2 + \cdots\) and \(B = b_0 + b_1x + b_2x^2 + \cdots\). To multiply \(A\) and \(B\), we need to do a lot of distributing (infinite FOIL?) but keep in mind we will group like terms and only need to write down the first few terms to see the pattern. The constant term is \(a_0b_0\). The coefficient of \(x\) is \(a_0b_1 + a_1b_0\). And so on. We get:%
\begin{equation*}
AB = a_0b_0 + (a_0b_1 + a_1b_0)x + (a_0b_2 + a_1b_1 + a_2b_0)x^2 + (a_0b_3 + a_1b_2 + a_2b_1 + a_3b_0)x^3 + \cdots\text{.}
\end{equation*}
%
\begin{example}{}{p:example:guv}%
``Multiply'' the sequence \(1, 2, 3, 4, \ldots\) by the sequence \(1, 2, 4, 8, 16, \ldots\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:dzP}{}~~%
The new constant term is just \(1 \cdot 1\). The next term will be \(1\cdot 2 + 2 \cdot 1 = 4\). The next term: \(1 \cdot 4 + 2 \cdot 2 + 3 \cdot 1 = 11\). One more: \(1 \cdot 8 + 2 \cdot 4 + 3 \cdot 2 + 4 \cdot 1 = 28\). The resulting sequence is%
\begin{equation*}
1, 4, 11, 28, 57, \ldots\text{.}
\end{equation*}
%
\par
Since the generating function for \(1,2,3,4, \ldots\) is \(\frac{1}{(1-x)^2}\) and the generating function for \(1,2,4,8, 16, \ldots\) is \(\frac{1}{1-2x}\), we have that the generating function for \(1,4, 11, 28, 57, \ldots\) is \(\frac{1}{(1-x)^2(1-2x)}\)%
\end{example}
Consider the special case when you multiply a sequence by \(1, 1, 1, \ldots\). For example, multiply \(1,1,1,\ldots\) by \(1, 2, 3, 4, 5\ldots\). The first term is \(1\cdot 1 = 1\). Then \(1\cdot 2 + 1 \cdot 1 = 3\). Then \(1\cdot 3 + 1\cdot 2 + 1 \cdot 1 = 6\). The next term will be 10. We are getting the triangular numbers. More precisely, we get the sequence of partial sums of \(1,2,3,4,5, \ldots\). In terms of generating functions, we take \(\frac{1}{1-x}\) (generating \(1,1,1,1,1\ldots\)) and multiply it by \(\frac{1}{(1-x)^2}\) (generating \(1,2,3,4,5,\ldots\)) and this give \(\frac{1}{(1-x)^3}\). This should not be a surprise as we found the same generating function for the triangular numbers earlier.%
\par
The point is, if you need to find a generating function for the sum of the first \(n\) terms of a particular sequence, and you know the generating function for \emph{that} sequence, you can multiply it by \(\frac{1}{1-x}\). To go back from the sequence of partial sums to the original sequence, you look at the sequence of differences. When you get the sequence of differences you end up multiplying by \(1-x\), or equivalently, dividing by \(\frac{1}{1-x}\). Multiplying by \(\frac{1}{1-x}\) gives partial sums, dividing by \(\frac{1}{1-x}\) gives differences.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Solving Recurrence Relations with Generating Functions}
\typeout{************************************************}
%
\begin{subsectionptx}{Solving Recurrence Relations with Generating Functions}{}{Solving Recurrence Relations with Generating Functions}{}{}{p:subsection:vDt}
We conclude with an example of one of the many reasons studying generating functions is helpful. We can use generating functions to solve recurrence relations.%
\begin{example}{}{p:example:MBE}%
Solve the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\) with initial conditions \(a_0 = 1\) and \(a_1 = 3\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:JGY}{}~~%
We saw in an example above that this recurrence relation gives the sequence \(1, 3, 7, 15, 31, 63, \ldots\) which has generating function \(\dfrac{1}{1 - 3x + 2x^2}\). We did this by calling the generating function \(A\) and then computing \(A - 3xA + 2x^2A\) which was just 1, since every other term canceled out.%
\par
But how does knowing the generating function help us? First, break up the generating function into two simpler ones. For this, we can use partial fraction decomposition. Start by factoring the denominator:%
\begin{equation*}
\frac{1}{1-3x + 2x^2} = \frac{1}{(1-x)(1-2x)}\text{.}
\end{equation*}
%
\par
Partial fraction decomposition tells us that we can write this faction as the sum of two fractions (we decompose the given fraction):%
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{a}{1-x} + \frac{b}{1-2x} \text{ ~~ for some constants } a \text{ and } b\text{.}
\end{equation*}
%
\par
To find \(a\) and \(b\) we add the two decomposed fractions using a common denominator. This gives%
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{a(1-2x) + b(1-x)}{(1-x)(1-2x)}\text{.}
\end{equation*}
so%
\begin{equation*}
1 = a(1-2x) + b(1-x)\text{.}
\end{equation*}
%
\par
This must be true for all values of \(x\). If \(x = 1\), then the equation becomes \(1 = -a\) so \(a = -1\). When \(x = \frac{1}{2}\) we get \(1 = b/2\) so \(b = 2\). This tells us that we can decompose the fraction like this:%
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{-1}{1-x} + \frac{2}{1-2x}\text{.}
\end{equation*}
%
\par
This completes the partial fraction decomposition. Notice that these two fractions are generating functions we know. In fact, we should be able to expand each of them.%
\begin{equation*}
\frac{-1}{1-x} = -1 - x - x^2 -x^3 - x^4 - \cdots \mbox{ which generates }  -1, -1, -1, -1, -1, \ldots\text{.}
\end{equation*}
%
\begin{equation*}
\frac{2}{1-2x} = 2 + 4x + 8x^2 + 16x^3 + 32x^4 + \cdots \mbox{ which generates }  2, 4, 8, 16, 32, \ldots\text{.}
\end{equation*}
%
\par
We can give a closed formula for the \(n\)th term of each of these sequences. The first is just \(a_n = -1\). The second is \(a_n = 2^{n+1}\). The sequence we are interested in is just the sum of these, so the solution to the recurrence relation is%
\begin{equation*}
a_n = 2^{n+1} - 1\text{.}
\end{equation*}
%
\end{example}
We can now add generating functions to our list of methods for solving recurrence relations.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_addtops-genfun}
\begin{divisionexercise}{\hyperlink{p:solution:gLd-back}{1}}{}{}{p:exercise:Gtg}%
Find the generating function for each of the following sequences by relating them back to a sequence with known generating function.%
\begin{enumerate}[label=(\alph*)]
\item{}\(4,4,4,4,4,\ldots\).%
\item{}\(2, 4, 6, 8, 10, \ldots\).%
\item{}\(0,0,0,2,4,6,8,10,\ldots\).%
\item{}\(1, 5, 25, 125, \ldots\).%
\item{}\(1, -3, 9, -27, 81, \ldots\).%
\item{}\(1, 0, 5, 0, 25, 0, 125, 0, \ldots\).%
\item{}\(0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, \ldots\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:MSm-back}{2}}{}{}{p:exercise:mAp}%
Find the sequence generated by the following generating functions:%
\begin{enumerate}[label=(\alph*)]
\item{}\(\dfrac{4x}{1-x}\).%
\item{}\(\dfrac{1}{1-4x}\).%
\item{}\(\dfrac{x}{1+x}\).%
\item{}\(\dfrac{3x}{(1+x)^2}\).%
\item{}\(\dfrac{1+x+x^2}{(1-x)^2}\) (Hint: multiplication).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{3}{}{}{p:exercise:SHy}%
Show how you can get the generating function for the triangular numbers in three different ways:%
\begin{enumerate}[label=(\alph*)]
\item{}Take two derivatives of the generating function for \(1,1,1,1,1, \ldots\)%
\item{}Use differencing.%
\item{}Multiply two known generating functions.%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:sZv-back}{4}}{}{}{p:exercise:yOH}%
Use differencing to find the generating function for \(4, 5, 7, 10, 14, 19, 25, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:ZgE-back}{5}}{}{}{p:exercise:eVQ}%
Find a generating function for the sequence with recurrence relation \(a_n = 3a_{n-1} - a_{n-2}\) with initial terms \(a_0 = 1\) and \(a_1 = 5\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:FnN-back}{6}}{}{}{p:exercise:LcZ}%
Use the recurrence relation for the Fibonacci numbers to find the generating function for the Fibonacci sequence.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:luW-back}{7}}{}{}{p:exercise:rki}%
Use multiplication to find the generating function for the sequence of partial sums of Fibonacci numbers, \(S_0, S_1, S_2, \ldots\) where \(S_0 = F_0\), \(S_1 = F_0 + F_1\), \(S_2 = F_0 + F_1 + F_2\), \(S_3 = F_0 + F_1 + F_2 + F_3\) and so on.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:RCf-back}{8}}{}{}{p:exercise:Xrr}%
Find the generating function for the sequence with closed formula \(a_n = 2(5^n) + 7(-3)^n\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:xJo-back}{9}}{}{}{p:exercise:DyA}%
Find a closed formula for the \(n\)th term of the sequence with generating function \(\dfrac{3x}{1-4x} + \dfrac{1}{1-x}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:dQx-back}{10}}{}{}{p:exercise:jFJ}%
Find \(a_7\) for the sequence with generating function \(\dfrac{2}{(1-x)^2}\cdot\dfrac{x}{1-x-x^2}\).%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:vUb}%
Explain how we know that \(\dfrac{1}{(1-x)^2}\) is the generating function for \(1, 2, 3, 4, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:JXG-back}{12}}{}{}{p:exercise:cbk}%
Starting with the generating function for \(1,2,3,4, \ldots\), find a generating function for each of the following sequences.%
\begin{enumerate}[label=(\alph*)]
\item{}\(1, 0, 2, 0, 3, 0, 4,\ldots\).%
\item{}\(1, -2, 3, -4, 5, -6, \ldots\).%
\item{}\(0, 3, 6, 9, 12, 15, 18, \ldots\).%
\item{}\(0, 3, 9, 18, 30, 45, 63,\ldots\). (Hint: relate this sequence to the previous one.)%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:qeP-back}{13}}{}{}{p:exercise:Iit}%
You may assume that \(1, 1, 2, 3, 5, 8,\ldots\) has generating function \(\dfrac{1}{1-x-x^2}\) (because it does). Use this fact to find the sequence generated by each of the following generating functions.%
\begin{enumerate}[label=(\alph*)]
\item{}\(\frac{x^2}{1-x-x^2}\).%
\item{}\(\frac{1}{1-x^2-x^4}\).%
\item{}\(\frac{1}{1-3x-9x^2}\).%
\item{}\(\frac{1}{(1-x-x^2)(1-x)}\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{14}{}{}{p:exercise:opC}%
Find the generating function for the sequence \(1, -2, 4, -8, 16, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:WlY-back}{15}}{}{}{p:exercise:UwL}%
Find the generating function for the sequence \(1, 1, 1, 2, 3, 4, 5, 6, \ldots\).%
\end{divisionexercise}%
\begin{divisionexercise}{16}{}{}{p:exercise:ADU}%
Suppose \(A\) is the generating function for the sequence \(3, 5, 9, 15, 23, 33, \ldots\).%
\begin{enumerate}[label=(\alph*)]
\item{}Find a generating function (in terms of \(A\)) for the sequence of differences between terms.%
\item{}Write the sequence of differences between terms and find a generating function for it (without referencing \(A\)).%
\item{}Use your answers to parts (a) and (b) to find the generating function for the original sequence.%
\end{enumerate}
%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
%
%
\typeout{************************************************}
\typeout{Section 5.2 Introduction to Number Theory}
\typeout{************************************************}
%
\begin{sectionptx}{Introduction to Number Theory}{}{Introduction to Number Theory}{}{}{x:section:sec_addtops-numbth}
\begin{introduction}{}%
We have used the natural numbers to solve problems. This was the right set of numbers to work with in discrete mathematics because we always dealt with a whole number of things. The natural numbers have been a tool. Let's take a moment now to inspect that tool. What mathematical discoveries can we make \emph{about} the natural numbers themselves?%
\par
This is the main question of number theory: a huge, ancient, complex, and above all, beautiful branch of mathematics. Historically, number theory was known as the Queen of Mathematics and was very much a branch of \emph{pure} mathematics, studied for its own sake instead of as a means to understanding real world applications. This has changed in recent years however, as applications of number theory have been unearthed. Probably the most well known example of this is RSA cryptography, one of the methods used in encrypt data on the internet. It is number theory that makes this possible.%
\par
What sorts of questions belong to the realm of number theory? Here is a motivating example. Recall in our study of induction, we asked:%
\begin{quote}%
Which amounts of postage can be made exactly using just 5-cent and 8-cent stamps?%
\end{quote}
We were able to prove that \emph{any} amount greater than 27 cents could be made. You might wonder what would happen if we changed the denomination of the stamps. What if we instead had 4- and 9-cent stamps? Would there be some amount after which all amounts would be possible? Well, again, we could replace two 4-cent stamps with a 9-cent stamp, or three 9-cent stamps with seven 4-cent stamps. In each case we can create one more cent of postage. Using this as the inductive case would allow us to prove that any amount of postage greater than 23 cents can be made.%
\par
What if we had 2-cent and 4-cent stamps. Here it looks less promising. If we take some number of 2-cent stamps and some number of 4-cent stamps, what can we say about the total? Could it ever be odd? Doesn't look like it.%
\par
\emph{Why} does 5 and 8 work, 4 and 9 work, but 2 and 4 not work? What is it about these numbers? If I gave you a pair of numbers, could you tell me right away if they would work or not? We will answer these questions, and more, after first investigating some simpler properties of numbers themselves.%
\end{introduction}%
%
%
\typeout{************************************************}
\typeout{Subsection  Divisibility}
\typeout{************************************************}
%
\begin{subsectionptx}{Divisibility}{}{Divisibility}{}{}{p:subsection:CqU}
It is easy to add and multiply natural numbers. If we extend our focus to all integers, then subtraction is also easy (we need the negative numbers so we can subtract any number from any other number, even larger from smaller). Division is the first operation that presents a challenge. If we wanted to extend our set of numbers so any division would be possible (maybe excluding division by 0) we would need to look at the rational numbers (the set of all numbers which can be written as fractions). This would be going too far, so we will refuse this option.%
\par
In fact, it is a good thing that not every number can be divided by other numbers. This helps us understand the structure of the natural numbers and opens the door to many interesting questions and applications.%
\par
If given numbers \(a\) and \(b\), it is possible that \(a \div b\) gives a whole number. In this case, we say that \(b\) \emph{divides} \index{divides} \(a\), in symbols, we write \(b \mid a\). If this holds, then \(b\) is a divisor or factor of \(a\), and \(a\) is a multiple of \(b\). In other words, if \(b \mid a\), then \(a = bk\) for some integer \(k\) (this is saying \(a\) is some multiple of \(b\)).%
\begin{assemblage}{The Divisibility Relation.}{p:assemblage:HaN}%
\index{divisibility relation} Given integers \(m\) and \(n\), we say ``\(m\) divides \(n\)'' and write%
\begin{equation*}
m \mid n
\end{equation*}
provided \(n \div m\) is an integer. Thus the following assertions mean the same thing:%
\begin{enumerate}
\item{}\(\displaystyle m \mid n\)%
\item{}\(n = mk\) for some integer \(k\)%
\item{}\(m\) is a factor (or divisor) of \(n\)%
\item{}\(n\) is a multiple of \(m\).%
\end{enumerate}
%
\end{assemblage}
Notice that \(m \mid n\) is a statement. It is either true or false. On the other hand, \(n \div m\) or \(n/m\) is some number. If we want to claim that \(n/m\) is not an integer, so \(m\) does not divide \(n\), then we can write \(m \nmid n\).%
\begin{example}{}{p:example:Quz}%
Decide whether each of the statements below are true or false.%
\begin{multicols}{3}
\begin{enumerate}
\item{}\(\displaystyle 4 \mid 20\)%
\item{}\(\displaystyle 20 \mid 4\)%
\item{}\(\displaystyle 0 \mid 5\)%
\item{}\(\displaystyle 5 \mid 0\)%
\item{}\(\displaystyle 7 \mid 7\)%
\item{}\(\displaystyle 1 \mid 37\)%
\item{}\(\displaystyle -3 \mid 12\)%
\item{}\(\displaystyle 8 \mid 12\)%
\item{}\(\displaystyle 1642 \mid 136299\)%
\end{enumerate}
\end{multicols}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:tHc}{}~~%
%
\begin{enumerate}
\item{}True. 4 ``goes into'' 20 five times without remainder. In other words, \(20 \div 4 = 5\), an integer. We could also justify this by saying that \(20\) is a multiple of 4: \(20 = 4\cdot 5\).%
\item{}False. While 20 is a multiple of 4, it is false that \(4\) is a multiple of 20.%
\item{}False. \(5 \div 0\) is not even defined, let alone an integer.%
\item{}True. In fact, \(x \mid 0\) is true for all \(x\). This is because 0 is a multiple of every number: \(0 = x\cdot 0\).%
\item{}True. In fact, \(x \mid x\) is true for all \(x\).%
\item{}True. 1 divides every number (other than 0).%
\item{}True. Negative numbers work just fine for the divisibility relation. Here \(12 = -3 \cdot 4\).	It is also true that \(3 \mid -12\) and that \(-3 \mid -12\).%
\item{}False. Both 8 and 12 are divisible by 4, but this does not mean that \(12\) is divisible by \(8\).%
\item{}False. See below.%
\end{enumerate}
%
\end{example}
This last example raises a question: how might one decide whether \(m \mid n\)? Of course, if you had a trusted calculator, you could ask it for the value of \(n \div m\). If it spits out anything other than an integer, you know \(m \nmid n\). This seems a little like cheating though: we don't have division, so should we really use division to check divisibility?%
\par
While we don't really know how to divide, we do know how to multiply. We might try multiplying \(m\) by larger and larger numbers until we get close to \(n\). How close? Well, we want to be sure that if we multiply \(m\) by the next larger integer, we go over \(n\).%
\par
For example, let's try this to decide whether \(1642 \mid 136299\). Start finding multiples of 1642:%
\begin{equation*}
1642 \cdot 2 = 3284 \qquad 1642 \cdot 3 = 4926 \qquad 1642\cdot 4 = 6568 \qquad \cdots\text{.}
\end{equation*}
%
\par
All of these are well less than 136299. I suppose we can jump ahead a bit:%
\begin{equation*}
1642 \cdot 50 = 82100 \qquad 1642 \cdot 80 = 131360 \qquad 1642 \cdot 85 = 139570\text{.}
\end{equation*}
%
\par
Ah, so we need to look somewhere between 80 and 85. Try 83:%
\begin{equation*}
1642 \cdot 83 = 136286\text{.}
\end{equation*}
%
\par
Is this the best we can do? How far are we from our desired 136299? If we subtract, we get \(136299 - 136286 = 13\). So we know we cannot go up to 84, that will be too much. In other words, we have found that%
\begin{equation*}
136299 = 83 \cdot 1642 + 13\text{.}
\end{equation*}
%
\par
Since \(13 \lt 1642\), we can now safely say that \(1642 \nmid 136299\).%
\par
It turns out that the process we went through above can be repeated for any pair of numbers. We can always write the number \(a\) as some multiple of the number \(b\) plus some remainder. We know this because we know about \emph{division with remainder} from elementary school. This is just a way of saying it using multiplication. Due to the procedural nature that can be used to find the remainder, this fact is usually called the \emph{division algorithm}:%
\begin{assemblage}{The Division Algorithm.}{p:assemblage:nhW}%
\index{Division algorithm} Given any two integers \(a\) and \(b\), we can always find an integer \(q\) such that%
\begin{equation*}
a = qb + r
\end{equation*}
where \(r\) is an integer satisfying \(0 \le r \lt  |b|\)%
\end{assemblage}
The idea is that we can always take a large enough multiple of \(b\) so that the remainder \(r\) is as small as possible. We do allow the possibility of \(r = 0\), in which case we have \(b \mid a\).%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Remainder Classes}
\typeout{************************************************}
%
\begin{subsectionptx}{Remainder Classes}{}{Remainder Classes}{}{}{p:subsection:iyd}
The division algorithm tells us that there are only \(b\) possible remainders when dividing by \(b\). If we fix this divisor, we can group integers by the remainder. Each group is called a \emph{remainder class modulo \(b\)} (or sometimes \emph{residue class}).%
\begin{example}{}{p:example:wBI}%
Describe the remainder classes modulo \(5\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:ZOl}{}~~%
We want to classify numbers by what their remainder would be when divided by \(5\). From the division algorithm, we know there will be exactly 5 remainder classes, because there are only 5 choices for what \(r\) could be (\(0 \le r \lt 5\)).%
\par
First consider \(r = 0\). Here we are looking for all the numbers divisible by \(5\) since \(a = 5q+0\). In other words, the multiples of 5. We get the infinite set%
\begin{equation*}
\{\ldots, -15, -10, -5, 0, 5, 10, 15, 20, \ldots\}\text{.}
\end{equation*}
%
\par
Notice we also include negative integers.%
\par
Next consider \(r = 1\). Which integers, when divided by 5, have remainder 1? Well, certainly 1, does, as does 6, and 11. Negatives? Here we must be careful: \(-6\) does NOT have remainder 1. We can write \(-6 = -2\cdot 5 + 4\) or \(-6 = -1 \cdot 5 - 1\), but only one of these is a ``correct'' instance of the division algorithm: \(r = 4\) since we need \(r\) to be non-negative. So in fact, to get \(r = 1\), we would have \(-4\), or \(-9\), etc. Thus we get the remainder class%
\begin{equation*}
\{\ldots, -14, -9, -4, 1, 6, 11, 16, 21, \ldots\}\text{.}
\end{equation*}
%
\par
There are three more to go. The remainder classes for \(2\), \(3\), and \(4\) are, respectively%
\begin{equation*}
\{\ldots, -13, -8, -3, 2, 7, 12, 17, 22,\ldots\}
\end{equation*}
%
\begin{equation*}
\{\ldots, -12, -7, -2, 3, 8, 13, 18, 23, \ldots\}
\end{equation*}
%
\begin{equation*}
\{\ldots, -11, -6, -1, 4, 9, 14, 19, 24, \ldots\}\text{.}
\end{equation*}
%
\end{example}
Note that in the example above, \emph{every} integer is in exactly one remainder class. The technical way to say this is that the remainder classes modulo \(b\) form a \emph{partition} of the integers.\footnote{It is possible to develop a mathematical theory of partitions, prove statements about all partitions in general and then apply those observations to our case here.\label{g:fn:idm24829}} The most important fact about partitions, is that it is possible to define an \emph{equivalence relation} from a partition: this is a relationship between pairs of numbers which acts in all the important ways like the ``equals'' relationship.\footnote{Again, there is a mathematical theory of equivalence relations which applies in many more instances than the one we look at here.\label{g:fn:idm24832}}%
\par
All fun technical language aside, the idea is really simple. If two numbers belong to the same remainder class, then in some way, they are the same. That is, they are the same \emph{up to division by \(b\)}. In the case where \(b = 5\) above, the numbers \(8\) and \(23\), while not the same number, are the same when it comes to dividing by 5, because both have remainder \(3\).%
\par
It matters what the divisor is: \(8\) and \(23\) are the same up to division by \(5\), but not up to division by \(7\), since \(8\) has remainder of 1 when divided by 7 while 23 has a remainder of 2.%
\par
With all this in mind, let's introduce some notation. We want to say that \(8\) and 23 are basically the same, even though they are not equal. It would be wrong to say \(8 = 23\). Instead, we write \(8 \equiv 23\). But this is not always true. It works if we are thinking division by 5, so we need to denote that somehow. What we will actually write is this:%
\begin{equation*}
8 \equiv 23 \pmod{5}
\end{equation*}
which is read, ``8 is congruent to 23 modulo 5'' (or just ``mod 5''). \index{mod} Of course then we could observe that%
\begin{equation*}
8 \not\equiv 23 \pmod{7}\text{.}
\end{equation*}
%
\begin{assemblage}{Congruence Modulo \(n\).}{p:assemblage:Tpf}%
We say \terminology{\(a\) is congruent to \(b\) modulo \(n\)}, \index{congruence}\index{modulo \(n\)} and write,%
\begin{equation*}
a \equiv b \pmod{n}
\end{equation*}
provided \(a\) and \(b\) have the same remainder when divided by \(n\). In other words, provided \(a\) and \(b\) belong to the same remainder class modulo \(n\).%
\end{assemblage}
Many books define congruence modulo \(n\) slightly differently. They say that \(a \equiv b \pmod{n}\) if and only if \(n \mid a-b\). In other words, two numbers are congruent modulo \(n\), if their difference is a multiple of \(n\). So which definition is correct? Turns out, it doesn't matter: they are equivalent.%
\par
To see why, consider two numbers \(a\) and \(b\) which are congruent modulo \(n\). Then \(a\) and \(b\) have the same remainder when divided by \(n\). We have%
\begin{equation*}
a = q_1 n + r \qquad\qquad b = q_2 n + r\text{.}
\end{equation*}
%
\par
Here the two \(r\)'s really are the same. Consider what we get when we take the difference of \(a\) and \(b\):%
\begin{equation*}
a-b = q_1n + r - (q_2n + r) = q_1n - q_2 n = (q_1-q_2)n\text{.}
\end{equation*}
%
\par
So \(a-b\) is a multiple of \(n\), or equivalently, \(n \mid a-b\).%
\par
On the other hand, if we assume first that \(n \mid a-b\), so \(a-b = kn\), then consider what happens if we divide each term by \(n\). Dividing \(a\) by \(n\) will leave some remainder, as will dividing \(b\) by \(n\). However, dividing \(kn\) by \(n\) will leave 0 remainder. So the remainders on the left-hand side must cancel out. That is, the remainders must be the same.%
\par
Thus we have:%
\begin{assemblage}{Congruence and Divisibility.}{p:assemblage:zwo}%
For any integers \(a\), \(b\), and \(n\), we have%
\begin{equation*}
a \equiv b \pmod{n} \qquad \mbox{ if and only if }  \qquad n \mid a-b\text{.}
\end{equation*}
%
\end{assemblage}
It will also be useful to switch back and forth between congruences and regular equations. The above fact helps with this. We know that \(a \equiv b \pmod{n}\) if and only if \(n \mid a-b\), if and only if \(a-b = kn\) for some integer \(k\). Rearranging that equation, we get \(a = b + kn\). In other words, if \(a\) and \(b\) are congruent modulo \(n\), then \(a\) is \(b\) more than some multiple of \(n\). This conforms with our earlier observation that all the numbers in a particular remainder class are the same amount larger than the multiples of \(n\).%
\begin{assemblage}{Congruence and Equality.}{p:assemblage:fDx}%
For any integers \(a\), \(b\), and \(n\), we have%
\begin{equation*}
a \equiv b \pmod{n} \qquad \mbox{ if and only if }  \qquad a = b + kn \mbox{ for some integer } k \text{.}
\end{equation*}
%
\end{assemblage}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Properties of Congruence}
\typeout{************************************************}
%
\begin{subsectionptx}{Properties of Congruence}{}{Properties of Congruence}{}{}{p:subsection:OFm}
We said earlier that congruence modulo \(n\) behaves, in many important ways, the same way equality does. Specifically, we could prove that congruence modulo \(n\) is an \emph{equivalence relation}, which would require checking the following three facts:%
\begin{assemblage}{Congruence Modulo \(n\) is an Equivalence Relation.}{p:assemblage:LKG}%
Given any integers \(a\), \(b\), and \(c\), and any positive integer \(n\), the following hold:%
\par
%
\begin{enumerate}
\item{}\(a \equiv a \pmod{n}\).%
\item{}If \(a \equiv b \pmod{n}\) then \(b \equiv a \pmod{n}\).%
\item{}If \(a \equiv b \pmod{n}\) and \(b \equiv c \pmod{n}\), then \(a \equiv c \pmod{n}\).%
\end{enumerate}
%
\par
In other words, congruence modulo \(n\) is reflexive, symmetric, and transitive, so is an equivalence relation.%
\end{assemblage}
You should take a minute to convince yourself that each of the properties above actually hold of congruence. Try explaining each using both the remainder and divisibility definitions.%
\par
Next, consider how congruence behaves when doing basic arithmetic. We already know that if you subtract two congruent numbers, the result will be congruent to 0 (be a multiple of \(n\)). What if we add something congruent to 1 to something congruent to 2? Will we get something congruent to 3?%
\begin{assemblage}{Congruence and Arithmetic.}{p:assemblage:rRP}%
\index{modular arithmetic} Suppose \(a \equiv b \pmod{n}\) and \(c \equiv d \pmod{n}\). Then the following hold:%
\par
%
\begin{enumerate}
\item{}\(a+c \equiv b+d \pmod{n}\).%
\item{}\(a-c \equiv b-d \pmod{n}\).%
\item{}\(ac \equiv bd \pmod{n}\).%
\end{enumerate}
%
\end{assemblage}
The above facts might be written a little strangely, but the idea is simple. If we have a true congruence, and we add the same thing to both sides, the result is still a true congruence. This sounds like we are saying:%
\begin{quote}%
If \(a \equiv b \pmod{n}\) then \(a+c \equiv b+c \pmod{n}\).%
\end{quote}
Of course this is true as well, it is the special case where \(c = d\). But what we have works in more generality. Think of congruence as being ``basically equal.'' If we have two numbers which are basically equal, and we add basically the same thing to both sides, the result will be basically equal.%
\par
This seems reasonable. Is it really true? Let's prove the first fact:%
\begin{proofptx}{}{p:proof:qMw}
Suppose \(a \equiv b \pmod{n}\) and \(c \equiv d \pmod{n}\). That means \(a = b + kn\) and \(c = d + jn\) for integers \(k\) and \(j\). Add these equations:%
\begin{equation*}
a+c = b+d + kn + jn\text{.}
\end{equation*}
%
\par
But \(kn + jn = (k+j)n\), which is just a multiple of \(n\). So \(a+c = b+d + (j+k)n\), or in other words, \(a+c \equiv b+d \pmod{n}\)%
\end{proofptx}
The other two facts can be proved in a similar way. %
\par
One of the important consequences of these facts about congruences, is that we can basically replace any number in a congruence with any other number it is congruent to. Here are some examples to see how (and why) that works:%
\begin{example}{}{p:example:cIR}%
Find the remainder of \(3491\) divided by \(9\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:FVu}{}~~%
We could do long division, but there is another way. We want to find \(x\) such that \(x \equiv 3491 \pmod{9}\). Now \(3491 = 3000 + 400 + 90 + 1\). Of course \(90 \equiv 0 \pmod 9\), so we can replace the 90 in the sum with 0. Why is this okay? We are actually subtracting the ``same'' thing from both sides:%
\begin{equation*}
\begin{aligned}x \amp  \equiv 3000 + 400 + 90 + 1 \pmod 9 \\
- ~~ 0 \amp  \equiv 90 \pmod 9 \\
x \amp  \equiv 3000 + 400 + 0 + 1\pmod 9.
\end{aligned}
\end{equation*}
%
\par
Next, note that \(400 = 4 \cdot 100\), and \(100 \equiv 1 \pmod 9\) (since \(9 \mid 99\)). So we can in fact replace the 400 with simply a 4. Again, we are appealing to our claim that we can replace congruent elements, but we are really appealing to property 3 about the arithmetic of congruence: we know \(100 \equiv 1 \pmod{9}\), so if we multiply both sides by \(4\), we get \(400 \equiv 4 \pmod 9\).%
\par
Similarly, we can replace 3000 with 3, since \(1000 = 1 + 999 \equiv 1 \pmod 9\). So our original congruence becomes%
\begin{equation*}
x \equiv 3 + 4 + 0 + 1 \pmod 9
\end{equation*}
%
\begin{equation*}
x \equiv 8 \pmod 9\text{.}
\end{equation*}
Therefore \(3491\) divided by 9 has remainder 8.%
\end{example}
The above example should convince you that the well known divisibility test for 9 is true: the sum of the digits of a number is divisible by 9 if and only if the original number is divisible by 9. In fact, we now know something more: any number is congruent to the sum of its digits, modulo 9.\footnote{This works for 3 as well, but definitely not for any modulus in general.\label{g:fn:idm25035}}%
\par
Let's try another:%
\begin{example}{}{p:example:IQa}%
Find the remainder when \(3^{123}\) is divided by 7.%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:mcD}{}~~%
Of course, we are working with congruence because we want to find the smallest positive \(x\) such that \(x \equiv 3^{123} \pmod 7\). Now first write \(3^{123} = (3^3)^{41}\). We have:%
\begin{equation*}
3^{123} = 27^{41} \equiv 6^{41} \pmod 7\text{,}
\end{equation*}
since \(27 \equiv 6 \pmod 7\). Notice further that \(6^2 = 36\) is congruent to 1 modulo 7. Thus we can simplify further:%
\begin{equation*}
6^{41} = 6\cdot (6^2)^{20} \equiv 6 \cdot 1^{20} \pmod 7\text{.}
\end{equation*}
%
\par
But \(1^{20} = 1\), so we are done:%
\begin{equation*}
3^{123} \equiv 6 \pmod 7\text{.}
\end{equation*}
%
\end{example}
In the above example, we are using the fact that if \(a \equiv b \pmod n\), then \(a^p \equiv b^p \pmod n\). This is just applying property 3 a bunch of times.%
\par
So far we have seen how to add, subtract and multiply with congruences. What about division? There is a reason we have waited to discuss it. It turns out that we cannot simply divide. In other words, even if \(ad \equiv bd \pmod n\), we do not know that \(a \equiv b \pmod n\). Consider, for example:%
\begin{equation*}
18 \equiv 42 \pmod 8\text{.}
\end{equation*}
%
\par
This is true. Now \(18\) and \(42\) are both divisible by 6. However,%
\begin{equation*}
3 \not\equiv 7 \pmod 8\text{.}
\end{equation*}
%
\par
While this doesn't work, note that \(3 \equiv 7 \pmod 4\). We cannot divide \(8\) by 6, but we can divide 8 by the greatest common factor of \(8\) and \(6\). Will this always happen?%
\par
Suppose \(ad \equiv bd \pmod n\). In other words, we have \(ad = bd + kn\) for some integer \(k\). Of course \(ad\) is divisible by \(d\), as is \(bd\). So \(kn\) must also be divisible by \(d\). Now if \(n\) and \(d\) have no common factors (other than 1), then we must have \(d \mid k\). But in general, if we try to divide \(kn\) by \(d\), we don't know that we will get an integer multiple of \(n\). Some of the \(n\) might get divided as well. To be safe, let's divide as much of \(n\) as we can. Take the largest factor of both \(d\) and \(n\), and cancel that out from \(n\). The rest of the factors of \(d\) will come from \(k\), no problem.%
\par
We will call the largest factor of both \(d\) and \(n\) the \(\gcd(d,n)\), for \emph{greatest common divisor}. \index{gcd}\index{greatest commond divisor} In our example above, \(\gcd(6,8) = 2\) since the greatest divisor common to 6 and 8 is 2.%
\begin{assemblage}{Congruence and Division.}{p:assemblage:XYY}%
Suppose \(ad \equiv bd \pmod n\). Then \(a \equiv b \pmod{\frac{n}{\gcd(d,n)}}\).%
\par
If \(d\) and \(n\) have no common factors then \(\gcd(d,n) = 1\), so \(a \equiv b \pmod n\).%
\end{assemblage}
\begin{example}{}{p:example:oXj}%
Simplify the following congruences using division: (a) \(24 \equiv 39 \pmod 5\) and (b) \(24 \equiv 39 \pmod{15}\).%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:SjM}{}~~%
(a) Both \(24\) and \(39\) are divisible by \(3\), and \(3\) and \(5\) have no common factors, so we get%
\begin{equation*}
8 \equiv 13 \pmod 5\text{.}
\end{equation*}
%
\par
(b) Again, we can divide by 3. However, doing so blindly gives us \(8 \equiv 13 \pmod{15}\) which is no longer true. Instead, we must also divide the modulus 15 by the greatest common factor of \(3\) and \(15\), which is \(3\). Again we get%
\begin{equation*}
8 \equiv 13 \pmod 5\text{.}
\end{equation*}
%
\end{example}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Solving Congruences}
\typeout{************************************************}
%
\begin{subsectionptx}{Solving Congruences}{}{Solving Congruences}{}{}{p:subsection:uMv}
Now that we have some algebraic rules to govern congruence relations, we can attempt to solve for an unknown in a congruence. For example, is there a value of \(x\) that satisfies,%
\begin{equation*}
3x + 2 \equiv 4 \pmod{5}\text{,}
\end{equation*}
and if so, what is it?%
\par
In this example, since the modulus is small, we could simply try every possible value for \(x\). There are really only 5 to consider, since any integer that satisfied the congruence could be replaced with any other integer it was congruent to modulo 5. Here, when \(x = 4\) we get \(3x + 2 = 14\) which is indeed congruent to 4 modulo 5. This means that \(x = 9\) and \(x = 14\) and \(x = 19\) and so on will each also be a solution because as we saw above, replacing any number in a congruence with a congruent number does not change the truth of the congruence.%
\par
So in this example, simply compute \(3x + 2\) for values of \(x \in \{0,1,2,3,4\}\). This gives 2, 5, 8, 11, and 14 respectively, for which only 14 is congruent to 4.%
\par
Let's also see how you could solve this using our rules for the algebra of congruences. Such an approach would be much simpler than the trial and error tactic if the modulus was larger. First, we know we can subtract 2 from both sides:%
\begin{equation*}
3x \equiv 2 \pmod{5}\text{.}
\end{equation*}
%
\par
Then to divide both sides by 3, we first add 0 to both sides. Of course, on the right-hand side, we want that 0 to be a 10 (yes, \(10\) really is 0 since they are congruent modulo 5). This gives,%
\begin{equation*}
3x \equiv 12 \pmod{5}\text{.}
\end{equation*}
%
\par
Now divide both sides by 3. Since \(\gcd(3,5) = 1\), we do not need to change the modulus:%
\begin{equation*}
x \equiv 4 \pmod{5}\text{.}
\end{equation*}
%
\par
Notice that this in fact gives the \emph{general solution}: not only can \(x = 4\), but \(x\) can be any number which is congruent to 4. We can leave it like this, or write ``\(x = 4 + 5k\) for any integer \(k\).''%
\begin{example}{}{p:example:Ves}%
Solve the following congruences for \(x\).%
\par
%
\begin{enumerate}
\item{}\(7x \equiv 12 \pmod{13}\).%
\item{}\(84x - 38 \equiv 79 \pmod{15}\).%
\item{}\(20x \equiv 23 \pmod{14}\).%
\end{enumerate}
%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:yqV}{}~~%
%
\begin{enumerate}
\item{}All we need to do here is divide both sides by 7. We add 13 to the right-hand side repeatedly until we get a multiple of 7 (adding 13 is the same as adding 0, so this is legal). We get \(25\), \(38\), \(51\), \(64\), \(77\) \textendash{} got it. So we have:%
\begin{equation*}
\begin{aligned}7x \amp  \equiv 12 \pmod{13} \\
7x \amp  \equiv 77 \pmod{13} \\
x \amp  \equiv 11 \pmod{13}.
\end{aligned}
\end{equation*}
%
\item{}Here, since we have numbers larger than the modulus, we can reduce them prior to applying any algebra. We have \(84 \equiv 9\), \(38 \equiv 8\) and \(79 \equiv 4\). Thus,%
\begin{equation*}
\begin{aligned}84x - 38 \amp  \equiv 79 \pmod{15} \\
9x - 8 \amp  \equiv 4 \pmod{15} \\
9x \amp  \equiv 12 \pmod{15} \\
9x \amp  \equiv 72 \pmod{15}.
\end{aligned}
\end{equation*}
We got the 72 by adding \(0 \equiv 60 \pmod{15}\) to both sides of the congruence. Now divide both sides by 9. However, since \(\gcd(9, 15) = 3\), we must divide the modulus by 3 as well:%
\begin{equation*}
x \equiv 8 \pmod 5\text{.}
\end{equation*}
So the solutions are those values which are congruent to 8, or equivalently 3, modulo 5. This means that in some sense there are 3 solutions modulo 15: 3, 8, and 13. We can write the solution:%
\begin{equation*}
x \equiv 3 \pmod{15}; ~~ x \equiv 8 \pmod{15}; ~~x \equiv 13 \pmod{15}\text{.}
\end{equation*}
%
\item{}First, reduce modulo 14:%
\begin{equation*}
20x \equiv 23 \pmod{14}
\end{equation*}
%
\begin{equation*}
6x \equiv 9 \pmod{14}\text{.}
\end{equation*}
We could now divide both sides by 3, or try to increase 9 by a multiple of 14 to get a multiple of 6. If we divide by 3, we get,%
\begin{equation*}
2x \equiv 3 \pmod{14}\text{.}
\end{equation*}
Now try adding multiples of 14 to 3, in hopes of getting a number we can divide by 2. This will not work! Every time we add 14 to the right side, the result will still be odd. We will never get an even number, so we will never be able to divide by 2. Thus there are no solutions to the congruence.%
\end{enumerate}
%
\end{example}
The last congruence above illustrates the way in which congruences might not have solutions. We could have seen this immediately in fact. Look at the original congruence:%
\begin{equation*}
20x \equiv 23 \pmod{14}\text{.}
\end{equation*}
%
\par
If we write this as an equation, we get%
\begin{equation*}
20x = 23 + 14k\text{,}
\end{equation*}
or equivalently \(20x - 14k = 23\). We can easily see there will be no solution to this equation in integers. The left-hand side will always be even, but the right-hand side is odd. A similar problem would occur if the right-hand side was divisible by \emph{any} number the left-hand side was not.%
\par
So in general, given the congruence%
\begin{equation*}
ax \equiv b \pmod{n}\text{,}
\end{equation*}
if \(a\) and \(n\) are divisible by a number which \(b\) is not divisible by, then there will be no solutions. In fact, we really only need to check one divisor of \(a\) and \(n\): the greatest common divisor. Thus, a more compact way to say this is:%
\begin{assemblage}{Congruences with no solutions.}{p:assemblage:Egh}%
If \(\gcd(a,n) \nmid b\), then \(ax \equiv b \pmod{n}\) has no solutions.%
\end{assemblage}
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Subsection  Solving Linear Diophantine Equations}
\typeout{************************************************}
%
\begin{subsectionptx}{Solving Linear Diophantine Equations}{}{Solving Linear Diophantine Equations}{}{}{p:subsection:aTE}
Discrete math deals with whole numbers of things. So when we want to solve equations, we usually are looking for \emph{integer} solutions. Equations which are intended to only have integer solutions were first studied by in the third century by the Greek mathematician Diophantus of Alexandria, and as such are called \emph{Diophantine equations}. \index{Diophantine equation} Probably the most famous example of a Diophantine equation is \(a^2 + b^2 = c^2\). The integer solutions to this equation are called \emph{Pythagorean triples}. In general, solving Diophantine equations is hard (in fact, there is provably no general algorithm for deciding whether a Diophantine equation has a solution, a result known as Matiyasevich's Theorem). We will restrict our focus to \emph{linear} Diophantine equations, which are considerably easier to work with.%
\begin{assemblage}{Diophantine Equations.}{p:assemblage:knq}%
An equation in two or more variables is called a \terminology{Diophantine equation} if only integers solutions are of interest. A \terminology{linear} Diophantine equation takes the form \(a_1x_1 + a_2x_x + \cdots + a_nx_n = b\) for constants \(a_1,\ldots,
a_n, b\).%
\par
A \terminology{solution} to a Diophantine equation is a solution to the equation consisting only of integers.%
\end{assemblage}
We have the tools we need to solve linear Diophantine equations. We will consider, as a main example, the equation%
\begin{equation*}
51x + 87y = 123\text{.}
\end{equation*}
%
\par
The general strategy will be to convert the equation to a congruence, then solve that congruence.\footnote{This is certainly not the only way to proceed. A more common technique would be to apply the \emph{Euclidean algorithm}. Our way can be a little faster, and is presented here primarily for variety.\label{g:fn:idm25239}} Let's work this particular example to see how this might go.%
\par
First, check if perhaps there are no solutions because a divisor of \(51\) and \(87\) is not a divisor of \(123\). Really, we just need to check whether \(\gcd(51, 87) \mid 123\). This greatest common divisor is 3, and yes \(3 \mid 123\). At this point, we might as well factor out this greatest common divisor. So instead, we will solve:%
\begin{equation*}
17x + 29y = 41\text{.}
\end{equation*}
%
\par
Now observe that if there are going to be solutions, then for those values of \(x\) and \(y\), the two sides of the equation must have the same remainder as each other, no matter what we divide by. In particular, if we divide both sides by 17, we must get the same remainder. Thus we can safely write%
\begin{equation*}
17x + 29y \equiv 41 \pmod{17}\text{.}
\end{equation*}
%
\par
We choose 17 because \(17x\) will have remainder 0. This will allow us to reduce the congruence to just one variable. We could have also moved to a congruence modulo 29, although there is usually a good reason to select the smaller choice, as this will allow us to reduce the other coefficient. In our case, we reduce the congruence as follows:%
\begin{equation*}
\begin{aligned}17x + 29y \amp  \equiv 41 \pmod{17} \\
0x + 12y \amp  \equiv 7 \pmod{17} \\
12 y \amp  \equiv 24 \pmod{17} \\
y \amp  \equiv 2 \pmod{17}.
\end{aligned}
\end{equation*}
%
\par
Now at this point we know \(y = 2 + 17k\) will work for any integer \(k\). If we haven't made a mistake, we should be able to plug this back into our original Diophantine equation to find \(x\):%
\begin{equation*}
\begin{aligned}17x + 29(2 + 17k) \amp  = 41\\
17x \amp  = -17 - 29\cdot 17k\\
x \amp  = -1-29k.
\end{aligned}
\end{equation*}
%
\par
We have now found all solutions to the Diophantine equation. For each \(k\), \(x = -1-29k\) and \(y = 2 + 17k\) will satisfy the equation. We could check this for a few cases. If \(k = 0\), the solution is \((-1,2)\), and yes, \(-17 + 2\cdot 29 = 41\). If \(k = 3\), the solution is \((-88, 53)\). If \(k = -2\), we get \((57, -32)\).%
\par
To summarize this process, to solve \(ax + by = c\), we,%
\par
%
\begin{enumerate}
\item{}Divide both sides of the equation by \(\gcd(a,b)\) (if this does not leave the right-hand side as an integer, there are no solutions). Let's assume that \(ax + by = c\) has already been reduced in this way.%
\item{}Pick the smaller of \(a\) and \(b\) (here, assume it is \(b\)), and convert to a congruence modulo \(b\):%
\begin{equation*}
ax + by \equiv c \pmod{b}\text{.}
\end{equation*}
This will reduce to a congruence with one variable, \(x\):%
\begin{equation*}
ax \equiv c \pmod{b}\text{.}
\end{equation*}
%
\item{}Solve the congruence as we did in the previous section. Write your solution as an equation, such as,%
\begin{equation*}
x = n + kb\text{.}
\end{equation*}
%
\item{}Plug this into the original Diophantine equation, and solve for \(y\).%
\item{}If we want to know solutions in a particular range (for example, \(0 \le x, y \le 20\)), pick different values of \(k\) until you have all required solutions.%
\end{enumerate}
%
\par
Here is another example:%
\begin{example}{}{p:example:BlB}%
How can you make \textdollar{}6.37 using just 5-cent and 8-cent stamps? What is the smallest and largest number of stamps you could use?%
\par\smallskip%
\noindent\textbf{Solution}.\hypertarget{p:solution:eye}{}~~%
First, we need a Diophantine equation. We will work in numbers of cents. Let \(x\) be the number of \(5\)-cent stamps, and \(y\) be the number of 8-cent stamps. We have:%
\begin{equation*}
5x + 8y = 637\text{.}
\end{equation*}
%
\par
Convert to a congruence and solve:%
\begin{equation*}
\begin{aligned}8y \amp  \equiv 367 \pmod{5}\\
3y \amp  \equiv 2 \pmod 5\\
3y \amp  \equiv 12 \pmod 5\\
y \amp  \equiv 4 \pmod 5.
\end{aligned}
\end{equation*}
%
\par
Thus \(y = 4 + 5k\). Then \(5x + 8(4+5k) = 637\), so \(x = 121 - 8k\).%
\par
This says that one way to make \textdollar{}6.37 is to take 121 of the 5-cent stamps and 4 of the 8-cent stamps. To find the smallest and largest number of stamps, try different values of \(k\).%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{lAlAl}
\(k\)&\((x,y)\)&Stamps\tabularnewline[0pt]
&&\tabularnewline\hrulethin
-1&(129, -1)&not possible\tabularnewline[0pt]
0&(121, 4)&125\tabularnewline[0pt]
1&(113, 9)&122\tabularnewline[0pt]
2&(105, 13)&119\tabularnewline[0pt]
\textbackslash{}vdots&\textbackslash{}vdots&\textbackslash{}vdots
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
This is no surprise. Having the most stamps means we have as many 5-cent stamps as possible, and to get the smallest number of stamps would require have the least number of 5-cent stamps. To minimize the number of 5-cent stamps, we want to pick \(k\) so that \(121-8k\) is as small as possible (but still positive). When \(k = 15\), we have \(x = 1\) and \(y = 79\).%
\par
Therefore, to make \textdollar{}6.37, you can us as few as 80 stamps (1 5-cent stamp and 79 8-cent stamps) or as many as 125 stamps (121 5-cent stamps and 4 8-cent stamps).%
\end{example}
Using this method, as long as you can solve linear congruences in one variable, you can solve linear Diophantine equations of two variables. There are times though that solving the linear congruence is a lot of work. For example, suppose you need to solve,%
\begin{equation*}
13x \equiv 6 \pmod{51}\text{.}
\end{equation*}
%
\par
You \emph{could} keep adding 51 to the right side until you get a multiple of 13: You would get 57, 108, 159, 210, 261, 312, and 312 is the first of these that is divisible by 13. This works, but is really too much work. Instead we could convert \emph{back} to a Diophantine equation:%
\begin{equation*}
13x = 6 + 51k\text{.}
\end{equation*}
%
\par
Now solve \emph{this} like we have in this section. Write it as a congruence modulo 13:%
\begin{equation*}
\begin{aligned}0 \amp \equiv 6 + 51k \pmod{13}\\
-12k \amp \equiv 6 \pmod{13}\\
2k \amp \equiv -1 \pmod{13}\\
2k \amp \equiv 12 \pmod{13}\\
k \amp \equiv 6 \pmod{13}.
\end{aligned}
\end{equation*}
so \(k = 6 + 13j\). Now go back and figure out \(x\):%
\begin{equation*}
\begin{aligned}13x \amp  = 6 + 51(6+13j)\\
x \amp  = 24 + 51j.
\end{aligned}
\end{equation*}
%
\par
Of course you could do this switching back and forth between congruences and Diophantine equations as many times as you like. If you \emph{only} used this technique, you would essentially replicate the Euclidean algorithm, a more standard way to solve Diophantine equations.%
\end{subsectionptx}
%
%
\typeout{************************************************}
\typeout{Exercises  Exercises}
\typeout{************************************************}
%
\begin{exercises-subsection-numberless}{Exercises}{}{Exercises}{}{}{x:exercises:exercises_addtops-numbth}
\begin{divisionexercise}{\hyperlink{p:solution:Vva-back}{1}}{}{}{p:exercise:OVU}%
Suppose \(a\), \(b\), and \(c\) are integers. Prove that if \(a \mid b\), then \(a \mid bc\).%
\end{divisionexercise}%
\begin{divisionexercise}{2}{}{}{p:exercise:vdd}%
Suppose \(a\), \(b\), and \(c\) are integers. Prove that if \(a \mid b\) and \(a \mid c\) then \(a \mid b+c\) and \(a \mid b-c\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:hJs-back}{3}}{}{}{p:exercise:bkm}%
Write out the remainder classes for \(n = 4\).%
\end{divisionexercise}%
\begin{divisionexercise}{4}{}{}{p:exercise:Hrv}%
What is the largest \(n\) such that \(16\) and \(25\) are in the same remainder class modulo \(n\)?  Write out the remainder class they both belong to and give an example of a number more than 100 in that class.%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:NQB-back}{5}}{}{}{p:exercise:nyE}%
Let \(a\), \(b\), \(c\), and \(n\) be integers. Prove that if \(a \equiv b \pmod{n}\) and \(c \equiv d \pmod{n}\), then \(a-c \equiv b-d \pmod{n}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:aeT-back}{6}}{}{}{p:exercise:TFN}%
Find the remainder of \(3^{456}\) when divided by%
\begin{multicols}{4}
\begin{enumerate}[label=(\alph*)]
\item{}2.%
\item{}5.%
\item{}7.%
\item{}9.%
\end{enumerate}
\end{multicols}
%
\end{divisionexercise}%
\begin{divisionexercise}{7}{}{}{p:exercise:zMW}%
Repeat the previous exercise, this time dividing \(2^{2019}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:Gmc-back}{8}}{}{}{p:exercise:fUf}%
Determine which of the following congruences have solutions, and find any solutions (between 0 and the modulus) by trial and error.%
\begin{enumerate}[label=(\alph*)]
\item{}\(4x \equiv 5 \pmod 6\).%
\item{}\(6x \equiv 3 \pmod 9\).%
\item{}\(x^2 \equiv 2 \pmod 4\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{9}{}{}{p:exercise:Mbo}%
Determine which of the following congruences have solutions, and find any solutions (between 0 and the modulus) by trial and error.%
\begin{enumerate}[label=(\alph*)]
\item{}\(4x \equiv 5 \pmod 7\).%
\item{}\(6x \equiv 4 \pmod 9\).%
\item{}\(x^2 \equiv 2 \pmod 7\).%
\end{enumerate}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:mtl-back}{10}}{}{}{p:exercise:six}%
Solve the following congruence \(5x + 8 \equiv 11 \pmod{22}\).  That is, describe the general solution.%
\end{divisionexercise}%
\begin{divisionexercise}{11}{}{}{p:exercise:YpG}%
Solve the congruence: \(6x \equiv 4 \pmod{10}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:SAu-back}{12}}{}{}{p:exercise:EwP}%
Solve the congruence: \(4x \equiv 24 \pmod{30}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:yHD-back}{13}}{}{}{p:exercise:kDY}%
Solve the congruence: \(341x \equiv 2941 \pmod{9}\).%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:eOM-back}{14}}{}{}{p:exercise:QLh}%
I'm thinking of a number. If you multiply my number by 7, add 5, and divide the result by 11, you will be left with a remainder of 2. What remainder would you get if you divided my original number by 11?%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:solution:KVV-back}{15}}{}{}{p:exercise:wSq}%
Solve the following linear Diophantine equation, using modular arithmetic (describe the general solutions).%
\begin{equation*}
6x + 10y = 32\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{16}{}{}{p:exercise:cZz}%
Solve the following linear Diophantine equation, using modular arithmetic (describe the general solutions).%
\begin{equation*}
17x + 8y = 31\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{17}{}{}{p:exercise:JgI}%
Solve the following linear Diophantine equation, using modular arithmetic (describe the general solutions).%
\begin{equation*}
35x + 47y = 1\text{.}
\end{equation*}
%
\end{divisionexercise}%
\begin{divisionexercise}{\hyperlink{p:hint:rde-back}{18}}{}{}{p:exercise:pnR}%
You have a 13 oz. bottle and a 20 oz. bottle, with which you wish to measure exactly 2 oz. However, you have a limited supply of water. If any water enters either bottle and then gets dumped out, it is gone forever. What is the least amount of water you can start with and still complete the task?%
\end{divisionexercise}%
\end{exercises-subsection-numberless}
\end{sectionptx}
\end{chapterptx}
%
%% A lineskip in table of contents as transition to appendices, backmatter
\addtocontents{toc}{\vspace{\normalbaselineskip}}
%
%
%
\typeout{************************************************}
\typeout{Appendix A Selected Hints}
\typeout{************************************************}
%
%
\appendix
%
\begin{solutions-chapter}{Selected Hints}{}{Selected Hints}{}{}{p:solutions:SxU}
\vskip 2ex \centerline{\bfseries\scshape\large 0.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.2.18}{}{p:exercise:WnY}%
\hypertarget{p:hint:QyM-back}~~%
Try an example.  What if \(P(x)\) was the predicate, ``\(x\) is prime''?  What if it was ``if \(x\) is divisible by 4, then it is even''?  Of course examples are not enough to prove something in general, but that is entirely the point of this question.%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.19}{}{p:exercise:Cvh}%
\hypertarget{p:hint:wFV-back}~~%
First figure out what each statement is saying.  For part (c), you don't need to assume the domain is an infinite set.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 0.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.3.7}{}{p:exercise:lLe}%
\hypertarget{g:hint:idm3718-back}~~%
You should be able to write all of them out. Don't forget \(A\) and \(B\text{,}\) which are also candidates for \(C\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.14}{}{p:exercise:CJp}%
\hypertarget{p:hint:eQz-back}~~%
It might help to think about what the union \(A_2 \cup A_3\) is first.  Then think about what numbers are \emph{not} in that union.  What will happen when you also include \(A_5\)?%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.17}{}{p:exercise:veQ}%
\hypertarget{p:hint:Xma-back}~~%
We are looking for a set containing 16 sets.%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.18}{}{p:exercise:blZ}%
\hypertarget{g:hint:idm4106-back}~~%
Write these out, or at least start to and look for a pattern.%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.29}{}{p:exercise:QMU}%
\hypertarget{p:hint:vOK-back}~~%
It looks like you should be able to define the set \(A\) like this.  But consider the two possible values for \(\card{A}\).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 0.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.4.20}{}{p:exercise:NSb}%
\hypertarget{p:hint:MMI-back}~~%
Work with some examples. What if \(f = \twoline{1\amp 2 \amp 3}{a \amp a \amp b}\) and \(g = \twoline{a\amp b \amp c}{5 \amp 6 \amp 7}\)?%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.25}{}{p:exercise:SBU}%
\hypertarget{p:hint:dKT-back}~~%
To find the recurrence relation, consider how many \emph{new} handshakes occur when person \(n+1\) enters the room.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.29}{}{p:exercise:reE}%
\hypertarget{p:hint:Wgu-back}~~%
One of these is not always true.  Try some examples!%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.1.9}{}{p:exercise:xgL}%
\hypertarget{g:hint:idm7060-back}~~%
To find out how many numbers are divisible by 6 and 7, for example, take \(500/42\) and round down.%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.11}{}{p:exercise:Jvd}%
\hypertarget{p:hint:Lkq-back}~~%
For part (a) you could use the formula for PIE, but for part (b) you might be better off drawing a Venn diagram.%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.13}{}{p:exercise:VJv}%
\hypertarget{p:hint:XyI-back}~~%
You could consider cases.  For example, any number of the form ODD-ODD-EVEN will have an even sum.  Alternatively, how many three digit numbers have the sum of their digits even if the first two digits are 54?  What if the first two digits are 19?%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.14}{}{p:exercise:BQE}%
\hypertarget{p:hint:DFR-back}~~%
For a simpler example, there are 4 divisors of \(6 = 2\cdot 3\).  They are \(1 = 2^0\cdot 3^0\), \(2 = 2^1\cdot 3^0\), \(3 = 2^0\cdot 3^1\) and \(6 = 2^1\cdot 3^1\).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.2.5}{}{p:exercise:sEj}%
\hypertarget{g:hint:idm8028-back}~~%
Pennies are sort of like 0's and nickels are sort of like 1's.%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.7}{}{p:exercise:ESB}%
\hypertarget{g:hint:idm8103-back}~~%
Break the question into five cases.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.3.4}{}{p:exercise:LUx}%
\hypertarget{p:hint:tQT-back}~~%
Which question should have the larger answer?  One of these is a combination, the other is a permutation.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.6}{}{p:exercise:YiP}%
\hypertarget{p:hint:mmu-back}~~%
If you pick any three points, you can get a triangle, unless those three points are all on the \(x\)-axis or on the \(y\)-axis.  There are other ways to start this as well, and any correct method should give the same answer.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.8}{}{p:exercise:kxh}%
\hypertarget{g:hint:idm8957-back}~~%
We just need a string of 7 letters: 4 of one type, 3 of the other.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.11}{}{p:exercise:cSI}%
\hypertarget{g:hint:idm9113-back}~~%
There are 10 people seated around the table, but it does not matter where King Arthur sits, only who sits to his left, two seats to his left, and so on.  So the answer is not \(10!\text{.}\)%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.4.3}{}{p:exercise:ITa}%
\hypertarget{p:hint:qPw-back}~~%
There will be 185 triangles.  But to find them \textellipsis{}%
\begin{enumerate}[label=(\alph*)]
\item{}How many vertices of the triangle can be on the horizontal axis?%
\item{}Will \emph{any} three dots work as the vertices?%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.4}{}{p:exercise:paj}%
\hypertarget{p:hint:WWF-back}~~%
The answer is 120.%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.6}{}{p:exercise:BoB}%
\hypertarget{p:hint:jkX-back}~~%
Try \hyperlink{x:exercise:exc-bridesmaids}{Exercise~1.4.5}%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.7}{}{p:exercise:hvK}%
\hypertarget{p:hint:vzp-back}~~%
What if you wanted a pair of co-maids-of-honor?%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.8}{}{p:exercise:NCT}%
\hypertarget{p:hint:HNH-back}~~%
For the combinatorial proof: what if you don't yet know how many bridesmaids you will have?%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.9}{}{p:exercise:tKc}%
\hypertarget{p:hint:nUQ-back}~~%
Count handshakes.%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.13}{}{p:exercise:SmM}%
\hypertarget{p:hint:UbZ-back}~~%
This one might remind you of \hyperref[x:example:ex-comb-proof-3elemsets]{Example~\ref{x:example:ex-comb-proof-3elemsets}}%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.14}{}{p:exercise:ytV}%
\hypertarget{p:hint:Aji-back}~~%
For the lattice paths, think about what sort of paths \(2^n\) would count.  Not all the paths will end at the same point, but you could describe the set of end points as a line.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.6\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.6.4}{}{p:exercise:vku}%
\hypertarget{g:hint:idm11292-back}~~%
Instead, count the solutions to \(y_1 + y_2 + y_3 + y_4 = 7\) with \(0 \le y_i \le 3\text{.}\)  Why is this equivalent?%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.13}{}{p:exercise:YwX}%
\hypertarget{g:hint:idm11568-back}~~%
This is a sneaky way to ask for the number of derangements on 5 elements.  Do you see why?%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.7\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{1.7.16}{}{p:exercise:dvy}%
\hypertarget{g:hint:idm12626-back}~~%
Stars and bars.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.1.11}{}{p:exercise:aoK}%
\hypertarget{p:hint:AGH-back}~~%
You will want to write out the sequence, guess a closed formula, and then verify that you are correct.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.12}{}{p:exercise:GvT}%
\hypertarget{p:hint:gNQ-back}~~%
Write out the sequence, guess a recursive definition, and verify that the closed formula is a solution to that recursive definition.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.15}{}{p:exercise:yRu}%
\hypertarget{p:hint:Zjr-back}~~%
Try an example: when you draw the 4th line, it will cross three other lines, so will be divided into four segments, two of which are infinite.  Each segment will divide a previous region into two.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.16}{}{p:exercise:eYD}%
\hypertarget{p:hint:FqA-back}~~%
Consider three cases: the last digit is a 0, a 1, or a 2.  Two of these should be easy to count, but strings ending in 0 cannot be proceeded by a 2, so require a little more work.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.18}{}{p:exercise:rmV}%
\hypertarget{p:hint:lxJ-back}~~%
Think recursively, like you did in Pascal's triangle.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.19}{}{p:exercise:Xue}%
\hypertarget{p:hint:RES-back}~~%
There is only one way to tile a \(2 \times 1\) board, and two ways to tile a \(2\times 2\) board (you can orient the dominoes in two ways).  In general, consider the two ways the domino covering the top left corner could be oriented.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.4.3}{}{p:exercise:ype}%
\hypertarget{g:hint:idm15883-back}~~%
Use telescoping or iteration.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.5\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.5.9}{}{p:exercise:NqL}%
\hypertarget{p:hint:BMn-back}~~%
It is not possible to score exactly 11 points.  Can you prove that you can score \(n\) points for any \(n \ge 12\)?%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.11}{}{p:exercise:ZFd}%
\hypertarget{p:hint:hTw-back}~~%
Start with \((k+1)\)-gon and divide it up into a \(k\)-gon and a triangle.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.15}{}{x:exercise:exc-seq-lessthan-100}%
\hypertarget{p:hint:yRH-back}~~%
For the inductive step, you can assume you have a strictly increasing sequence up to \(a_k\) where \(a_k \lt 100\).  Now you just need to find the next term \(a_{k+1}\) so that \(a_{k} \lt a_{k+1} \lt 100\).  What should \(a_{k+1}\) be?%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.17}{}{p:exercise:Kwf}%
\hypertarget{p:hint:rni-back}~~%
For the inductive case, you will need to show that \((k+1)^2 + (k+1)\) is even.  Factor this out and locate the part of it that is \(k^2 + k\).  What have you assumed about that quantity?%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.18}{}{p:exercise:qDo}%
\hypertarget{p:hint:Xur-back}~~%
This is similar to \hyperlink{x:exercise:exc-seq-lessthan-100}{Exercise~2.5.15}, although there you were showing that a sequence had all its terms less than some value, and here you are showing that the sum is less than som value.  But the partial sums forms a sequence, so this is actually very similar.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.20}{}{p:exercise:CRG}%
\hypertarget{p:hint:PPS-back}~~%
As with the previous question, we will want to subtract something from \(n\) in the inductive step.  There we subtracted the largest power of 2 less than \(n\).  So what should you subtract here?%
\par
Note, you will still need to take care here that the sum you get from the inductive hypothesis, together with the number you subtracted will be a sum of \emph{distinct} Fibonacci numbers.  In fact, you could prove that the Fibonacci numbers in the sum are non-consecutive!%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.21}{}{p:exercise:iYP}%
\hypertarget{p:hint:vXb-back}~~%
We have already proved this without using induction, but looking at it inductively sheds light onto the problem (and is fun).%
\par
The question you need to answer to complete the inductive step is, how many new handshakes take place when a person \(k+1\) enters the room.  Why does adding this give you the correct formula?%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.22}{}{p:exercise:PfY}%
\hypertarget{p:hint:cek-back}~~%
You will need to use strong induction. For the inductive case, try multiplying \(\left (x^k + \frac{1}{x^{k}}\right)\left(x+\frac{1}{x}\right)\) and collect which terms together are integers.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.23}{}{p:exercise:vnh}%
\hypertarget{p:hint:Ilt-back}~~%
Here's the idea: since every entry in Pascal's Triangle is the sum of the two entries above it, we can get the \(k+1\)st row by adding up all the pairs of entry from the \(k\)th row. But doing this uses each entry on the \(k\)th row twice. Thus each time we drop to the next row, we double the total. Of course, row 0 has sum \(1 = 2^0\) (the base case). Now try to make this precise with a formal induction proof. You will use the fact that \({n \choose k} = {n-1 \choose k-1} + {n-1 \choose k}\) for the inductive case.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.24}{}{p:exercise:buq}%
\hypertarget{p:hint:osC-back}~~%
To see why this works, try it on a copy of Pascal's triangle. We are adding up the entries along a diagonal, starting with the 1 on the left-hand side of the 4th row. Suppose we add up the first 5 entries on this diagonal. The claim is that the sum is the entry below and to the left of the last of these 5 entries. Note that if this is true, and we instead add up the first 6 entries, we will need to add the entry one spot to the right of the previous sum. But these two together give the entry below them, which is below and left of the last of the 6 entries on the diagonal. If you follow that, you can see what is going on. But it is not a great proof. A formal induction proof is needed.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.26}{}{p:exercise:nII}%
\hypertarget{p:hint:MVm-back}~~%
You are allowed to assume the base case. For the inductive case, group all but the last function together as one sum of functions, then apply the usual sum of derivatives rule, and then the inductive hypothesis.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.27}{}{p:exercise:TPR}%
\hypertarget{p:hint:tcv-back}~~%
For the inductive step, we know by the product rule for two functions that%
\begin{equation*}
(f_1f_2f_3 \cdots f_k f_{k+1})' = (f_1f_2f_3\cdots f_k)'f_{k+1} + (f_1f_2f_3\cdots f_k)f_{k+1}'\text{.}
\end{equation*}
%
\par
Then use the inductive hypothesis on the first summand, and distribute.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.29}{}{p:exercise:gej}%
\hypertarget{p:hint:ZjE-back}~~%
You will need three base cases.  This is a very good hint actually, as it suggests that to prove \(P(n)\) is true, you would want to use the fact that \(P(n-3)\) is true.  So somehow you need to increase the number of squares by 3.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.6\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{2.6.14}{}{p:exercise:JTp}%
\hypertarget{p:hint:rPL-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Hint: \((n+1)^{n+1} > (n+1) \cdot n^{n}\).%
\item{}Hint: This should be similar to the other sum proofs. The last bit comes down to adding fractions.%
\item{}Hint: Write \(4^{k+1} - 1 = 4\cdot 4^k - 4 + 3\).%
\item{}Hint: one 9-cent stamp is 1 more than two 4-cent stamps, and seven 4-cent stamps is 1 more than three 9-cent stamps.%
\item{}Careful to actually use induction here. The base case: \(2^2 = 4\). The inductive case: assume \((2n)^2\) is divisible by 4 and consider \((2n+2)^2 = (2n)^2 + 4n + 4\). This is divisible by 4 because \(4n +4\) clearly is, and by our inductive hypothesis, so is \((2n)^2\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.15}{}{p:exercise:qay}%
\hypertarget{p:hint:XWU-back}~~%
This is a straight forward induction proof. Note you will need to simplify \(\left(\frac{n(n+1)}{2}\right)^2 + (n+1)^3\) and get \(\left(\frac{(n+1)(n+2)}{2}\right)^2\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.16}{}{p:exercise:WhH}%
\hypertarget{p:hint:Eed-back}~~%
There are two base cases \(P(0)\) and \(P(1)\). Then, for the inductive case, assume \(P(k)\) is true for all \(k \lt n\). This allows you to assume \(a_{n-1} = 1\) and \(a_{n-2} = 1\). Apply the recurrence relation.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 3.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{3.1.4}{}{p:exercise:aYr}%
\hypertarget{p:hint:tLP-back}~~%
Like above, only now you will need 8 rows instead of just 4.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.5}{}{p:exercise:HfA}%
\hypertarget{p:hint:ZSY-back}~~%
You should write down three statements using the symbols \(P, Q, R, S\).  If Geoff is a truth-teller, then all three statements would be true.  If he was a liar, then all three statements would be false.  But in either case, we don't yet know whether the four atomic statements are true or false, since he hasn't said them by themselves.%
\par
A truth table might help, although is probably not entirely necessary.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.10}{}{p:exercise:LPt}%
\hypertarget{p:hint:Soz-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}There will be three rows in which the statement is false.%
\item{}Consider the three rows that evaluate to false and say what the truth values of \(T\), \(S\), and \(P\) are there.%
\item{}You are looking for a row in which \(P\) is true, and the whole statement is true.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.11}{}{p:exercise:rWC}%
\hypertarget{p:hint:yvI-back}~~%
Write down three statements, and then take the negation of each (since he is a liar).  You should find that Tommy ate one item and drank one item.  (\(Q\) is for cucumber sandwiches.)%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.15}{}{p:exercise:Qzm}%
\hypertarget{p:hint:KKa-back}~~%
For the second part, you can inductively assume that from the first \(n-2\) implications you can deduce \(P_1 \imp P_{n-1}\).  Then you are back in the case in part (a) again.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.18}{}{p:exercise:IUN}%
\hypertarget{p:hint:WYs-back}~~%
It might help to translate the statements into symbols and then use the formulaic rules to simplify negations (i.e., rules for quantifiers and De Morgan's laws).  After simplifying, you should get \(\forall x(\neg E(x) \wedge \neg O(x))\), for the first one, for example.  Then translate this back into English.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.19}{}{p:exercise:pbW}%
\hypertarget{p:hint:DfB-back}~~%
What do these concepts mean in terms of truth tables?%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 3.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{3.2.5}{}{p:exercise:dqh}%
\hypertarget{p:hint:ANy-back}~~%
One of the implications will be a direct proof, the other will be a proof by contrapositive.%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.6}{}{p:exercise:Jxq}%
\hypertarget{p:hint:gUH-back}~~%
This is really an exercise in modifying the proof that \(\sqrt{2}\) is irrational.  There you proved things were even; here they will be multiples of 3.%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.7}{}{p:exercise:pEz}%
\hypertarget{p:hint:NbQ-back}~~%
Part (a) should be a relatively easy direct proof.  Look for a counterexample for part (b).%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.9}{}{p:exercise:BSR}%
\hypertarget{p:hint:tiZ-back}~~%
A proof by contradiction would be reasonable here, because then you get to assume that both \(a\) \emph{and} \(b\) are odd.  Deduce that \(c^2\) is even, and therefore a multiple of 4 (why? and why is that a contradiction?).%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.11}{}{p:exercise:Ohj}%
\hypertarget{p:hint:Fxr-back}~~%
Use a different style of proof for each part.  The last part should remind you of the pigeonhole principle, so mimicking that proof might be helpful.%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.13}{}{p:exercise:avB}%
\hypertarget{p:hint:lEA-back}~~%
Note that if \(\log(7) = \frac{a}{b}\), then \(7 = 10^\frac{a}{b}\).  Can any power of 7 be the same as a power of 10?%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.14}{}{p:exercise:GCK}%
\hypertarget{p:hint:RLJ-back}~~%
What if there were?  Deduce that \(x\) must be odd, and continue towards a contradiction.%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.15}{}{p:exercise:mJT}%
\hypertarget{p:hint:xSS-back}~~%
Prove the contrapositive by cases.  There will be 4 cases to consider.%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.16}{}{p:exercise:SRc}%
\hypertarget{p:hint:eab-back}~~%
Your friend's proof a proof, but of what?  What implication follows from the given proof?  Is that helpful?%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.18}{}{p:exercise:ffu}%
\hypertarget{p:hint:qot-back}~~%
Consider the set of \emph{numbers} of friends that everyone has.  If everyone had a different number of friends, this set must contain 20 elements.  Is that possible?  Why not?%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.19}{}{p:exercise:LmD}%
\hypertarget{p:hint:WvC-back}~~%
This feels like the pigeonhole principle, although a bit more complicated.  At least, you could try to replicate the style of proof used by the pigeonhole principle.  How would the episodes need to be spaced out so that no two of your sixty were exactly 4 apart?%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.1.3}{}{p:exercise:zVn}%
\hypertarget{p:hint:ugb-back}~~%
Both situations are possible.  Go find some examples.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.6}{}{p:exercise:sqO}%
\hypertarget{p:hint:Gut-back}~~%
The bipartite graph is a little tricky.  You will definitely want a complete bipartite graph, but it could be \(K_{5,5}\) or maybe \(K_{1,9}\), or \textellipsis{}%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.7}{}{p:exercise:YxX}%
\hypertarget{p:hint:mBC-back}~~%
The first graph is bipartite, which can be seen by labeling it as follows.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
          \begin{tikzpicture}
  \draw (-1,1) \vb{\footnotesize $A$} -- (0,2) \vb{\footnotesize $B$} -- (1,1) \vb{\footnotesize $A$} -- (0,0) \vb{\footnotesize $B$} -- (-1,1) -- (0,1) \vb{\footnotesize $B$} -- (1,1);
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Two of the remaining three are also bipartite.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.8}{}{p:exercise:EFg}%
\hypertarget{p:hint:SIL-back}~~%
\(C_4\) is bipartite; \(C_5\) is not.  What about all the other values of \(n\)?%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.11}{}{p:exercise:xaH}%
\hypertarget{p:hint:Lem-back}~~%
How many edges does \(K_n\) have?  One of the two graphs will not be connected (unless \(j=1\)).%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.12}{}{p:exercise:dhQ}%
\hypertarget{p:hint:rlv-back}~~%
You should be able to deduce everything directly from the definition.  However, perhaps it would be helpful to know that the \(N\) stands for \emph{neighborhood}.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.13}{}{p:exercise:JoZ}%
\hypertarget{p:hint:XsE-back}~~%
Be careful to make sure the edges are not ``directed.''  In a graph, if \(a\) is adjacent to \(b\), then \(b\) is adjacent to \(a\).  In the language of relations, we say that the edge relation is \terminology{symmetric}.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.14}{}{p:exercise:pwi}%
\hypertarget{p:hint:DzN-back}~~%
You might want to answer the questions for some specific values of \(n\) to get a feel for them, but your final answers should be in terms of \(n\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.15}{}{p:exercise:VDr}%
\hypertarget{p:hint:jGW-back}~~%
Try a small example first: any graph with 8 vertices must have two vertices of the same degree.  If not, what would the degree sequence be?%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.16}{}{x:exercise:exr-degree1handshake}%
\hypertarget{p:hint:POf-back}~~%
Use the \hyperref[x:lemma:lem-handshake]{handshake lemma~\ref{x:lemma:lem-handshake}}.  What would happen if all the vertices had degree 2?%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.2.3}{}{p:exercise:TOr}%
\hypertarget{p:hint:NZf-back}~~%
Careful: the graphs might not be connected.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.4}{}{p:exercise:zVA}%
\hypertarget{p:hint:ugo-back}~~%
Try \hyperlink{x:exercise:ex-tree-deg-seq}{Exercise~4.2.2}.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.5}{}{p:exercise:gcJ}%
\hypertarget{p:hint:anx-back}~~%
Try a proof by contradiction and consider a spanning tree of the graph.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.7}{}{x:exercise:ex-forest}%
\hypertarget{p:hint:mBP-back}~~%
For part (b), trying some simple examples should give you the formula.  Then you just need to prove it is correct.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.8}{}{p:exercise:Yyk}%
\hypertarget{p:hint:SIY-back}~~%
Examining the proof of \hyperref[x:proposition:prop-unique-paths-trees]{Proposition~\ref{x:proposition:prop-unique-paths-trees}} gives you most of what you need, but make sure to just give the relevant parts, and take care to not use proof by contradiction.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.9}{}{p:exercise:EFt}%
\hypertarget{p:hint:yQh-back}~~%
You will need to remove a vertex of degree one, apply the inductive hypothesis to the result, and then say which set the degree one vertex to.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.10}{}{p:exercise:kMC}%
\hypertarget{p:hint:eXq-back}~~%
If \(e\) is the root, then \(b\) will have three children (\(a\), \(c\), and \(d\)), all of which will be siblings, and have \(b\) as their parent.  \(a\) will not have any children.%
\par
In general, how can you determine the number of children a vertex will have, if it is not a root?%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.14}{}{p:exercise:Jpm}%
\hypertarget{p:hint:rlI-back}~~%
There is an example with 7 edges.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.15}{}{p:exercise:pwv}%
\hypertarget{p:hint:XsR-back}~~%
The previous exercise will be helpful.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.16}{}{p:exercise:VDE}%
\hypertarget{p:hint:DAa-back}~~%
Note that such an edge, if removed, would disconnect the graph. We call graphs that have an edge like this \terminology{1-connected}.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.3.3}{}{p:exercise:hDB}%
\hypertarget{p:hint:vHg-back}~~%
What would Euler's formula tell you?%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.5}{}{p:exercise:tRT}%
\hypertarget{p:hint:bOp-back}~~%
You can use the handshake lemma to find the number of edges, in terms of \(v\), the number of vertices.%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.11}{}{p:exercise:eIV}%
\hypertarget{p:hint:AqZ-back}~~%
What is the length of the shortest cycle? (This quantity is usually called the \terminology{girth} of the graph.)%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.14}{}{x:exercise:exr-grotzsch-nonplanar}%
\hypertarget{p:hint:sMA-back}~~%
The girth of the graph is 4.%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.15}{}{p:exercise:DlF}%
\hypertarget{p:hint:YTJ-back}~~%
What has happened to the girth?  Careful: we have a different number of edges as well.  Better check Euler's formula.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.4.7}{}{p:exercise:NYF}%
\hypertarget{p:hint:jGJ-back}~~%
For (a), you will want the teams to be vertices and games to be edges.  Which does it make sense to color?%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.10}{}{p:exercise:Gug}%
\hypertarget{p:hint:vVb-back}~~%
The chromatic number is 4.  Now prove this!%
\par
Note that you cannot use the 4-color theorem, or Brooke's theorem, or the clique number here.  In fact, this graph, called the \emph{Grötzsch graph} is the smallest graph with chromatic number 4 that does not contain any triangles.%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.13}{}{p:exercise:yPH}%
\hypertarget{p:hint:oqC-back}~~%
You can color \(K_5\) in such a way that every vertex is adjacent to exactly two blue edges and two red edges.  However, there is a graph with only 5 edges that will result in a vertex incident to three edges of the same color no matter how they are colored.  What is it, and how can you generalize?%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.14}{}{p:exercise:eWQ}%
\hypertarget{p:hint:UxL-back}~~%
The previous exercise is useful as a starting point.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.5\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.5.7}{}{p:exercise:ynr}%
\hypertarget{p:hint:vsL-back}~~%
This is harder than the previous three questions.  Think about which ``side'' of the graph the Hamilton path would need to be on every other step.%
\end{divisionsolution}%
\begin{divisionsolution}{4.5.9}{}{p:exercise:KBJ}%
\hypertarget{p:hint:HHd-back}~~%
If you read off the names of the students in order, you would need to read each student's name exactly once, and the last name would need to be of a student who was friends with the first.  What sort of a cycle is this?%
\end{divisionsolution}%
\begin{divisionsolution}{4.5.10}{}{p:exercise:qIS}%
\hypertarget{p:hint:nOm-back}~~%
Draw a graph with 6 vertices and 8 edges.  What sort of path would be appropriate?%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.7\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{4.7.23}{}{p:exercise:wjw}%
\hypertarget{p:hint:Hsv-back}~~%
You might want to give the proof in two parts.  First prove by induction that the cycle \(C_n\) has \(v=e\).  Then consider what happens if the graph is more than just the cycle.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 5.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{5.1.10}{}{p:exercise:jFJ}%
\hypertarget{p:hint:dQx-back}~~%
You should ``multiply'' the two sequences.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 5.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{5.2.13}{}{p:exercise:kDY}%
\hypertarget{p:hint:yHD-back}~~%
First reduce each number modulo 9, which can be done by adding up the digits of the numbers.%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.18}{}{p:exercise:pnR}%
\hypertarget{p:hint:rde-back}~~%
Solve the Diophantine equation \(13x + 20 y = 2\) (why?).  Then consider which value of \(k\) (the parameter in the solution) is optimal.%
\end{divisionsolution}%
\end{solutions-chapter}
%
%
\typeout{************************************************}
\typeout{Appendix B Selected Solutions}
\typeout{************************************************}
%
\begin{solutions-chapter}{Selected Solutions}{}{Selected Solutions}{}{}{p:solutions:yFd}
\vskip 2ex \centerline{\bfseries\scshape\large 0.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.2.1}{}{p:exercise:vWb}%
\hypertarget{g:solution:idm962-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is not a statement. It is an imperative sentence, but is not either true or false. It doesn't matter that this might actually be the rule or not. Note that ``The rule is that all customers must wear shoes'' \emph{is} a statement.%
\item{}This is a statement, as it is either true or false. It is an atomic statement because it cannot be divided into smaller statements.%
\item{}This is again a statement, but this time it is molecular. In fact, it is a conjunction, as we can write it as ``The customers wore shoes and the customers wore socks.''%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.3}{}{p:exercise:Ikt}%
\hypertarget{p:solution:uQI-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(P \wedge Q\).%
\item{}\(P \imp \neg Q\).%
\item{}Jack passed math or Jill passed math (or both).%
\item{}If Jack and Jill did not both pass math, then Jill did.%
\item{}%
\begin{enumerate}[label=\roman*.]
\item{}Nothing else.%
\item{}Jack did not pass math either.%
\end{enumerate}
%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.4}{}{p:exercise:orC}%
\hypertarget{g:solution:idm1184-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}It is impossible to tell. The hypothesis of the implication is true. Thus the implication will be true if the conclusion is true (if 13 \emph{is} my favorite number) and false otherwise.%
\item{}This is true, no matter whether 13 is my favorite number or not. Any implication with a true conclusion is true.%
\item{}This is true, again, no matter whether 13 is my favorite number or not. Any implication with a false hypothesis is true.%
\item{}For a disjunction to be true, we just need one or the other (or both) of the parts to be true. Thus this is a true statement.%
\item{}We cannot tell. The statement would be true if 13 is my favorite number, and false if not (since a conjunction needs both parts to be true to be true).%
\item{}This is definitely false. 13 is prime, so its negation (13 is not prime) is false. At least one part of the conjunction is false, so the whole statement is false.%
\item{}This is true. Either 13 is my favorite number or it is not, but whichever it is, at least one part of the disjunction is true, so the whole statement is true.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.5}{}{p:exercise:UyL}%
\hypertarget{g:solution:idm1319-back}~~%
The main thing to realize is that we don't know the colors of these two shapes, but we do know that we are in one of three cases: We could have a blue square and green triangle. We could have a square that was not blue but a green triangle. Or we could have a square that was not blue and a triangle that was not green. The case in which the square is blue but the triangle is not green cannot occur, as that would make the statement false.%
\begin{enumerate}[label=(\alph*)]
\item{}This must be false. In fact, this is the negation of the original implication.%
\item{}This might be true or might be false.%
\item{}True. This is the contrapositive of the original statement, which is logically equivalent to it.%
\item{}We do not know. This is the converse of the original statement. In particular, if the square is not blue but the triangle is green, then the original statement is true but the converse is false.%
\item{}True. This is logically equivalent to the original statement.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.6}{}{p:exercise:AFU}%
\hypertarget{g:solution:idm1435-back}~~%
The only way for an implication \(P\imp Q\) to be true but its converse to be false is for \(Q\) to be true and \(P\) to be false. Thus:%
\begin{enumerate}[label=(\alph*)]
\item{}False.%
\item{}True.%
\item{}False.%
\item{}True.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.7}{}{p:exercise:gNd}%
\hypertarget{g:solution:idm1575-back}~~%
The converse is ``If I will give you magic beans, then you will give me a cow.'' The contrapositive is ``If I will not give you magic beans, then you will not give me a cow.'' All the other statements are neither the converse nor contrapositive.%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.9}{}{p:exercise:tbv}%
\hypertarget{g:solution:idm1779-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Equivalent to the converse.%
\item{}Equivalent to the original theorem.%
\item{}Equivalent to the converse.%
\item{}Equivalent to the original theorem.%
\item{}Equivalent to the original theorem.%
\item{}Equivalent to the converse.%
\item{}Equivalent to the converse.%
\item{}Equivalent to the original theorem.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.10}{}{p:exercise:ZiE}%
\hypertarget{p:solution:fHK-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}If you have lost weight, then you exercised.%
\item{}If you exercise, then you will lose weight.%
\item{}If you are American, then you are patriotic.%
\item{}If you are patriotic, then you are American.%
\item{}If a number is rational, then it is real.%
\item{}If a number is not even, then it is prime. (Or the contrapositive: if a number is not prime, then it is even.)%
\item{}If the Broncos don't win the Super Bowl, then they didn't play in the Super Bowl. Alternatively, if the Broncos play in the Super Bowl, then they will win the Super Bowl.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.12}{}{p:exercise:lwW}%
\hypertarget{g:solution:idm1940-back}~~%
\(P(5)\) is the statement ``\(3\cdot 5 + 1\) is even'', which is true. Thus the statement \(\exists x P(x)\) is true (for example, 5 is such an \(x\)). However, we cannot tell anything about \(\forall x P(x)\) since we do not know the truth value of \(P(x)\) for \emph{all} elements of the domain of discourse. In this case, \(\forall x P(x)\) happens to be false (since \(P(4)\) is false, for example).%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.14}{}{p:exercise:xLo}%
\hypertarget{g:solution:idm2107-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}The claim that \(\forall x P(x)\) means that \(P(n)\) is true no matter what \(n\) you consider in the domain of discourse. Thus the only way to prove that \(\forall x P(x)\) is true is to check or otherwise argue that \(P(n)\) is true for all \(n\) in the domain.%
\item{}To prove \(\forall x P(x)\) is false all you need is one example of an element in the domain for which \(P(n)\) is false. This is often called a counterexample.%
\item{}We are simply claiming that there is some element \(n\) in the domain of discourse for which \(P(n)\) is true. If you can find one such element, you have verified the claim.%
\item{}Here we are claiming that no element we find will make \(P(n)\) true. The only way to be sure of this is to verify that \emph{every} element of the domain makes \(P(n)\) false. Note that the level of proof needed for this statement is the same as to prove that \(\forall x P(x)\) is true.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.15}{}{p:exercise:dSx}%
\hypertarget{g:solution:idm2295-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\forall x \exists y P(x,y)\) is false because when \(x = 4\text{,}\) there is no \(y\) which makes \(P(4,y)\) true.%
\item{}\(\forall y \exists x P(x,y)\) is true. No matter what \(y\) is (i.e., no matter what column we are in) there is some \(x\) for which \(P(x,y)\) is true. In fact, we can always take \(x\) to be \(3\text{.}\)%
\item{}\(\exists x \forall y P(x,y)\) is true. In particular \(x=3\) is such a number, so that no matter what \(y\) is, \(P(x,y)\) is true.%
\item{}\(\exists y \forall x P(x,y)\) is false. In fact, no matter what \(y\) (column) we look at, there is always some \(x\) (row) which makes \(P(x,y)\) false.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.16}{}{p:exercise:JZG}%
\hypertarget{p:solution:Eku-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\neg \exists x (E(x) \wedge O(x))\).%
\item{}\(\forall x (E(x) \imp O(x+1))\).%
\item{}\(\exists x(P(x) \wedge E(x))\) (where \(P(x)\) means ``\(x\) is prime'').%
\item{}\(\forall x \forall y \exists z(x \lt z \lt y \vee y \lt z \lt x)\).%
\item{}\(\forall x \neg \exists y (x \lt y \lt x+1)\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.2.17}{}{p:exercise:qgP}%
\hypertarget{p:solution:krD-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Any even number plus 2 is an even number.%
\item{}For any \(x\) there is a \(y\) such that \(\sin(x) = y\). In other words, every number \(x\) is in the domain of sine.%
\item{}For every \(y\) there is an \(x\) such that \(\sin(x) = y\). In other words, every number \(y\) is in the range of sine (which is false).%
\item{}For any numbers, if the cubes of two numbers are equal, then the numbers are equal.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 0.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.3.1}{}{p:exercise:AUc}%
\hypertarget{g:solution:idm3364-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\{1, 3, 4, 6, 9, 10\}\text{.}\)%
\item{}\(\{1\}\text{.}\)%
\item{}\(\{4,9\}\text{.}\)%
\item{}\(\{3, 6, 10\}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.2}{}{p:exercise:hbl}%
\hypertarget{g:solution:idm3472-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is the set \(\{3, 4, 5, \ldots \}\) since we need each element to be a natural number whose square is at least three more than 2. Since \(3^2 - 3 = 6\) but \(2^2 - 3 = 1\) we see that the first such natural number is 3.%
\item{}We get the same set as we did in the previous part, and the smallest non-negative number for which \(n^2 - 5\) is a natural numbers is 3.%
\par
Note that if we didn't specify \(n \in \N\) then any integer less than \(-3\) would also be in the set, so there would not be a least element.%
\item{}This is the set \(\{1, 2, 5, 10, \ldots\}\text{,}\) namely the set of numbers that are the \emph{result} of squaring and adding 1 to a natural number. (\(0^2 + 1 = 1\text{,}\) \(1^2 + 1 = 2\text{,}\) \(2^2 + 1 = 5\) and so on.) Thus the least element of the set is 1.%
\item{}Now we are looking for natural numbers that are equal to taking some natural number, squaring it and adding 1. That is, \(\{1, 2, 5, 10, \ldots\}\text{,}\) the same set as the previous part. So again, the least element is 1.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.3}{}{p:exercise:Niu}%
\hypertarget{g:solution:idm3571-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}34. Note that \(37-4 = 33\text{,}\) but this calculation would not include 4 itself.%
\item{}103. Again, you could compute this by \(100-(-2)+1\text{,}\) or simply count: 100 numbers from 1 through 100, plus -2, -1, and 0.%
\item{}8. There are 8 primes not greater than 20: \(\{2, 3, 5, 7, 11, 13, 17, 19\}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.4}{}{p:exercise:tpD}%
\hypertarget{g:solution:idm3612-back}~~%
\(\{2,4\}\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.5}{}{p:exercise:ZwM}%
\hypertarget{g:solution:idm3644-back}~~%
\(\{1,2,3,4,5,6,8,10\}\)%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.6}{}{p:exercise:FDV}%
\hypertarget{g:solution:idm3677-back}~~%
11.%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.7}{}{p:exercise:lLe}%
\hypertarget{g:solution:idm3727-back}~~%
There will be exactly 4 such sets: \(\{2, 3, 4\}\text{,}\) \(\{1,2,3,4\}\text{,}\) \(\{2,3,4,5\}\) and \(\{1,2,3,4,5\}\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.8}{}{p:exercise:RSn}%
\hypertarget{g:solution:idm3819-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(A \cap B = \{3,4,5\}\text{.}\)%
\item{}\(A \cup B = \{1,2,3,4,5,6,7\}\text{.}\)%
\item{}\(A \setminus B = \{1,2\}\text{.}\)%
\item{}\(A \cap \overline{(B \cup C)} = \{1\}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.9}{}{p:exercise:xZw}%
\hypertarget{g:solution:idm3896-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(A \cap B\) will be the set of natural numbers that are both at least 4 and less than 12, and even. That is, \(A \cap B = \{x \in \N \st 4\le x \lt 12 \wedge x \text{ is even}\} = \{4, 6, 8, 10\}\text{.}\)%
\item{}\(A \setminus B\) is the set of all elements that are in \(A\) but not \(B\text{.}\) So this is \(\{x \in \N \st 4 \le x \lt 12 \wedge x \text{ is odd}\} = \{5,7,9,11\}\text{.}\)%
\par
Note this is the same set as \(A \cap \overline{B}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.11}{}{p:exercise:KnO}%
\hypertarget{p:solution:muY-back}~~%
For example, \(A = \{2,3,5,7,8\}\) and \(B = \{3,5\}\).%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.12}{}{p:exercise:quX}%
\hypertarget{p:solution:SCh-back}~~%
For example, \(A = \{1,2,3\}\) and \(B = \{1,2,3,4,5,\{1,2,3\}\}\)%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.13}{}{p:exercise:WCg}%
\hypertarget{p:solution:yJq-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}No.%
\item{}No.%
\item{}\(2\Z \cap 3\Z\) is the set of all integers which are multiples of both 2 and 3 (so multiples of 6). Therefore \(2\Z \cap 3\Z = \{x \in \Z \st \exists y\in \Z(x = 6y)\}\).%
\item{}\(2\Z \cup 3\Z\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.15}{}{p:exercise:iQy}%
\hypertarget{p:solution:KXI-back}~~%
%
\begin{multicols}{2}
\begin{enumerate}[label=(\alph*)]
\item{}\(A \cup \bar B\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[fill=gray!50, scale=.5]
    \fill \circleA;
      \begin{scope}
      \clip \circleB \twosetbox;
      \fill \twosetbox;
      \end{scope}
      \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
    \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\(\bar{(A \cup B)}\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
              \begin{tikzpicture}[scale=.5, fill=gray!50]
  \fill \twosetbox;
  \fill[white] \circleA \circleB;
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \twosetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\(A \cap (B \cup C)\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
              \begin{tikzpicture}[fill=gray!50, scale=.5]
\begin{scope}
  \clip \circleA;
  \fill \circleB \circleC;
\end{scope}
\draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\((A \cap B) \cup C\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[fill=gray!50, scale=.5]
  \begin{scope}
    \clip \circleA;
    \fill \circleB;
  \end{scope}
  \fill \circleC;
  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\(\bar A \cap B \cap \bar C\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[fill=gray!50, scale=.5]
  \fill \circleB;
  \begin{scope}
    \clip \circleB;
    \fill[white] \circleA \circleC;
  \end{scope}

  \draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
  \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\((A \cup B) \setminus C\):%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[fill=gray!50, scale=.5]
\fill \circleA;
\fill \circleB;
\fill[white] \circleC;
\draw[thick] \circleA \circleAlabel \circleB \circleBlabel \circleC \circleClabel \threesetbox;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{enumerate}
\end{multicols}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.17}{}{p:exercise:veQ}%
\hypertarget{p:solution:reR-back}~~%
%
\begin{align*}
\pow(A) = \{\amp \emptyset, \{a\}, \{b\}, \{c\}, \{d\}, \{a,b\}, \{a,c\}, \{a,d\}, \{b,c\}, \{b,d\},\\
\amp \{c,d\} \{a,b,c\}, \{a,b,d\}, \{a,c,d\}, \{b,c,d\}, \{a,b,c,d\}\}\text{.}
\end{align*}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.20}{}{p:exercise:nAr}%
\hypertarget{p:solution:jAs-back}~~%
For example, \(A = \{1,2,3,4\}\) and \(B = \{5,6,7,8,9\}\) gives \(A \cup B = \{1,2,3,4,5,6,7,8,9\}\).%
\end{divisionsolution}%
\begin{divisionsolution}{0.3.28}{}{p:exercise:kFL}%
\hypertarget{p:solution:PHB-back}~~%
We need to be a little careful here.  If \(B\) contains 3 elements, then \(A\) contains just the number 3 (listed twice).  So that would make \(|A| = 1\), which would make \(B = \{1, 3\}\), which only has 2 elements.  Thus \(|B| \ne 3\).  This means that \(|A| = 2\), so \(B\) contains at least the elements 1 and 2.  Since \(\card{B} \ne 3\), we must have \(\card{B} = 2\), which agrees with the definition of \(B\).%
\par
Therefore it must be that \(A = \{2,3\}\) and \(B = \{1, 2\}\)%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 0.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{0.4.1}{}{p:exercise:blM}%
\hypertarget{g:solution:idm5033-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(f(1) = 4\text{,}\) since \(4\) is the number below 1 in the two-line notation.%
\item{}Such an \(n\) is \(n= 2\text{,}\) since \(f(2) = 1\text{.}\) Note that 2 is above a 1 in the notation.%
\item{}\(n = 4\) has this property. We say that 4 is a fixed point of \(f\text{.}\) Not all functions have such a point.%
\item{}Such an element is 2 (in fact, that is the only element in the codomain that is not in the range). In other words, 2 is not the image of any element under \(f\text{;}\) nothing is sent to 2.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.2}{}{p:exercise:HsV}%
\hypertarget{g:solution:idm5169-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is neither injective nor surjective. It is not injective because more than one element from the domain has 3 as its image. It is not surjective because there are elements of the codomain (1, 2, 4, and 5) that are not images of anything from the domain.%
\item{}This is a bijection. Every element in the codomain is the image of \emph{exactly} one element of the domain.%
\item{}This is a bijection. Note that we can write this function in two line notation as \(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{5 \amp 4 \amp 3 \amp 2 \amp 1}\text{.}\)%
\item{}In two line notation, this function is \(f = \twoline{1 \amp 2 \amp 3 \amp 4 \amp 5}{1 \amp 1 \amp 2 \amp 2 \amp 3}\text{.}\) From this we can quickly see it is neither injective (for example, 1 is the image of both 1 and 2) nor surjective (for example, 4 is not the image of anything).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.5}{}{p:exercise:zOw}%
\hypertarget{g:solution:idm5411-back}~~%
There are 8 functions, including 6 surjective and zero injective funtions.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.7}{}{p:exercise:McO}%
\hypertarget{p:solution:vOx-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is not injective, since \(f(2) = f(5)\); two different inputs have the same output.%
\item{}\(f\) is surjective, since every element of the codomain is an element of the range.%
\item{}\(f=\begin{pmatrix}1 \amp 2 \amp 3 \amp 4 \amp 5 \\ 3 \amp 2 \amp 4 \amp 1 \amp 2\end{pmatrix}\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.9}{}{p:exercise:Yrg}%
\hypertarget{g:solution:idm5569-back}~~%
\(f(10) = 1024\text{.}\) To find \(f(10)\text{,}\) we need to know \(f(9)\text{,}\) for which we need \(f(8)\text{,}\) and so on. So build up from \(f(0) = 1\text{.}\) Then \(f(1) = 2\text{,}\) \(f(2) = 4\text{,}\) \(f(3) = 8\text{,}\) .... In fact, it looks like a closed formula for \(f\) is \(f(n) = 2^n\text{.}\) Later we will see how to prove this is correct.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.10}{}{p:exercise:Eyp}%
\hypertarget{g:solution:idm5658-back}~~%
For each case, you must use the recurrence to find \(f(1)\text{,}\) \(f(2)\) ... \(f(5)\text{.}\) But notice each time you just add three to the previous. We do this 5 times.%
\begin{enumerate}[label=(\alph*)]
\item{}\(f(5) = 15\text{.}\)%
\item{}\(f(5) = 16\text{.}\)%
\item{}\(f(5) = 17\text{.}\)%
\item{}\(f(5) = 115\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.12}{}{p:exercise:QMH}%
\hypertarget{p:solution:ojY-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is injective, but not surjective (since 0, for example, is never an output).%
\item{}\(f\) is injective and surjective. Unlike in the previous question, every integers is an output (of the integer 4 less than it).%
\item{}\(f\) is injective, but not surjective (10 is not 8 less than a multiple of 5, for example).%
\item{}\(f\) is not injective, but is surjective. Every integer is an output (of twice itself, for example) but some integers are outputs of more than one input: \(f(5) = 3 = f(6)\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.13}{}{p:exercise:wTQ}%
\hypertarget{p:solution:Urh-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is not injective. To prove this, we must simply find two different elements of the domain which map to the same element of the codomain. Since \(f(\{1\}) = 1\) and \(f(\{2\}) = 1\), we see that \(f\) is not injective.%
\item{}\(f\) is not surjective. The largest subset of \(A\) is \(A\) itself, and \(|A| = 10\). So no natural number greater than 10 will ever be an output.%
\item{}\(f\inv(1) = \{\{1\}, \{2\}, \{3\}, \ldots \{10\}\}\) (the set of all the singleton subsets of \(A\)).%
\item{}\(f\inv(0) = \{\emptyset\}\). Note, it would be wrong to write \(f\inv(0) = \emptyset\) - that would claim that there is no input which has 0 as an output.%
\item{}\(f\inv(12) = \emptyset\), since there are no subsets of \(A\) with cardinality 12.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.16}{}{p:exercise:ppr}%
\hypertarget{p:solution:Ayq-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(|f\inv(3)| \le 1\). In other words, either \(f\inv(3)\) is the empty set or is a set containing exactly one element. Injective functions cannot have two elements from the domain both map to 3.%
\item{}\(|f\inv(3)| \ge 1\). In other words, \(f\inv(3)\) is a set containing at least one elements, possibly more. Surjective functions must have something map to 3.%
\item{}\(|f\inv(3)| = 1\). There is exactly one element from \(X\) which gets mapped to 3, so \(f\inv(3)\) is the set containing that one element.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.17}{}{p:exercise:VwA}%
\hypertarget{p:solution:gFz-back}~~%
\(X\) can really be any set, as long as \(f(x) = 0\) or \(f(x) = 1\) for every \(x \in X\). For example, \(X = \N\) and \(f(n) = 0\) works.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.21}{}{p:exercise:tZk}%
\hypertarget{p:solution:sTR-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(f\) is injective.%
\begin{proofptx}{}{p:proof:Zba}
Let \(x\) and \(y\) be elements of the domain \(\Z\). Assume \(f(x) = f(y)\). If \(x\) and \(y\) are both even, then \(f(x) = x+1\) and \(f(y) = y+1\). Since \(f(x) = f(y)\), we have \(x + 1 = y + 1\) which implies that \(x = y\). Similarly, if \(x\) and \(y\) are both odd, then \(x - 3 = y-3\) so again \(x = y\). The only other possibility is that \(x\) is even an \(y\) is odd (or visa-versa). But then \(x + 1\) would be odd and \(y - 3\) would be even, so it cannot be that \(f(x) = f(y)\). Therefore if \(f(x) = f(y)\) we then have \(x = y\), which proves that \(f\) is injective.%
\end{proofptx}
\item{}\(f\) is surjective.%
\begin{proofptx}{}{p:proof:Fij}
Let \(y\) be an element of the codomain \(\Z\). We will show there is an element \(n\) of the domain (\(\Z\)) such that \(f(n) = y\). There are two cases: First, if \(y\) is even, then let \(n = y+3\). Since \(y\) is even, \(n\) is odd, so \(f(n) = n-3 = y+3-3 = y\) as desired. Second, if \(y\) is odd, then let \(n = y-1\). Since \(y\) is odd, \(n\) is even, so \(f(n) = n+1 = y-1+1 = y\) as needed. Therefore \(f\) is surjective.%
\end{proofptx}
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.22}{}{p:exercise:agt}%
\hypertarget{p:solution:lps-back}~~%
Yes, this is a function, if you choose the domain and codomain correctly. The domain will be the set of students, and the codomain will be the set of possible grades. The function is almost certainly not injective, because it is likely that two students will get the same grade. The function might be surjective \textendash{} it will be if there is at least one student who gets each grade.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.24}{}{p:exercise:muL}%
\hypertarget{p:solution:RwB-back}~~%
This is not a function.%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.25}{}{p:exercise:SBU}%
\hypertarget{p:solution:xDK-back}~~%
The recurrence relation is \(f(n+1) = f(n) + n\).%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.26}{}{p:exercise:yJd}%
\hypertarget{p:solution:JSc-back}~~%
In general, \(\card{A} \ge \card{f(A)}\), since you cannot get more outputs than you have inputs (each input goes to exactly one output), but you could have fewer outputs if the function is not injective. If the function is injective, then \(\card{A} = \card{f(A)}\), although you can have equality even if \(f\) is not injective (it must be injective \emph{restricted} to \(A\)).%
\end{divisionsolution}%
\begin{divisionsolution}{0.4.27}{}{p:exercise:eQm}%
\hypertarget{p:solution:pZl-back}~~%
In general, there is no relationship between \(\card{B}\) and \(\card{f\inv(B)}\). This is because \(B\) might contain elements that are not in the range of \(f\), so we might even have \(f\inv(B) = \emptyset\). On the other hand, there might be lots of elements from the domain that all get sent to a few elements in \(B\), making \(f\inv(B)\) larger than \(B\).%
\par
More specifically, if \(f\) is injective, then \(\card{B} \ge \card{f\inv(B)}\) (since every element in \(B\) must come from at most one element from the domain). If \(f\) is surjective, then \(\card{B} \le \card{f\inv(B)}\) (since every element in \(B\) must come from at least one element of the domain). Thus if \(f\) is bijective then \(\card{B} = \card{f\inv(B)}\).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.1.1}{}{p:exercise:Abr}%
\hypertarget{g:solution:idm6684-back}~~%
There are 255 outfits. Use the multiplicative principle.%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.2}{}{p:exercise:giA}%
\hypertarget{g:solution:idm6743-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}8 ties. Use the additive principle.%
\item{}15 ties. Use the multiplicative principle%
\item{}\(5\cdot (4+3) + 7 = 42\) outfits.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.3}{}{p:exercise:MpJ}%
\hypertarget{p:solution:umf-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}For example, 16 is the number of choices you have if you want to watch one movie, either a comedy or horror flick.%
\item{}For example, 63 is the number of choices you have if you will watch two movies, first a comedy and then a horror.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.5}{}{p:exercise:YEb}%
\hypertarget{g:solution:idm6905-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}To maximize the number of elements in common between \(A\) and \(B\text{,}\) make \(A \subset B\text{.}\) This would give \(\card{A \cap B} = 10\text{.}\)%
\item{}\(A\) and \(B\) might have no elements in common, giving \(\card{A\cap B} = 0\text{.}\)%
\item{}\(15 \le \card{A \cup B} \le 25\text{.}\) In fact, when \(\card{A \cap B} = 0\) then \(\card{A \cup B} = 25\) and when \(\card{A \cap B} = 10\) then \(\card{A \cup B} = 15\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.6}{}{p:exercise:ELk}%
\hypertarget{g:solution:idm6956-back}~~%
\(\card{A \cup B} + \card{A \cap B} = 13\text{.}\) Use PIE: we know \(\card{A \cup B} = 8 + 5 - \card{A \cap B}\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.7}{}{p:exercise:kSt}%
\hypertarget{g:solution:idm7001-back}~~%
39 students. Use Venn diagram or PIE: \(28 + 19 + 24 - 16 - 14 - 10 + 8 = 39\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.8}{}{p:exercise:QZC}%
\hypertarget{g:solution:idm7029-back}~~%
6 students \emph{don't} like potatoes.%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.9}{}{p:exercise:xgL}%
\hypertarget{g:solution:idm7066-back}~~%
215 values of \(n\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.1.12}{}{p:exercise:pCm}%
\hypertarget{g:solution:idm7214-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(8^5 = 32768\) words.%
\item{}\(8\cdot 7\cdot 6\cdot 5\cdot 4 = 6720\) words.%
\item{}\(8 \cdot 8 =64\) words.%
\item{}\(64 + 64 - 0 = 128\) words.%
\item{}\((8\cdot 7\cdot 6\cdot 5\cdot 4) - 3\cdot (5\cdot 4) = 6660\) words.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.2.1}{}{p:exercise:Ubz}%
\hypertarget{g:solution:idm7674-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(2^6 = 64\) subsets. We need to select yes\slash{}no for each of the six elements.%
\item{}\(2^3 = 8\) subsets. We need to select yes\slash{}no for each of the remaining three elements.%
\item{}\(2^6 - 2^3 = 56\) subsets. There are 8 subsets which do not contain any odd numbers (select yes\slash{}no for each even number).%
\item{}\(3\cdot 2^3 = 24\) subsets. First pick the even number. Then say yes or no to each of the odd numbers.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.2}{}{p:exercise:AiI}%
\hypertarget{g:solution:idm7765-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({6\choose 4} = 15\) subsets.%
\item{}\({3 \choose 1} = 3\) subsets. We need to select 1 of the 3 remaining elements to be in the subset.%
\item{}\({6 \choose 4} = 15\) subsets. All subsets of cardinality 4 must contain at least one odd number.%
\item{}\({3 \choose 1} = 3\) subsets. Select 1 of the 3 even numbers. The remaining three odd numbers of \(S\) must all be in the set.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.3}{}{p:exercise:gpR}%
\hypertarget{g:solution:idm7871-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}There are \(512\) subsets.%
\item{}\({9 \choose 5} = 126\text{.}\)%
\item{}\(2^4 = 16\text{.}\) (Note, if you wish to exclude the empty set - it does not contain odd numbers, but no evens either - then you could subtract 1).%
\item{}\(256\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.4}{}{p:exercise:Mxa}%
\hypertarget{g:solution:idm7969-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(2^6 = 64\text{.}\)%
\item{}\({6 \choose 3} = 20\text{.}\)%
\item{}176.%
\item{}51.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.5}{}{p:exercise:sEj}%
\hypertarget{g:solution:idm8038-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}We will need \(6\cdot 20 = 120\) coins (60 of each).%
\item{}We need \(6 \cdot 64 = 384\) coins (192 of each).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.6}{}{p:exercise:YLs}%
\hypertarget{g:solution:idm8075-back}~~%
\({10 \choose 6} + {10\choose 7} + {10\choose 8} + {10 \choose 9} + {10\choose 10} = 386\) strings.%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.9}{}{p:exercise:RgT}%
\hypertarget{g:solution:idm8167-back}~~%
\({14\choose 9} + {15 \choose 6}2^9\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.10}{}{p:exercise:xoc}%
\hypertarget{g:solution:idm8231-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({14 \choose 7} = 3432\) paths.%
\item{}\({6 \choose 2}{8\choose 5} = 840\) paths.%
\item{}\({14 \choose 7} - {6\choose 2}{8 \choose 5}\) paths.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.11}{}{p:exercise:dvl}%
\hypertarget{p:solution:fky-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({18 \choose 9}\).%
\item{}\(\binom{12}{7}\binom{6}{2}\).%
\item{}\({18 \choose 9} - {3 \choose 1}{14 \choose 8}\)%
\item{}\({3\choose 1}{15 \choose 8} + {12 \choose 7}{6 \choose 2} - {3\choose 1}{9 \choose 6}{6 \choose 2}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.2.12}{}{p:exercise:JCu}%
\hypertarget{g:solution:idm8344-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({11 \choose 3} = 165\) choices, since you have to select a 3-element subset of the set of 11 toppings.%
\item{}\({10 \choose 3} = 120\) choices, since you must select 3 of the 10 non-pineapple toppings.%
\item{}\({10 \choose 2} = 45\) choices, since you must select 2 of the remaining 10 non-pineapple toppings to have in addition to the pineapple.%
\item{}\(165 = 120 + 45\) choices, which makes sense because every 3-topping pizza either has pineapple or does not have pineapple as a topping.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.3.1}{}{p:exercise:TyW}%
\hypertarget{g:solution:idm8638-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({10 \choose 3} = 120\) pizzas. We must choose (in no particular order) 3 out of the 10 toppings.%
\item{}\(2^{10} = 1024\) pizzas. Say yes or no to each topping.%
\item{}\(P(10,5) = 30240\) ways. Assign each of the 5 spots in the left column to a unique pizza topping.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.2}{}{p:exercise:zGf}%
\hypertarget{g:solution:idm8679-back}~~%
Despite its name, we are not looking for a combination here. The order in which the three numbers appears matters. There are \(P(40,3) = 40\cdot 39 \cdot 38\) different possibilities for the ``combination''. This is assuming you cannot repeat any of the numbers (if you could, the answer would be \(40^3\)).%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.3}{}{p:exercise:fNo}%
\hypertarget{g:solution:idm8756-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is just the multiplicative principle. There are 7 digits which we can select for each of the 5 positions, so we have \(7^5 = 16807\) such numbers.%
\item{}Now we have 7 choices for the first number, 6 for the second, etc. So there are \(7 \cdot 6 \cdot 5 \cdot 4 \cdot 3 = P(7,5) = 2520\) such numbers.%
\item{}To build such a number we simply must select 5 different digits. After doing so, there will only be one way to arrange them into a 5-digit number. Thus there are \({7 \choose 5} = 21\) such numbers.%
\item{}The permutation is in part (b), while the combination is in part (c). At first this seems backwards, since usually we use combinations for when order does not matter. Here it looks like in part (c) that order does matter. The better way to distinguish between combinations and permutations is to ask whether we are counting different arrangements as different outcomes. In part (c), there is only one arrangement of any set of 5 digits, while in part (b) each set of 5 digits gives \(5!\) different outcomes.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.5}{}{p:exercise:sbG}%
\hypertarget{g:solution:idm8867-back}~~%
You can make \({7\choose 2}{7\choose 2} = 441\) quadrilaterals.%
\par
There are 5 squares.%
\par
There are \({7 \choose 2}\) rectangles.%
\par
There are \({7 \choose 2} + ({7 \choose 2}-1) + ({7 \choose 2} - 3) + ({7 \choose 2} - 6) + ({7 \choose 2} - 10) + ({7 \choose 2} - 15) = 91\) parallelograms.%
\par
All of the quadrilaterals are trapezoids. To count the non-parallelogram trapezoids, compute \({7\choose 2}{7\choose 2} - \left[ {7 \choose 2} + ({7 \choose 2}-1) + ({7 \choose 2} - 3) + ({7 \choose 2} - 6) + ({7 \choose 2} - 10) + ({7 \choose 2} - 15) \right]\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.6}{}{p:exercise:YiP}%
\hypertarget{p:solution:Gfl-back}~~%
120.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.7}{}{p:exercise:EpY}%
\hypertarget{g:solution:idm8921-back}~~%
Since there are 15 different letters, we have 15 choices for the first letter, 14 for the next, and so on. Thus there are \(15!\) anagrams.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.8}{}{p:exercise:kxh}%
\hypertarget{g:solution:idm8962-back}~~%
There are \({7 \choose 2} = 21\) anagrams starting with ``a''.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.9}{}{p:exercise:QEq}%
\hypertarget{g:solution:idm9008-back}~~%
First, decide where to put the ``a''s. There are 7 positions, and we must choose 3 of them to fill with an ``a''. This can be done in \({7 \choose 3}\) ways. The remaining 4 spots all get a different letter, so there are \(4!\) ways to finish off the anagram. This gives a total of \({7 \choose 3}\cdot 4!\) anagrams. Strangely enough, this is 840, which is also equal to \(P(7,4)\text{.}\) To get the answer that way, start by picking one of the 7 \emph{positions} to be filled by the ``n'', one of the remaining 6 positions to be filled by the ``g'', one of the remaining 5 positions to be filled by the ``r'', one of the remaining 4 positions to be filled by the ``m'' and then put ``a''s in the remaining 3 positions.%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.10}{}{p:exercise:wLz}%
\hypertarget{g:solution:idm9077-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({20 \choose 4}{16 \choose 4}{12 \choose 4}{8 \choose 4}{4 \choose 4}\) ways.%
\item{}\(5!{15 \choose 3}{12 \choose 3}{9 \choose 3}{6 \choose 3}{3 \choose 3}\) ways.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.11}{}{p:exercise:cSI}%
\hypertarget{g:solution:idm9119-back}~~%
\(9!\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.12}{}{p:exercise:IZR}%
\hypertarget{g:solution:idm9184-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(17^{10}\) functions. There are 17 choices for the image of each element in the domain.%
\item{}\(P(17, 10)\) injective functions. There are 17 choices for image of the first element of the domain, then only 16 choices for the second, and so on.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.3.13}{}{p:exercise:pha}%
\hypertarget{g:solution:idm9265-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(6^4 = 1296\) functions.%
\item{}\(P(6, 4) = 6 \cdot 5 \cdot 4 \cdot 3 = 360\) functions.%
\item{}\({6 \choose 4} = 15\) functions.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.4.1}{}{p:exercise:wEI}%
\hypertarget{p:solution:eBe-back}~~%
\begin{proofptx}{}{p:proof:KIn}
Question: How many 2-letter words start with \emph{a}, \emph{b}, or \emph{c} and end with either \emph{y} or \emph{z}?%
\par
Answer 1: There are two words that start with \emph{a}, two that start with \emph{b}, two that start with \emph{c}, for a total of \(2+2+2\).%
\par
Answer 2: There are three choices for the first letter and two choices for the second letter, for a total of \(3 \cdot 2\).%
\par
Since the two answers are both answers to the same question, they are equal. Thus \(2 + 2 + 2 = 3\cdot 2\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{1.4.5}{}{x:exercise:exc-bridesmaids}%
\hypertarget{p:solution:DdO-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}She has \({15 \choose 6}\) ways to select the 6 bridesmaids, and then for each way, has 6 choices for the maid of honor. Thus she has \({15 \choose 6}6\) choices.%
\item{}She has 15 choices for who will be her maid of honor. Then she needs to select 5 of the remaining 14 friends to be bridesmaids, which she can do in \({14 \choose 5}\) ways. Thus she has \(15 {14 \choose 5}\) choices.%
\item{}We have answered the question (how many wedding parties can the bride choose from) in two ways. The first way gives the left-hand side of the identity and the second way gives the right-hand side of the identity. Therefore the identity holds.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.4.7}{}{p:exercise:hvK}%
\hypertarget{p:solution:Psg-back}~~%
\begin{proofptx}{}{p:proof:bGy}
Question: You have a large container filled with ping-pong balls, all with a different number on them. You must select \(k\) of the balls, putting two of them in a jar and the others in a box. How many ways can you do this?%
\par
Answer 1: First select 2 of the \(n\) balls to put in the jar. Then select \(k-2\) of the remaining \(n-2\) balls to put in the box. The first task can be completed in \({n \choose 2}\) different ways, the second task in \({n-2 \choose k-2}\) ways. Thus there are \({n \choose 2}{n-2 \choose k-2}\) ways to select the balls.%
\par
Answer 2: First select \(k\) balls from the \(n\) in the container. Then pick 2 of the \(k\) balls you picked to put in the jar, placing the remaining \(k-2\) in the box. The first task can be completed in \({n \choose k}\) ways, the second task in \({k \choose 2}\) ways. Thus there are \({n \choose k}{k \choose 2}\) ways to select the balls.%
\par
Since both answers count the same thing, they must be equal and the identity is established.%
\end{proofptx}
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.5\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.5.1}{}{p:exercise:SfI}%
\hypertarget{g:solution:idm10192-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({10\choose 5}\) sets. We must select 5 of the 10 digits to put in the set.%
\item{}Use stars and bars: each star represents one of the 5 elements of the set, each bar represents a switch between digits. So there are 5 stars and 9 bars, giving us \({14 \choose 9}\) sets.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.2}{}{p:exercise:ymR}%
\hypertarget{g:solution:idm10255-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}There are \({7 \choose 5}\) numbers. We simply choose five of the seven digits and once chosen put them in increasing order.%
\item{}This requires stars and bars. Use a star to represent each of the 5 digits in the number, and use their position relative to the bars to say what numeral fills that spot. So we will have 5 stars and 6 bars, giving \({11 \choose 6}\) numbers.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.3}{}{p:exercise:eua}%
\hypertarget{p:solution:TUV-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}You take 3 strawberry, 1 lime, 0 licorice, 2 blueberry and 0 bubblegum.%
\item{}This is backwards. We don't want the stars to represent the kids because the kids are not identical, but the stars are. Instead we should use 5 stars (for the lollipops) and use 5 bars to switch between the 6 kids. For example,%
\begin{equation*}
**||***|||
\end{equation*}
would represent the outcome with the first kid getting 2 lollipops, the third kid getting 3, and the rest of the kids getting none.%
\item{}This is the word AAAEOO.%
\item{}This doesn't represent a solution. Each star should represent one of the 6 units that add up to 6, and the bars should \emph{switch} between the different variables. We have one too many bars. An example of a correct diagram would be%
\begin{equation*}
*|**||***\text{,}
\end{equation*}
representing that \(x_1 = 1\), \(x_2 = 2\), \(x_3 = 0\), and \(x_4 = 3\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.4}{}{p:exercise:KBj}%
\hypertarget{g:solution:idm10344-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({18 \choose 4}\) ways. Each outcome can be represented by a sequence of 14 stars and 4 bars.%
\item{}\({13 \choose 4}\) ways. First put one ball in each bin. This leaves 9 stars and 4 bars.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.5}{}{p:exercise:qIs}%
\hypertarget{g:solution:idm10446-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({7 \choose 2}\) solutions. After each variable gets 1 star for free, we are left with 5 stars and 2 bars.%
\item{}\({10 \choose 2}\) solutions. We have 8 stars and 2 bars.%
\item{}\({19 \choose 2}\) solutions. This problem is equivalent to finding the number of solutions to \(x' + y' + z' = 17\) where \(x'\text{,}\) \(y'\) and \(z'\) are non-negative. (In fact, we really just do a substitution. Let \(x = x'- 3\text{,}\) \(y = y' - 3\) and \(z = z' - 3\)).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.6}{}{p:exercise:WPB}%
\hypertarget{g:solution:idm10492-back}~~%
\({10 \choose 5}\) outcomes.%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.7}{}{p:exercise:CWK}%
\hypertarget{g:solution:idm10522-back}~~%
There are \({10 \choose 3} = 120\) different combinations of coins possible. Thus you have a 1 in 120 chance of guessing correctly.%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.8}{}{p:exercise:jdT}%
\hypertarget{g:solution:idm10563-back}~~%
\({18 \choose 15}\) solutions. Distribute 10 units to the variables before finding all solutions to \(x_1' + x_2' + x_3' + x_4' = 15\) in non-negative integers.%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.10}{}{p:exercise:vsl}%
\hypertarget{g:solution:idm10638-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({10 \choose 5}\text{.}\) Note that a strictly increasing function is automatically injective.%
\item{}\({14 \choose 9}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.5.11}{}{p:exercise:bzu}%
\hypertarget{g:solution:idm10727-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({20 \choose 4}\) sodas (order does not matter and repeats are not allowed).%
\item{}\(P(20, 4) = 20\cdot 19\cdot 18 \cdot 17\) sodas (order matters and repeats are not allowed).%
\item{}\({23 \choose 4}\) sodas (order does not matter and repeats are allowed; 4 stars and 19 bars).%
\item{}\(20^4\) sodas (order matters and repeats are allowed; 20 choices 4 times).%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.6\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{1.6.1}{}{p:exercise:COT}%
\hypertarget{g:solution:idm11204-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({9 \choose 3}\) meals. First spend \textdollar{}7 to buy one of each item, then use 3 stars to select items between 6 bars.%
\item{}\({16 \choose 6}\) meals. Here you have 10 stars and 6 bars (separating the 7 items).%
\item{}\({16 \choose 6} - \left[{7 \choose 1}{13 \choose 6} - {7 \choose 2}{10 \choose 6} + {7 \choose 3}{7 \choose 6}\right]\) meals. Use PIE to subtract all the meals in which you get 3 or more of a particular item.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.3}{}{p:exercise:Pdl}%
\hypertarget{g:solution:idm11255-back}~~%
\({18 \choose 4} - \left[ {5 \choose 1}{11 \choose 4} - {5 \choose 2}{4 \choose 4}\right]\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.4}{}{p:exercise:vku}%
\hypertarget{g:solution:idm11299-back}~~%
There are \({10 \choose 7} - {4\choose 1} {6 \choose 3}\) solutions.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.5}{}{p:exercise:brD}%
\hypertarget{g:solution:idm11335-back}~~%
Without any restriction, there would be \({19\choose 7}\) ways to distribute the stars. Now we must use PIE to eliminate all distributions in which one or more student gets more than one star:%
\par
%
\begin{equation*}
{19 \choose 7} - \left[{13 \choose 1}{17 \choose 5} - {13\choose 2}{15 \choose 3} + {13\choose 3}{13 \choose 1}\right] = 1716
\text{.}
\end{equation*}
%
\par
Interestingly enough, this number is also the value of \({13 \choose 7}\text{,}\) which makes sense: if each student can have at most one star, we must just pick the 7 out of 13 students to receive them.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.7}{}{p:exercise:nFV}%
\hypertarget{p:solution:pvi-back}~~%
The 9 derangements are: 2143, 2341, 2413, 3142, 3412, 3421, 4123, 4312, 4321.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.8}{}{p:exercise:TNe}%
\hypertarget{g:solution:idm11381-back}~~%
First pick one of the five elements to be fixed. For each such choice, derange the remaining four, using the standard advanced PIE formula. We get \({5 \choose 1}\left( 4! - \left[{4 \choose 1}3! - {4 \choose 2}2! + {4 \choose 3} 1! - {4 \choose 4} 0!\right] \right)\) permutations.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.9}{}{p:exercise:zUn}%
\hypertarget{g:solution:idm11411-back}~~%
\({10 \choose 6}\left(4! - \left[{4 \choose 1} 3! - {4 \choose 2}2! + {4 \choose 3}1! - {4 \choose 4}0!\right]\right)\) ways. We choose 6 of the 10 ladies to get their own hat, and the multiply by the number of ways the remaining hats can be deranged.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.11}{}{p:exercise:MiF}%
\hypertarget{g:solution:idm11466-back}~~%
There are \(5 \cdot 6^3\) functions for which \(f(1) \ne a\) and another \(5 \cdot 6^3\) functions for which \(f(2) \ne b\text{.}\) There are \(5^2 \cdot 6^2\) functions for which both \(f(1) \ne a\) and \(f(2) \ne b\text{.}\) So the total number of functions for which \(f(1) \ne a\) or \(f(2) \ne b\) or both is%
\par
%
\begin{equation*}
5 \cdot 6^3 + 5 \cdot 6^3 - 5^2 \cdot 6^2 = 1260
\text{.}
\end{equation*}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.12}{}{p:exercise:spO}%
\hypertarget{g:solution:idm11523-back}~~%
\(5^{10} - \left[{5 \choose 1}4^{10} - {5 \choose 2}3^{10} + {5 \choose 3}2^{10} - {5 \choose 4}1^{10}\right]\) functions. The \(5^{10}\) is all the functions from \(A\) to \(B\text{.}\) We subtract those that aren't surjective. Pick one of the five elements in \(B\) to not have in the range (in \({5 \choose 1}\) ways) and count all those functions (\(4^{10}\)). But this overcounts the functions where two elements from \(B\) are excluded from the range, so subtract those. And so on, using PIE.%
\end{divisionsolution}%
\begin{divisionsolution}{1.6.13}{}{p:exercise:YwX}%
\hypertarget{g:solution:idm11573-back}~~%
\(5! - \left[{5 \choose 1}4! - {5 \choose 2}3! + {5 \choose 3}2! - {5 \choose 4}1! + {5 \choose 5}0!\right]\) functions.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 1.7\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{1.7.1}{}{p:exercise:PrT}%
\hypertarget{g:solution:idm11725-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({8 \choose 5}\) ways, after giving one present to each kid, you are left with 5 presents (stars) which need to be divide among the 4 kids (giving 3 bars).%
\item{}\({12 \choose 9}\) ways. You have 9 stars and 3 bars.%
\item{}\(4^9\text{.}\) You have 4 choices for whom to give each present. This is like making a function from the set of presents to the set of kids.%
\item{}\(4^9 - \left[{4 \choose 1}3^9 - {4\choose 2}2^9 + {4 \choose 3}1^9 \right]\) ways. Now the function from the set of presents to the set of kids must be surjective.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.2}{}{p:exercise:vzc}%
\hypertarget{p:solution:OmA-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Neither. \({14 \choose 4}\) paths.%
\item{}\({10\choose 4}\) bow ties.%
\item{}\(P(10,4)\), since order is important.%
\item{}Neither. Assuming you will wear each of the 4 ties on just 4 of the 7 days, without repeats: \({10\choose 4}P(7,4)\).%
\item{}\(P(10,4)\).%
\item{}\({10\choose 4}\).%
\item{}Neither. Since you could repeat letters: \(10^4\). If no repeats are allowed, it would be \(P(10,4)\).%
\item{}Neither. Actually, ``k'' is the 11th letter of the alphabet, so the answer is 0. If ``k'' was among the first 10 letters, there would only be 1 way - write it down.%
\item{}Neither. Either \({9\choose 3}\) (if every kid gets an apple) or \({13 \choose 3}\) (if appleless kids are allowed).%
\item{}Neither. Note that this could not be \({10 \choose 4}\) since the 10 things and 4 things are from different groups. \(4^{10}\), assuming each kid eats one type of cerial.%
\item{}\({10 \choose 4}\) - don't be fooled by the ``arrange'' in there - you are picking 4 out of 10 \emph{spots} to put the 1's.%
\item{}\({10 \choose 4}\) (assuming order is irrelevant).%
\item{}Neither. \(16^{10}\) (each kid chooses yes or no to 4 varieties).%
\item{}Neither. 0.%
\item{}Neither. \(4^{10} - [{4\choose 1}3^{10} - {4\choose 2}2^{10} + {4 \choose 3}1^{10}]\).%
\item{}Neither. \(10\cdot 4\).%
\item{}Neither. \(4^{10}\).%
\item{}\({10 \choose 4}\) (which is the same as \({10 \choose 6}\)).%
\item{}Neither. If all the kids were identical, and you wanted no empty teams, it would be \({10 \choose 4}\). Instead, this will be the same as the number of surjective functions from a set of size 11 to a set of size 5.%
\item{}\({10 \choose 4}\).%
\item{}\({10 \choose 4}\).%
\item{}Neither. \(4!\).%
\item{}Neither. It's \({10 \choose 4}\) if you won't repeat any choices. If repetition is allowed, then this becomes \(x_1 + x_2 + \cdots +x_{10} = 4\), which has \({13 \choose 9}\) solutions in non-negative integers.%
\item{}Neither. Since repetition of cookie type is allowed, the answer is \(10^4\). Without repetition, you would have \(P(10,4)\).%
\item{}\({10 \choose 4}\) since that is equal to \({9 \choose 4} + {9 \choose 3}\).%
\item{}Neither. It will be a complicated (possibly PIE) counting problem.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.3}{}{p:exercise:bGl}%
\hypertarget{g:solution:idm11973-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(2^8 = 256\) choices. You have two choices for each tie: wear it or don't.%
\item{}You have 7 choices for regular ties (the 8 choices less the ``no regular tie'' option) and 31 choices for bow ties (32 total minus the ``no bow tie'' option). Thus total you have \(7 \cdot 31 = 217\) choices.%
\item{}\({3\choose 2}{5\choose 3} = 30\) choices.%
\item{}Select one of the 3 bow ties to go on top. There are then 4 choices for the next tie, 3 for the tie after that, and so on. Thus \(3\cdot 4! = 72\) choices.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.4}{}{p:exercise:HNu}%
\hypertarget{p:solution:aAS-back}~~%
You own 8 purple bow ties, \index{bow ties} 3 red bow ties, 3 blue bow ties and 5 green bow ties. How many ways can you select one of each color bow tie to take with you on a trip? \(8 \cdot 3 \cdot 3 \cdot 5\) ways. How many choices do you have for a single bow tie to wear tomorrow? \(8 + 3 + 3 + 5\) choices.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.5}{}{p:exercise:nUD}%
\hypertarget{g:solution:idm12077-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(4^5\) numbers.%
\item{}\(4^4\cdot 2\) numbers (choose any digits for the first four digits - then pick either an even or an odd last digit to make the sum even).%
\item{}We need 3 or more even digits. 3 even digits: \({5 \choose 3}2^3 2^2\text{.}\) 4 even digits: \({5 \choose 4}2^4 2\text{.}\) 5 even digits: \({5 \choose 5}2^5\text{.}\) So all together: \({5 \choose 3}2^3 2^2 + {5 \choose 4}2^4 2 + {5 \choose 5}2^5\) numbers.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.6}{}{p:exercise:UbM}%
\hypertarget{g:solution:idm12121-back}~~%
51 passengers. We are asking for the size of the union of three non-disjoint sets. Using PIE, we have \(25+30+20-10 -12-7+5 = 51\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.7}{}{p:exercise:AiV}%
\hypertarget{g:solution:idm12202-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(2^8\) strings.%
\item{}\({8 \choose 5}\) strings.%
\item{}\({8 \choose 5}\) strings.%
\item{}There is a bijection between subsets and bit strings: a 1 means that element in is the subset, a 0 means that element is not in the subset. To get a subset of an 8 element set we have a 8-bit string. To make sure the subset contains exactly 5 elements, there must be 5 1's, so the weight must be 5.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.8}{}{p:exercise:gqe}%
\hypertarget{g:solution:idm12248-back}~~%
\({13 \choose 10} + {17 \choose 8}\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.9}{}{p:exercise:Mxn}%
\hypertarget{g:solution:idm12296-back}~~%
With repeated letters allowed, we select which 5 of the 8 letters will be vowels, then pick one of the 5 vowels for each spot, and finally pick one of the other 21 letters for each of the remaining 3 spots. Thus, \({8 \choose 5}5^5 21^3\) words.%
\par
Without repeats, we still pick the positions of the vowels, but now each time we place one there, there is one fewer choice for the next one. Similarly, we cannot repeat the consonants. We get \({8 \choose 5}5!
P(21, 3)\) words.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.10}{}{p:exercise:sEw}%
\hypertarget{g:solution:idm12374-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({5 \choose 2}{11 \choose 6}\) paths.%
\item{}\({16 \choose 8} - {12 \choose 7}{4 \choose 1}\) paths.%
\item{}\({5 \choose 2}{11 \choose 6} + {12 \choose 5}{4 \choose 3} - {5 \choose 2}{7 \choose 3}{4 \choose 3}\) paths.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.11}{}{p:exercise:YLF}%
\hypertarget{g:solution:idm12414-back}~~%
\({18 \choose 8}\left({18 \choose 8} - 1\right)\) routes. For each of the \(\binom{18}{8}\) routes to work there is exactly one fewer route back.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.12}{}{p:exercise:ESO}%
\hypertarget{g:solution:idm12449-back}~~%
\(2^7 + 2^7 - 2^4\) strings (using PIE).%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.13}{}{p:exercise:kZX}%
\hypertarget{g:solution:idm12483-back}~~%
\({7 \choose 3} + {7 \choose 4} - {4 \choose 1}\) strings.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.14}{}{p:exercise:Rhg}%
\hypertarget{g:solution:idm12538-back}~~%
There are 4 spots to start the word, and then there are \(3!\) ways to arrange the other letters in the remaining three spots. Thus the number of words avoiding the sub-word ``bad'' in consecutive letters is \(6! - 4\cdot 3!\text{.}\)%
\par
If we now need to avoid words that put ``b'' before ``a'' before ``d'', we must choose which spots those letters go (in that order) and then arrange the remaining three letters. Thus, \(6! - {6 \choose 3}3!\) words.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.15}{}{p:exercise:xop}%
\hypertarget{p:solution:QbN-back}~~%
\(2^n\) is the number of lattice paths which have length \(n\), since for each step you can go up or right. Such a path would end along the line \(x + y = n\). So you will end at \((0,n)\), or \((1,n-1)\) or \((2, n-2)\) or \textellipsis{} or \((n,0)\). Counting the paths to each of these points separately, give \({n \choose 0}\), \({n \choose 1}\), \({n \choose 2}\), \textellipsis{}, \({n \choose n}\) (each time choosing which of the \(n\) steps to be to the right). These two methods count the same quantity, so are equal.%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.16}{}{p:exercise:dvy}%
\hypertarget{g:solution:idm12637-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({19 \choose 15}\) ways.%
\item{}\({24 \choose 20}\) ways.%
\item{}\({19 \choose 15} - \left[{5 \choose 1}{12 \choose 8} - {5 \choose 2}{5 \choose 1} \right]\) ways.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.17}{}{p:exercise:JCH}%
\hypertarget{g:solution:idm12759-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(5^4 + 5^4 - 5^3\) functions.%
\item{}\(4\cdot 5^4 + 5 \cdot 4 \cdot 5^3 - 4 \cdot 4 \cdot 5^3\) functions.%
\item{}\(5! - \left[ 4! + 4! - 3! \right]\) functions. Note we use factorials instead of powers because we are looking for injective functions.%
\item{}Note that being surjective here is the same as being injective, so we can start with all \(5!\) injective functions and subtract those which have one or more ``fixed point''. We get \(5! - \left[{5 \choose 1}4! - {5 \choose 2}3! + {5 \choose 3}2! - {5 \choose 4}1! + {5 \choose 5} 0!\right]\) functions.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.18}{}{p:exercise:pJQ}%
\hypertarget{g:solution:idm12812-back}~~%
\(4^6 - \left[{4 \choose 1}3^6 - {4 \choose 2}2^6 + {4 \choose 3} 1^6 \right]\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.19}{}{x:exercise:exr-cookie-counting}%
\hypertarget{g:solution:idm12907-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\({10 \choose 4}\) combinations. You need to choose 4 of the 10 cookie types. Order doesn't matter.%
\item{}\(P(10, 4) = 10 \cdot 9 \cdot 8 \cdot 7\) ways. You are choosing and arranging 4 out of 10 cookies. Order matters now.%
\item{}\({21 \choose 12}\) choices. You must switch between cookie type 9 times as you make your 12 cookies. The cookies are the stars, the switches between cookie types are the bars.%
\item{}\(10^{12}\) choices. You have 10 choices for the ``1'' cookie, 10 choices for the ``2'' cookie, and so on.%
\item{}\(10^{12} - \left[{10 \choose 1}9^{12} - {10 \choose 2}8^{12} + \cdots - {10 \choose 10}0^{12} \right]\) choices. We must use PIE to remove all the ways in which one or more cookie type is not selected.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{1.7.20}{}{p:exercise:BYi}%
\hypertarget{p:solution:ASP-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}You are giving your professor 4 types of cookies coming from 10 different types of cookies. This does not lend itself well to a function interpretation. We \emph{could} say that the domain contains the 4 types you will give your professor and the codomain contains the 10 you can choose from, but then counting injections would be too much (it doesn't matter if you pick type 3 first and type 2 second, or the other way around, just that you pick those two types).%
\item{}We want to consider injective functions from the set \(\{\)most, second most, second least, least\(\}\) to the set of 10 cookie types. We want injections because we cannot pick the same type of cookie to give most and least of (for example).%
\item{}This is not a good problem to interpret as a function. The problem is that the domain would have to be the 12 cookies you bake, but these elements are indistinguishable (there is not a first cookie, second cookie, etc.).%
\item{}The domain should be the 12 shapes, the codomain the 10 types of cookies. Since we can use the same type for different shapes, we are interested in counting all functions here.%
\item{}Here we insist that each type of cookie be given at least once, so now we are asking for the number of surjections of those functions counted in the previous part.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.1.1}{}{p:exercise:QUY}%
\hypertarget{g:solution:idm13491-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Note that if we subtract 1 from each term, we get the square numbers. Thus \(a_n = n^2 + 1\text{.}\)%
\item{}These look like the triangular numbers, only shifted by 1. We get: \(a_n = \frac{n(n+1)}{2} - 1\text{.}\)%
\item{}If you subtract 2 from each term, you get triangular numbers, only starting with 6 instead of 1. So we must shift vertically and horizontally. \(a_n = \frac{(n+2)(n+3)}{2} + 2\text{.}\)%
\item{}These seem to grow very quickly. Further, if we add 1 to each term, we find the factorials, although starting with 2 instead of 1. This gives, \(a_n = (n+1)! - 1\) (where \(n! = 1 \cdot 2 \cdot 3 \cdots n\)).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.3}{}{p:exercise:djq}%
\hypertarget{p:solution:jIw-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_0 = 0\), \(a_1 = 1\), \(a_2 = 3\), \(a_3 = 6\) \(a_4 = 10\). The sequence was described by a closed formula. These are the triangular numbers. A recursive definition is: \(a_n = a_{n-1} + n\) with \(a_0 = 0\).%
\item{}This is a recursive definition. We continue \(a_2 = 2\), \(a_3 = 3\), \(a_4 = 4\), \(a_5 = 5\), and so on. A closed formula is \(a_n = n\).%
\item{}We have \(a_0 = 1\), \(a_1 = 1\), \(a_2 = 2\), \(a_3 = 6\), \(a_4 = 24\), \(a_5 = 120\), and so on. The closed formula is \(a_n = n!\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.4}{}{p:exercise:Jqz}%
\hypertarget{p:solution:PPF-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}The recursive definition is \(a_n = a_{n-1} + 2\) with \(a_1 = 1\).  A closed formula is \(a_n = 2n-1\).%
\item{}The sequence of partial sums is \(1, 4, 9, 16, 25, 36, \ldots\).  A recursive definition is (as always) \(b_n = b_{n-1} + a_n\) which in this case is \(b_n = b_{n-1} + 2n-1\).  It appears that the closed formula is \(b_n = n^2\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.5}{}{p:exercise:pxI}%
\hypertarget{p:solution:vWO-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(0, 1, 2, 4, 7, 12, 20, \ldots\).%
\item{}\(F_0 + F_1 + \cdots + F_n = F_{n+2} - 1\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.6}{}{p:exercise:VER}%
\hypertarget{p:solution:cdX-back}~~%
The sequences all have the same recurrence relation: \(a_n = a_{n-1} + a_{n-2}\) (the same as the Fibonacci numbers). The only difference is the initial conditions.%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.7}{}{p:exercise:BMa}%
\hypertarget{p:solution:Ilg-back}~~%
\(3, 10, 24, 52, 108,\ldots\). The recursive definition for \(10, 24, 52, \ldots\) is \(a_n = 2a_{n-1} + 4\) with \(a_1 = 10\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.8}{}{p:exercise:hTj}%
\hypertarget{p:solution:osp-back}~~%
\(-1, -1, 1, 5, 11, 19,\ldots\) Thus the sequence \(0, 2, 6, 12, 20,\ldots\) has closed formula \(a_n = (n+1)^2 - 3(n+1) + 2\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.9}{}{p:exercise:Oas}%
\hypertarget{p:solution:Uzy-back}~~%
This closed formula would have \(a_{n-1} = 3\cdot 2^{n-1} + 7 \cdot 5^{n-1}\) and \(a_{n-2} = 3\cdot 2^{n-2} + 7 \cdot 5^{n-2}\). Then we would have%
\begin{align*}
7a_{n-1} - 10a_{n-2} = \amp 7(3\cdot 2^{n-1} + 7 \cdot 5^{n-1}) - 10(3\cdot 2^{n-2} + 7 \cdot 5^{n-2})\\
= \amp 21\cdot 2^{n-1} + 49 \cdot 5^{n-1} - 30\cdot 2^{n-2} - 70 \cdot 5^{n-2})\\
= \amp 21\cdot 2^{n-1} + 49 \cdot 5^{n-1} - 15\cdot 2^{n-1} - 14 \cdot 5^{n-1})\\
= \amp 6\cdot 2^{n-1} + 35 \cdot 5^{n-1}\\
= \amp 3\cdot 2^{n} + 7 \cdot 5^{n} = a_n\text{.}
\end{align*}
So the closed formula agrees with the recurrence relation. The closed formula has initial terms \(a_0 = 10\) and \(a_1 = 41\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.13}{}{p:exercise:mDc}%
\hypertarget{p:solution:MUZ-back}~~%
%
\begin{multicols}{2}
\begin{enumerate}[label=(\alph*)]
\item{}\(\d\sum_{k=1}^n 2k\).%
\item{}\(\d\sum_{k=1}^{107} (1 + 4(k-1))\).%
\item{}\(\d\sum_{k=1}^{50} \frac{1}{k}\).%
\item{}\(\d\prod_{k=1}^n 2k\).%
\item{}\(\d\prod_{k=1}^{100} \frac{k}{k+1}\).%
\end{enumerate}
\end{multicols}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.1.14}{}{p:exercise:SKl}%
\hypertarget{p:solution:tci-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\d\sum_{k=1}^{100} (3+4k) = 7 + 11 + 15 + \cdots + 403\).%
\item{}\(\d\sum_{k=0}^n 2^k = 1 + 2 + 4 + 8 + \cdots + 2^n\).%
\item{}\(\d\sum_{k=2}^{50}\frac{1}{(k^2 - 1)} = 1 + \frac{1}{3} + \frac{1}{8} + \frac{1}{15} + \cdots + \frac{1}{2499}\).%
\item{}\(\d\prod_{k=2}^{100}\frac{k^2}{(k^2-1)} = \frac{4}{3}\cdot\frac{9}{8}\cdot\frac{16}{15}\cdots\frac{10000}{9999}\).%
\item{}\(\d\prod_{k=0}^n (2+3k) = (2)(5)(8)(11)(14)\cdots(2+3n)\).%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.2.1}{}{p:exercise:qKf}%
\hypertarget{p:solution:ENK-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_n = a_{n-1} + 4\) with \(a_1 = 5\).%
\item{}\(a_n = 5 + 4(n-1)\).%
\item{}Yes, since \(2013 = 5 + 4(503-1)\) (so \(a_{503} = 2013\)).%
\item{}133%
\item{}\(\frac{538\cdot 133}{2} = 35777\).%
\item{}\(b_n = 1 + \frac{(4n+6)n}{2}\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.2}{}{p:exercise:WRo}%
\hypertarget{g:solution:idm14546-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(32\text{,}\) which is \(26+6\text{.}\)%
\item{}The sequence is arithmetic, with \(a_0 = 8\) and constant difference 6, so \(a_n = 8 + 6n\text{.}\)%
\item{}\(30500\text{.}\) We want \(8 + 14 + \cdots + 602\text{.}\) Reverse and add to get 100 sums of 610, a total of 61000, which is twice the sum we are looking for.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.3}{}{p:exercise:CYx}%
\hypertarget{g:solution:idm14602-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}36.%
\item{}\(\frac{253 \cdot 36}{2} = 4554\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.4}{}{p:exercise:jfG}%
\hypertarget{g:solution:idm14685-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(n+2\) terms, since to get 1 using the formula \(6n+7\) we must use \(n=-1\text{.}\) Thus we have \(n\) terms, plus two, when \(n=0\) and \(n=-1\text{.}\)%
\item{}\(6n+1\text{,}\) which is 6 less than \(6n+7\) (or plug in \(n-1\) for \(n\)).%
\item{}\(\frac{(6n+8)(n+2)}{2}\text{.}\) Reverse and add. Each sum gives the constant \(6n+8\) and there are \(n+2\) terms.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.5}{}{p:exercise:PmP}%
\hypertarget{g:solution:idm14732-back}~~%
\(68117\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.6}{}{p:exercise:vtY}%
\hypertarget{g:solution:idm14765-back}~~%
\(\frac{5\cdot 3^{21}-5}{2}\text{.}\) Let the sum be \(S\text{,}\) and compute \(S - 3S = -2S\text{,}\) which causes terms except \(5\) and \(-5\cdot 3^{21}\) to cancel. Then solve for \(S\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.7}{}{p:exercise:bBh}%
\hypertarget{g:solution:idm14799-back}~~%
\(\frac{1 + \frac{2^{31}}{3^{31}}}{5/3}\text{.}\) This time compute \(S + \frac{2}{3}S\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.8}{}{p:exercise:HIq}%
\hypertarget{g:solution:idm14850-back}~~%
For arithmetic: \(x = 55/3\text{,}\) \(y = 29/3\text{.}\) For geometric: \(x = 9\) and \(y = 3\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.9}{}{p:exercise:nPz}%
\hypertarget{g:solution:idm14904-back}~~%
For arithmetic: \(x = 14\text{,}\) \(y = 23\text{.}\) For geometric: \(x = 5*(32/5)^(1/3)\) and \(y = 5*(32/5)^(2/3)\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.2.11}{}{p:exercise:AdR}%
\hypertarget{p:solution:ian-back}~~%
We have \(2 = 2\), \(7 = 2+5\), \(15 = 2 + 5 + 8\), \(26 = 2+5+8+11\), and so on. The terms in the sums are given by the arithmetic sequence \(b_n = 2+3n\). In other words, \(a_n = \sum_{k=0}^n (2+3k)\). To find the closed formula, we reverse and add. We get \(a_n = \frac{(4+3n)(n+1)}{2}\) (we have \(n+1\) there because there are \(n+1\) terms in the sum for \(a_n\)).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.3.1}{}{p:exercise:kGY}%
\hypertarget{g:solution:idm15251-back}~~%
\(a_n = n^2 + n\text{.}\) Here we know that we are looking for a quadratic because the second differences are constant. So \(a_n = an^2 + bn + c\text{.}\) Since \(a_0 = 0\text{,}\) we know \(c= 0\text{.}\) So just solve the system%
\par
%
\begin{equation*}
\begin{aligned}
2 \amp = a + b\\
6 \amp = 4a + 2b
\end{aligned}
\end{equation*}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.2}{}{p:exercise:QOh}%
\hypertarget{g:solution:idm15288-back}~~%
\(a_n = \frac{1}{6} (n^3 + 5n + 6)\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.3}{}{x:exercise:ex-cubic-seq}%
\hypertarget{g:solution:idm15320-back}~~%
\(a_n = \frac{1}{6} (n^3 + 6n^2 + 11n + 12)\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.4}{}{p:exercise:dcz}%
\hypertarget{g:solution:idm15352-back}~~%
\(a_n = \frac{1}{6} (n^3 + 6n^2 + 11n + 18)\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.6}{}{p:exercise:pqR}%
\hypertarget{p:solution:eRM-back}~~%
\(a_n = n^2 - n + 1\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.7}{}{p:exercise:Vya}%
\hypertarget{p:solution:KYV-back}~~%
\(a_n = n^3 + n^2 - n + 1\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.8}{}{x:exercise:ex-quad-diff}%
\hypertarget{g:solution:idm15415-back}~~%
\(a_{n-1} = (n-1)^2 + 3(n-1) + 4 = n^2 + n + 2\text{.}\) Thus \(a_n - a_{n-1} = 2n+2\text{.}\) Note that this is linear (arithmetic). We can check that we are correct. The sequence \(a_n\) is \(4, 8, 14, 22, 32, \ldots\) and the sequence of differences is thus \(4, 6, 8, 10,\ldots\) which agrees with \(2n+2\) (if we start at \(n = 1\)).%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.9}{}{p:exercise:hMs}%
\hypertarget{p:solution:Xnn-back}~~%
\(a_{n-1} = a(n-1)^2 + b(n-1) + c = an^2 - 2an + a + bn - b + c\). Therefore \(a_n - a_{n-1} = 2an - a + b\), which is arithmetic. Notice that this is not quite the derivative of \(a_n\), which would be \(2an + b\), but it is close.%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.10}{}{p:exercise:NTB}%
\hypertarget{p:solution:Duw-back}~~%
No. The sequence of differences is the same as the original sequence so no differences will be constant.%
\end{divisionsolution}%
\begin{divisionsolution}{2.3.11}{}{p:exercise:uaK}%
\hypertarget{p:solution:jBF-back}~~%
No. The sequence is geometric, and in fact has closed formula \(2\cdot 3^n\). This is an exponential function, which is not equal to any polynomial of any degree. If the \(n\)th sequence of differences was constant, then the closed formula for the original sequence would be a degree \(n\) polynomial.%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.4.1}{}{p:exercise:maM}%
\hypertarget{p:solution:nPZ-back}~~%
171 and 341. \(a_n = a_{n-1} + 2a_{n-2}\) with \(a_0 = 3\) and \(a_1 = 5\). Closed formula: \(a_n = \frac{8}{3}2^n + \frac{1}{3}(-1)^n\). To find this solve the characteristic equation, \(x^2 - x - 2 = 0\), to get characteristic roots \(x = 2\) and \(x=-1\). Then solve the system%
\begin{align*}
3 \amp = a + b\\
5 \amp = 2a - b
\end{align*}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.3}{}{p:exercise:ype}%
\hypertarget{g:solution:idm15885-back}~~%
\(a_n = 3 + 2^{n+1}\text{.}\) We should use telescoping or iteration here. For example, telescoping gives%
\par
%
\begin{equation*}
\begin{aligned}
a_1 - a_0 \amp = 2^1\\
a_2 - a_1 \amp = 2^2\\
a_3 - a_2 \amp = 2^3\\
\vdots\amp \vdots\\
a_n - a_{n-1} \amp = 2^n
\end{aligned}
\end{equation*}
%
\par
which sums to \(a_n - a_0 = 2^{n+1} - 2\) (using the multiply-shift-subtract technique from Section~3.2 for the right-hand side). Substituting \(a_0 = 5\) and solving for \(a_n\) completes the solution.%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.4}{}{p:exercise:ewn}%
\hypertarget{p:solution:glA-back}~~%
We claim \(a_n = 4^n\) works. Plug it in: \(4^n = 3(4^{n-1}) + 4(4^{n-2})\). This works - just simplify the right-hand side.%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.5}{}{p:exercise:KDw}%
\hypertarget{g:solution:idm15932-back}~~%
By the Characteristic Root Technique. \(a_n = 4^n + (-1)^n\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.6}{}{p:exercise:qKF}%
\hypertarget{g:solution:idm15963-back}~~%
\(a_n = \frac{13}{5} 4^n + \frac{12}{5} (-1)^n\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.7}{}{p:exercise:WRO}%
\hypertarget{g:solution:idm15998-back}~~%
\(a_n = \frac{19}{7}(-2)^n + \frac{9}{7}5^n\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.10}{}{p:exercise:Pnp}%
\hypertarget{p:solution:EOk-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_n = 4a_{n-1} + 5a_{n-2}\).%
\item{}4, 21, 104, 521, 2604, 13021%
\item{}\(a_n = \frac{5}{6} 5^n + \frac{1}{6}(-1)^n\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.4.12}{}{p:exercise:bBH}%
\hypertarget{p:solution:kVt-back}~~%
We have characteristic polynomial \(x^2 - 2x + 1\), which has \(x = 1\) as the only repeated root. Thus using the characteristic root technique for repeated roots, the general solution is \(a_n = a + bn\) where \(a\) and \(b\) depend on the initial conditions.%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_n = 1 + n\).%
\item{}For example, we could have \(a_0 = 21\) and \(a_1 = 22\).%
\item{}For every \(x\). Take \(a_0 = x-9\) and \(a_1 = x-8\).%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.5\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{2.5.1}{}{p:exercise:Qlr}%
\hypertarget{p:solution:Mls-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}If we have a number of beans ending in a 5 and we double it, we will get a number of beans ending in a 0 (since \(5\cdot 2 = 10\) ). Then if we subtract 5, we will once again get a number of beans ending in a 5. Thus if on any day we have a number ending in a 5, the next day will also have a number ending in a 5.%
\item{}If you don't \emph{start} with a number of beans ending in a 5 (on day 1), the above reasoning is still correct but not helpful. For example, if you start with a number ending in a 3, the next day you will have a number ending in a 1.%
\item{}Part (b) is the base case and part (a) is the inductive case. If on day 1 we have a number ending in a 5 (by part (b)), then on day 2 we will also have a number ending in a 5 (by part (a)). Then by part (a) again, we will have a number ending in a 5 on day 3. By part (a) again, this means we will have a number ending in a 5 on day 4%
\par
The proof by induction would say that on \emph{every} day we will have a number ending in a 5, and this works because we can start with the base case, then use the inductive case over and over until we get up to our desired \(n\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.2}{}{p:exercise:wsA}%
\hypertarget{p:solution:ssB-back}~~%
\begin{proofptx}{}{p:proof:YzK}
We must prove that \(1 + 2 + 2^2 + 2^3 + \cdots +2^n = 2^{n+1} - 1\) for all \(n \in \N\). Thus let \(P(n)\) be the statement \(1 + 2 + 2^2 + \cdots + 2^n = 2^{n+1} - 1\). We will prove that \(P(n)\) is true for all \(n \in \N\). First we establish the base case, \(P(0)\), which claims that \(1 = 2^{0+1} -1\). Since \(2^1 - 1 = 2 - 1 = 1\), we see that \(P(0)\) is true. Now for the inductive case. Assume that \(P(k)\) is true for an arbitrary \(k \in \N\). That is, \(1 + 2 + 2^2 + \cdots + 2^k = 2^{k+1} - 1\). We must show that \(P(k+1)\) is true (i.e., that \(1 + 2 + 2^2 + \cdots + 2^{k+1} = 2^{k+2} - 1\)). To do this, we start with the left-hand side of \(P(k+1)\) and work to the right-hand side:%
\begin{align*}
1 + 2 + 2^2 + \cdots + 2^k + 2^{k+1} = \amp ~ 2^{k+1} - 1 + 2^{k+1} \amp \text{by inductive hypothesis}\\
= \amp ~2\cdot 2^{k+1} - 1 \amp\\
= \amp ~ 2^{k+2} - 1 \amp
\end{align*}
%
\par
Thus \(P(k+1)\) is true so by the principle of mathematical induction, \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.3}{}{p:exercise:czJ}%
\hypertarget{p:solution:EGT-back}~~%
\begin{proofptx}{}{p:proof:kOc}
Let \(P(n)\) be the statement ``\(7^n - 1\) is a multiple of 6.'' We will show \(P(n)\) is true for all \(n \in \N\). First we establish the base case, \(P(0)\). Since \(7^0 - 1 = 0\), and \(0\) is a multiple of 6, \(P(0)\) is true. Now for the inductive case. Assume \(P(k)\) holds for an arbitrary \(k \in \N\). That is, \(7^k - 1\) is a multiple of 6, or in other words, \(7^k - 1 = 6j\) for some integer \(j\). Now consider \(7^{k+1} - 1\):%
\begin{align*}
7^{k+1} - 1 ~ \amp = 7^{k+1} - 7 + 6 \amp \text{by cleverness:} -1 = -7 + 6\\
\amp = 7(7^k - 1) + 6 \amp \text{factor out a 7 from the first two terms}\\
\amp = 7(6j) + 6 \amp \text{by the inductive hypothesis}\\
\amp = 6(7j + 1) \amp \text{factor out a 6}
\end{align*}
%
\par
Therefore \(7^{k+1} - 1\) is a multiple of 6, or in other words, \(P(k+1)\) is true. Therefore by the principle of mathematical induction, \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.4}{}{p:exercise:IGS}%
\hypertarget{p:solution:QVl-back}~~%
\begin{proofptx}{}{p:proof:xcu}
Let \(P(n)\) be the statement \(1+3 +5 + \cdots + (2n-1) = n^2\). We will prove that \(P(n)\) is true for all \(n \ge 1\). First the base case, \(P(1)\). We have \(1 = 1^2\) which is true, so \(P(1)\) is established. Now the inductive case. Assume that \(P(k)\) is true for some fixed arbitrary \(k \ge 1\). That is, \(1 + 3 + 5 + \cdots + (2k-1) = k^2\). We will now prove that \(P(k+1)\) is also true (i.e., that \(1 + 3 + 5 + \cdots + (2k+1) = (k+1)^2\)). We start with the left-hand side of \(P(k+1)\) and work to the right-hand side:%
\begin{align*}
1 + 3 + 5 + \cdots + (2k-1) + (2k+1) ~ \amp = k^2 + (2k+1) \amp \text{by ind. hyp.}\\
\amp = (k+1)^2 \amp \text{by factoring}
\end{align*}
%
\par
Thus \(P(k+1)\) holds, so by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 1\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.5}{}{p:exercise:oOb}%
\hypertarget{p:solution:djD-back}~~%
\begin{proofptx}{}{p:proof:JqM}
Let \(P(n)\) be the statement \(F_0 + F_2 + F_4 + \cdots + F_{2n} = F_{2n+1} - 1\). We will show that \(P(n)\) is true for all \(n \ge 0\). First the base case is easy because \(F_0 = 0\) and \(F_1 = 1\) so \(F_0 = F_1 - 1\). Now consider the inductive case. Assume \(P(k)\) is true, that is, assume \(F_0 + F_2 + F_4 + \cdots + F_{2k} = F_{2k+1} - 1\). To establish \(P(k+1)\) we work from left to right:%
\begin{align*}
F_0 + F_2 + \cdots + F_{2k} + F_{2k+2} ~ \amp = F_{2k+1} - 1 + F_{2k+2} \amp \text{by ind. hyp.}\\
\amp = F_{2k+1} + F_{2k+2} - 1 \amp\\
\amp = F_{2k+3} - 1 \amp \text{by recursive def.}
\end{align*}
%
\par
Therefore \(F_0 + F_2 + F_4 + \cdots + F_{2k+2} = F_{2k+3} - 1\), which is to say \(P(k+1)\) holds. Therefore by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 0\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.6}{}{p:exercise:UVk}%
\hypertarget{p:solution:pxV-back}~~%
\begin{proofptx}{}{p:proof:VFe}
Let \(P(n)\) be the statement \(2^n \lt  n!\). We will show \(P(n)\) is true for all \(n \ge 4\). First, we check the base case and see that yes, \(2^4 \lt  4!\) (as \(16 \lt  24\)) so \(P(4)\) is true. Now for the inductive case. Assume \(P(k)\) is true for an arbitrary \(k \ge 4\). That is, \(2^k \lt  k!\). Now consider \(P(k+1)\): \(2^{k+1} \lt  (k+1)!\). To prove this, we start with the left side and work to the right side.%
\begin{align*}
2^{k+1}~ \amp = 2\cdot 2^k \amp\\
\amp \lt 2\cdot k! \amp \text{by the inductive hypothesis}\\
\amp \lt (k+1) \cdot k! \amp \text{ since } k+1 \gt 2\\
\amp = (k+1)! \amp
\end{align*}
%
\par
Therefore \(2^{k+1} \lt (k+1)!\) so we have established \(P(k+1)\). Thus by the principle of mathematical induction \(P(n)\) is true for all \(n \ge 4\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.12}{}{p:exercise:FMm}%
\hypertarget{p:solution:OaF-back}~~%
The only problem is that we never established the base case. Of course, when \(n = 0\), \(0+3 \ne 0+7\).%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.13}{}{p:exercise:lTv}%
\hypertarget{p:solution:aoX-back}~~%
\begin{proofptx}{}{p:proof:Gwg}
Let \(P(n)\) be the statement that \(n + 3 \lt n + 7\). We will prove that \(P(n)\) is true for all \(n \in \N\). First, note that the base case holds: \(0+3 \lt 0+7\). Now assume for induction that \(P(k)\) is true. That is, \(k+3 \lt k+7\). We must show that \(P(k+1)\) is true. Now since \(k + 3 \lt k + 7\), add 1 to both sides. This gives \(k + 3 + 1 \lt k + 7 + 1\). Regrouping \((k+1) + 3 \lt (k+1) + 7\). But this is simply \(P(k+1)\). Thus by the principle of mathematical induction \(P(n)\) is true for all \(n \in \N\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.14}{}{p:exercise:SaE}%
\hypertarget{p:solution:mDp-back}~~%
The problem here is that while \(P(0)\) is true, and while \(P(k) \imp P(k+1)\) for \emph{some} values of \(k\), there is at least one value of \(k\) (namely \(k = 99\)) when that implication fails. For a valid proof by induction, \(P(k) \imp P(k+1)\) must be true for all values of \(k\) greater than or equal to the base case.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.16}{}{p:exercise:eoW}%
\hypertarget{p:solution:eYQ-back}~~%
We once again failed to establish the base case: when \(n = 0\), \(n^2 + n = 0\) which is even, not odd.%
\end{divisionsolution}%
\begin{divisionsolution}{2.5.19}{}{p:exercise:WKx}%
\hypertarget{p:solution:DBA-back}~~%
The proof will by by strong induction.%
\begin{proofptx}{}{p:proof:jIJ}
Let \(P(n)\) be the statement ``\(n\) is either a power of 2 or can be written as the sum of distinct powers of 2.'' We will show that \(P(n)\) is true for all \(n \ge 1\).%
\par
Base case: \(1 = 2^0\) is a power of 2, so \(P(1)\) is true.%
\par
Inductive case: Suppose \(P(k)\) is true for all \(k \lt n\). Now if \(n\) is a power of 2, we are done. If not, let \(2^x\) be the largest power of 2 strictly less than \(n\). Consider \(n - 2^x\), which is a smaller number, in fact smaller than both \(n\) and \(2^x\). Thus \(n-2^x\) is either a power of 2 or can be written as the sum of distinct powers of 2, but none of them are going to be \(2^x\), so the together with \(2^x\) we have written \(n\) as the sum of distinct powers of 2.%
\par
Therefore, by the principle of (strong) mathematical induction, \(P(n)\) is true for all \(n \ge 1\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{2.5.25}{}{p:exercise:HBz}%
\hypertarget{p:solution:UzL-back}~~%
The idea here is that if we take the logarithm of \(a^n\), we can increase \(n\) by 1 if we multiply by another \(a\) (inside the logarithm). This results in adding 1 more \(\log(a)\) to the total.%
\begin{proofptx}{}{p:proof:AGU}
Let \(P(n)\) be the statement \(\log(a^n) = n \log(a)\). The base case, \(P(2)\) is true, because \(\log(a^2) = \log(a\cdot a) = \log(a) + \log(a) = 2\log(a)\), by the product rule for logarithms. Now assume, for induction, that \(P(k)\) is true. That is, \(\log(a^k) = k\log(a)\). Consider \(\log(a^{k+1})\). We have%
\begin{equation*}
\log(a^{k+1}) = \log(a^k\cdot a) = \log(a^k) + \log(a) = k\log(a) + \log(a)\text{,}
\end{equation*}
with the last equality due to the inductive hypothesis. But this simplifies to \((k+1) \log(a)\), establishing \(P(k+1)\). Therefore by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 2\).%
\end{proofptx}
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 2.6\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{2.6.1}{}{p:exercise:Iec}%
\hypertarget{g:solution:idm17257-back}~~%
\(\frac{430\cdot 107}{2} = 23005\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.2}{}{p:exercise:oll}%
\hypertarget{g:solution:idm17321-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(n+2\) terms.%
\item{}\(4n+2\text{.}\)%
\item{}\(\frac{(4n+8)(n+2)}{2}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.3}{}{p:exercise:Usu}%
\hypertarget{g:solution:idm17405-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(2, 10, 50, 250, \ldots\) The sequence is geometric.%
\item{}\(\frac{2 - 2\cdot 5^{25}}{-4}\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.5}{}{p:exercise:gGM}%
\hypertarget{g:solution:idm17455-back}~~%
\(a_n = n^2 + 4n - 1\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.6}{}{p:exercise:MNV}%
\hypertarget{p:solution:GYJ-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}The sequence of partial sums will be a degree 4 polynomial (its sequence of differences will be the original sequence).%
\item{}The sequence of second differences will be a degree 1 polynomial - an arithmetic sequence.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.7}{}{p:exercise:sVe}%
\hypertarget{p:solution:nfS-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(4, 6, 10, 16, 26, 42, \ldots\).%
\item{}No, taking differences gives the original sequence back, so the differences will never be constant.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.8}{}{p:exercise:Zcn}%
\hypertarget{g:solution:idm17524-back}~~%
\(b_n = (n+3)n\text{.}\)%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.10}{}{p:exercise:lqF}%
\hypertarget{g:solution:idm17583-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(1, 2, 16, 68, 364, \ldots\text{.}\)%
\item{}\(a_n = \frac{3}{7}(-2)^n + \frac{4}{7}5^n\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.11}{}{p:exercise:RxO}%
\hypertarget{g:solution:idm17646-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(a_2 = 14\text{.}\) \(a_3 = 52\text{.}\)%
\item{}\(a_n = \frac{1}{6}(-2)^n + \frac{5}{6}4^n\text{.}\)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.12}{}{p:exercise:xEX}%
\hypertarget{p:solution:LIC-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}On the first day, your 2 mini bunnies become 2 large bunnies. On day 2, your two large bunnies produce 4 mini bunnies. On day 3, you have 4 mini bunnies (produced by your 2 large bunnies) plus 6 large bunnies (your original 2 plus the 4 newly matured bunnies). On day 4, you will have \(12\) mini bunnies (2 for each of the 6 large bunnies) plus 10 large bunnies (your previous 6 plus the 4 newly matured). The sequence of total bunnies is \(2, 2, 6, 10, 22, 42\ldots\) starting with \(a_0 = 2\) and \(a_1 = 2\).%
\item{}\(a_n = a_{n-1} + 2a_{n-2}\). This is because the number of bunnies is equal to the number of bunnies you had the previous day (both mini and large) plus 2 times the number you had the day before that (since all bunnies you had 2 days ago are now large and producing 2 new bunnies each).%
\item{}Using the characteristic root technique, we find \(a_n = a2^n + b(-1)^n\), and we can find \(a\) and \(b\) to give \(a_n = \frac{4}{3}2^n + \frac{2}{3}(-1)^n\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{2.6.17}{}{p:exercise:CoQ}%
\hypertarget{p:solution:klm-back}~~%
Let \(P(n)\) be the statement, ``every set containing \(n\) elements has \(2^n\) different subsets.'' We will show \(P(n)\) is true for all \(n \ge 1\). Base case: Any set with 1 element \(\{a\}\) has exactly 2 subsets: the empty set and the set itself. Thus the number of subsets is \(2= 2^1\). Thus \(P(1)\) is true. Inductive case: Suppose \(P(k)\) is true for some arbitrary \(k \ge 1\). Thus every set containing exactly \(k\) elements has \(2^k\) different subsets. Now consider a set containing \(k+1\) elements: \(A = \{a_1, a_2, \ldots, a_k, a_{k+1}\}\). Any subset of \(A\) must either contain \(a_{k+1}\) or not. In other words, a subset of \(A\) is just a subset of \(\{a_1, a_2,\ldots,
a_k\}\) with or without \(a_{k+1}\). Thus there are \(2^k\) subsets of \(A\) which contain \(a_{k+1}\) and another \(2^{k+1}\) subsets of \(A\) which do not contain \(a^{k+1}\). This gives a total of \(2^k + 2^k = 2\cdot 2^k = 2^{k+1}\) subsets of \(A\). But our choice of \(A\) was arbitrary, so this works for any subset containing \(k+1\) elements, so \(P(k+1)\) is true. Therefore, by the principle of mathematical induction, \(P(n)\) is true for all \(n \ge 1\).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 3.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{3.1.1}{}{p:exercise:iCQ}%
\hypertarget{p:solution:Bqo-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(P\): it's your birthday; \(Q\): there will be cake. \((P \vee Q) \imp Q\)%
\item{}Hint: you should get three T's and one F.%
\item{}Only that there will be cake.%
\item{}It's NOT your birthday!%
\item{}It's your birthday, but the cake is a lie.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.2}{}{p:exercise:OJZ}%
\hypertarget{p:solution:hxx-back}~~%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\((P \vee Q) \imp (P \wedge Q)\)\tabularnewline\hrulethin
T&T&T\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&F\tabularnewline[0pt]
F&F&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.3}{}{p:exercise:uRi}%
\hypertarget{p:solution:NEG-back}~~%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcBc}
\(P\)&\(Q\)&\(\neg P \wedge (Q \imp P)\)\tabularnewline\hrulethin
T&T&F\tabularnewline[0pt]
T&F&F\tabularnewline[0pt]
F&T&F\tabularnewline[0pt]
F&F&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
If the statement is true, then both \(P\) and \(Q\) are false.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.6}{}{p:exercise:nmJ}%
\hypertarget{p:solution:Gah-back}~~%
Make a truth table for each and compare. The statements are logically equivalent.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.8}{}{p:exercise:zBb}%
\hypertarget{p:solution:mhq-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(P \wedge Q\).%
\item{}\((\neg P \vee \neg R) \imp (Q \vee \neg R)\) or, replacing the implication with a disjunction first: \((P \wedge Q) \vee (Q \vee \neg R)\).%
\item{}\((P \wedge Q) \wedge (R \wedge \neg R)\). This is necessarily false, so it is also equivalent to \(P \wedge \neg P\).%
\item{}Either Sam is a woman and Chris is a man, or Chris is a woman.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.12}{}{p:exercise:YdL}%
\hypertarget{p:solution:eCR-back}~~%
The deduction rule is valid. To see this, make a truth table which contains \(P \vee Q\) and \(\neg P\) (and \(P\) and \(Q\) of course). Look at the truth value of \(Q\) in each of the rows that have \(P \vee Q\) and \(\neg P\) true.%
\end{divisionsolution}%
\begin{divisionsolution}{3.1.16}{}{p:exercise:wGv}%
\hypertarget{p:solution:qRj-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\forall x \exists y (O(x) \wedge \neg E(y))\).%
\item{}\(\exists x \forall y (x \ge y \vee \forall z (x \ge z \wedge y \ge z))\).%
\item{}There is a number \(n\) for which every other number is strictly greater than \(n\).%
\item{}There is a number \(n\) which is not between any other two numbers.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 3.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{3.2.1}{}{p:exercise:ENx}%
\hypertarget{p:solution:jPn-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}For all integers \(a\) and \(b\), if \(a\) or \(b\) is not even, then \(a+b\) is not even.%
\item{}For all integers \(a\) and \(b\), if \(a\) and \(b\) are even, then \(a+b\) is even.%
\item{}There are numbers \(a\) and \(b\) such that \(a+b\) is even but \(a\) and \(b\) are not both even.%
\item{}False. For example, \(a = 3\) and \(b = 5\). \(a+b = 8\), but neither \(a\) nor \(b\) are even.%
\item{}False, since it is equivalent to the original statement.%
\item{}True. Let \(a\) and \(b\) be integers. Assume both are even. Then \(a = 2k\) and \(b = 2j\) for some integers \(k\) and \(j\). But then \(a+b = 2k + 2j = 2(k+j)\) which is even.%
\item{}True, since the statement is false.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.2}{}{p:exercise:kUG}%
\hypertarget{p:solution:PWw-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Proof by contradiction. Start of proof: Assume, for the sake of contradiction, that there are integers \(x\) and \(y\) such that \(x\) is a prime greater than 5 and \(x = 6y + 3\). End of proof: \textellipsis{} this is a contradiction, so there are no such integers.%
\item{}Direct proof. Start of proof: Let \(n\) be an integer. Assume \(n\) is a multiple of 3. End of proof: Therefore \(n\) can be written as the sum of consecutive integers.%
\item{}Proof by contrapositive. Start of proof: Let \(a\) and \(b\) be integers. Assume that \(a\) and \(b\) are even. End of proof: Therefore \(a^2 + b^2\) is even.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.3}{}{p:exercise:RbP}%
\hypertarget{p:solution:wdF-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Direct proof. \begin{proofptx}{}{p:proof:ckO}
Let \(n\) be an integer. Assume \(n\) is even. Then \(n = 2k\) for some integer \(k\). Thus \(8n = 16k = 2(8k)\). Therefore \(8n\) is even.%
\end{proofptx}
%
\item{}The converse is false. That is, there is an integer \(n\) such that \(8n\) is even but \(n\) is odd. For example, consider \(n = 3\). Then \(8n = 24\) which is even but \(n = 3\) is odd.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.2.4}{}{p:exercise:xiY}%
\hypertarget{p:solution:IrX-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is an example of the pigeonhole principle. We can prove it by contrapositive.%
\begin{proofptx}{}{p:proof:ozg}
Suppose that each number only came up 6 or fewer times. So there are at most six 1's, six 2's, and so on. That's a total of 36 dice, so you must not have rolled all 40 dice.%
\end{proofptx}
\item{}We can have 9 dice without any four matching or any four being all different: three 1's, three 2's, three 3's. We will prove that whenever you roll 10 dice, you will always get four matching or all being different.%
\begin{proofptx}{}{p:proof:UGp}
Suppose you roll 10 dice, but that there are NOT four matching rolls. This means at most, there are three of any given value. If we only had three different values, that would be only 9 dice, so there must be 4 different values, giving 4 dice that are all different.%
\end{proofptx}
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 3.3\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{3.3.1}{}{x:exercise:tt}%
\hypertarget{p:solution:ViS-back}~~%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcAcBc}
\(P\)&\(Q\)&\(R\)&\(\neg P \imp (Q \wedge R)\)\tabularnewline\hrulethin
T&T&T&T\tabularnewline[0pt]
T&T&F&T\tabularnewline[0pt]
T&F&T&T\tabularnewline[0pt]
T&F&F&T\tabularnewline[0pt]
F&T&T&T\tabularnewline[0pt]
F&T&F&F\tabularnewline[0pt]
F&F&T&F\tabularnewline[0pt]
F&F&F&F
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.2}{}{p:exercise:LPg}%
\hypertarget{p:solution:Bqb-back}~~%
Peter is not tall and Robert is not skinny. You must be in row 6 in the truth table above.%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.3}{}{p:exercise:rWp}%
\hypertarget{p:solution:hxk-back}~~%
Yes. To see this, make a truth table for each statement and compare.%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.4}{}{p:exercise:Ydy}%
\hypertarget{p:solution:NEt-back}~~%
Make a truth table that includes all three statements in the argument:%
\begin{sidebyside}{1}{0}{0}{0}%
\begin{sbspanel}{1}%
{\centering%
{\tabularfont%
\begin{tabular}{cAcAcBcAcAc}
\(P\)&\(Q\)&\(R\)&\(P \imp Q\)&\(P \imp R\)&\(P \imp (Q \wedge R)\)\tabularnewline\hrulethin
T&T&T&T&T&T\tabularnewline[0pt]
T&T&F&T&F&F\tabularnewline[0pt]
T&F&T&F&T&F\tabularnewline[0pt]
T&F&F&F&F&F\tabularnewline[0pt]
F&T&T&T&T&T\tabularnewline[0pt]
F&T&F&T&T&T\tabularnewline[0pt]
F&F&T&T&T&T\tabularnewline[0pt]
F&F&F&T&T&T
\end{tabular}
}%
\par}
\end{sbspanel}%
\end{sidebyside}%
\par
Notice that in every row for which both \(P \imp Q\) and \(P \imp R\) is true, so is \(P \imp (Q \wedge R)\). Therefore, whenever the premises of the argument are true, so is the conclusion. In other words, the deduction rule is valid.%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.5}{}{p:exercise:EkH}%
\hypertarget{p:solution:tLC-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Negation: The power goes off and the food does not spoil.%
\par
Converse: If the food spoils, then the power went off.%
\par
Contrapositive: If the food does not spoil, then the power did not go off.%
\item{}Negation: The door is closed and the light is on.%
\par
Converse: If the light is off then the door is closed.%
\par
Contrapositive: If the light is on then the door is open.%
\item{}Negation: \(\exists x (x \lt 1 \wedge x^2 \ge 1)\)%
\par
Converse: \(\forall x( x^2 \lt 1 \imp x \lt 1)\)%
\par
Contrapositive: \(\forall x (x^2 \ge 1 \imp x \ge 1)\).%
\item{}Negation: There is a natural number \(n\) which is prime but not solitary.%
\par
Converse: For all natural numbers \(n\), if \(n\) is solitary, then \(n\) is prime.%
\par
Contrapositive: For all natural numbers \(n\), if \(n\) is not solitary then \(n\) is not prime.%
\item{}Negation: There is a function which is differentiable and not continuous.%
\par
Converse: For all functions \(f\), if \(f\) is continuous then \(f\) is differentiable.%
\par
Contrapositive: For all functions \(f\), if \(f\) is not continuous then \(f\) is not differentiable.%
\item{}Negation: There are integers \(a\) and \(b\) for which \(a\cdot b\) is even but \(a\) or \(b\) is odd.%
\par
Converse: For all integers \(a\) and \(b\), if \(a\) and \(b\) are even then \(ab\) is even.%
\par
Contrapositive: For all integers \(a\) and \(b\), if \(a\) or \(b\) is odd, then \(ab\) is odd.%
\item{}Negation: There are integers \(x\) and \(y\) such that for every integer \(n\), \(x \gt 0\) and \(nx \le y\).%
\par
Converse: For every integer \(x\) and every integer \(y\) there is an integer \(n\) such that if \(nx >
y\) then \(x > 0\).%
\par
Contrapositive: For every integer \(x\) and every integer \(y\) there is an integer \(n\) such that if \(nx \le y\) then \(x \le 0\).%
\item{}Negation: There are real numbers \(x\) and \(y\) such that \(xy = 0\) but \(x \ne 0\) and \(y \ne 0\).%
\par
Converse: For all real numbers \(x\) and \(y\), if \(x = 0\) or \(y = 0\) then \(xy = 0\)%
\par
Contrapositive: For all real numbers \(x\) and \(y\), if \(x \ne 0\) and \(y \ne 0\) then \(xy \ne 0\).%
\item{}Negation: There is at least one student in Math 228 who does not understand implications but will still pass the exam.%
\par
Converse: For every student in Math 228, if they fail the exam, then they did not understand implications.%
\par
Contrapositive: For every student in Math 228, if they pass the exam, then they understood implications.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.6}{}{p:exercise:krQ}%
\hypertarget{p:solution:ZSL-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}The statement is true. If \(n\) is an even integer less than or equal to 7, then the only way it could not be negative is if \(n\) was equal to 0, 2, 4, or 6.%
\item{}There is an integer \(n\) such that \(n\) is even and \(n \le 7\) but \(n\) is not negative and \(n \not\in \{0,2,4,6\}\). This is false, since the original statement is true.%
\item{}For all integers \(n\), if \(n\) is not negative and \(n \not\in\{0,2,4,6\}\) then \(n\) is odd or \(n > 7\). This is true, since the contrapositive is equivalent to the original statement (which is true).%
\item{}For all integers \(n\), if \(n\) is negative or \(n \in \{0,2,4,6\}\) then \(n\) is even and \(n \le 7\). This is false. \(n = -3\) is a counterexample.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.7}{}{p:exercise:QyZ}%
\hypertarget{p:solution:FZU-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}For any number \(x\), if it is the case that adding any number to \(x\) gives that number back, then multiplying any number by \(x\) will give 0. This is true (of the integers or the reals). The ``if'' part only holds if \(x = 0\), and in that case, anything times \(x\) will be 0.%
\item{}The converse in words is this: for any number \(x\), if everything times \(x\) is zero, then everything added to \(x\) gives itself. Or in symbols: \(\forall x (\forall z (x \cdot z = 0) \imp \forall y (x + y = y))\). The converse is true: the only number which when multiplied by any other number gives 0 is \(x = 0\). And if \(x = 0\), then \(x + y = y\).%
\item{}The contrapositive in words is: for any number \(x\), if there is some number which when multiplied by \(x\) does not give zero, then there is some number which when added to \(x\) does not give that number. In symbols: \(\forall x (\exists z (x\cdot z \ne 0) \imp \exists y (x + y \ne y))\). We know the contrapositive must be true because the original implication is true.%
\item{}The negation: there is a number \(x\) such that any number added to \(x\) gives the number back again, but there is a number you can multiply \(x\) by and not get 0. In symbols: \(\exists x (\forall y (x + y = y) \wedge \exists z (x \cdot z \ne 0))\). Of course since the original implication is true, the negation is false.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.8}{}{p:exercise:wGi}%
\hypertarget{p:solution:mhd-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\((\neg P \vee Q) \wedge (\neg R \vee (P \wedge \neg R))\).%
\item{}\(\forall x \forall y \forall z (z = x+y \wedge \forall w (x-y \ne w))\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.9}{}{p:exercise:cNr}%
\hypertarget{p:solution:Som-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Direct proof. \begin{proofptx}{}{p:proof:yvv}
Let \(n\) be an integer. Assume \(n\) is odd. So \(n = 2k+1\) for some integer \(k\). Then%
\begin{equation*}
7n = 7(2k+1) = 14k + 7 = 2(7k +3) + 1\text{.}
\end{equation*}
%
\par
Since \(7k + 3\) is an integer, we see that \(7n\) is odd.%
\end{proofptx}
%
\item{}The converse is: for all integers \(n\), if \(7n\) is odd, then \(n\) is odd. We will prove this by contrapositive. \begin{proofptx}{}{p:proof:eCE}
Let \(n\) be an integer. Assume \(n\) is not odd. Then \(n = 2k\) for some integer \(k\). So \(7n = 14k = 2(7k)\) which is to say \(7n\) is even. Therefore \(7n\) is not odd.%
\end{proofptx}
%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{3.3.10}{}{p:exercise:IUA}%
\hypertarget{p:solution:KJN-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Suppose you only had 5 coins of each denomination. This means you have 5 pennies, 5 nickels, 5 dimes and 5 quarters. This is a total of 20 coins. But you have more than 20 coins, so you must have more than 5 of at least one type.%
\item{}Suppose you have 22 coins, including \(2k\) nickels, \(2j\) dimes, and \(2l\) quarters (so an even number of each of these three types of coins). The number of pennies you have will then be%
\begin{equation*}
22 - 2k - 2j - 2l = 2(11-k-j-l)\text{.}
\end{equation*}
But this says that the number of pennies is also even (it is 2 times an integer). Thus we have established the contrapositive of the statement, ``If you have an odd number of pennies then you have an odd number of at least one other coin type.''%
\item{}You need 10 coins. You could have 3 pennies, 3 nickels, and 3 dimes. The 10th coin must either be a quarter, giving you 4 coins that are all different, or else a 4th penny, nickel or dime. To prove this, assume you don't have 4 coins that are all the same or all different. In particular, this says that you only have 3 coin types, and each of those types can only contain 3 coins, for a total of 9 coins, which is less than 10.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.1.1}{}{p:exercise:nGV}%
\hypertarget{p:solution:hRJ-back}~~%
This is asking for the number of edges in \(K_{10}\). Each vertex (person) has degree (shook hands with) 9 (people). So the sum of the degrees is \(90\). However, the degrees count each edge (handshake) twice, so there are 45 edges in the graph. That is how many handshakes took place.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.2}{}{p:exercise:TOe}%
\hypertarget{p:solution:NYS-back}~~%
It is possible for everyone to be friends with exactly 2 people. You could arrange the 5 people in a circle and say that everyone is friends with the two people on either side of them (so you get the graph \(C_5\)). However, it is not possible for everyone to be friends with 3 people. That would lead to a graph with an odd number of odd degree vertices which is impossible since the sum of the degrees must be even.%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.4}{}{p:exercise:gcw}%
\hypertarget{p:solution:ank-back}~~%
The graphs are not equal. For example, graph 1 has an edge \(\{a,b\}\) but graph 2 does not have that edge. They are isomorphic. One possible isomorphism is \(f:G_1 \to G_2\) defined by \(f(a) = d\), \(f(b) = c\), \(f(c) = e\), \(f(d) = b\), \(f(e) = a\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.9}{}{p:exercise:kMp}%
\hypertarget{p:solution:yPU-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}For example:%
\begin{sidebyside}{2}{0.15}{0.15}{0.3}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\draw (0,0) \v -- (-1,1) \v (0,0) -- (0,1) \v (0,0) -- (1,1) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\draw (0,0) \v -- (-1,1) \v (0,0) -- (.5,.5) \v -- (1,1) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}This is not possible if we require the graphs to be connected. If not, we could take \(C_8\) as one graph and two copies of \(C_4\) as the other.%
\item{}Not possible. If you have a graph with 5 vertices all of degree 4, then every vertex must be adjacent to every other vertex. This is the graph \(K_5\).%
\item{}This is not possible. In fact, there is not even one graph with this property (such a graph would have \(5\cdot 3/2 = 7.5\) edges).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.1.10}{}{p:exercise:QTy}%
\hypertarget{p:solution:eXd-back}~~%
%
\begin{multicols}{4}
\begin{enumerate}[label=(\alph*)]
\item{}False.%
\item{}True.%
\item{}True.%
\item{}False.%
\end{enumerate}
\end{multicols}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.2.1}{}{p:exercise:HzZ}%
\hypertarget{p:solution:BKN-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This is not a tree since it contains a cycle. Note also that there are too many edges to be a tree, since we know that all trees with \(v\) vertices have \(v-1\) edges.%
\item{}This is a tree since it is connected and contains no cycles (which you can see by drawing the graph). All paths are trees.%
\item{}This is a tree since it is connected and contains no cycles (draw the graph). All stars are trees.%
\item{}This is a not a tree since it is not connected. Note that there are not enough edges to be a tree.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.2}{}{x:exercise:ex-tree-deg-seq}%
\hypertarget{p:solution:hRW-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}This must be the degree sequence for a tree. This is because the vertex of degree 4 must be adjacent to the four vertices of degree 1 (there are no other vertices for it to be adjacent to), and thus we get a star.%
\item{}This cannot be a tree. Each degree 3 vertex is adjacent to all but one of the vertices in the graph. Thus each must be adjacent to one of the degree 1 vertices (and not the other). That means both degree 3 vertices are adjacent to the degree 2 vertex, and to each other, so that means there is a cycle.%
\par
Alternatively, count how many edges there are!%
\item{}This might or might not be a tree. The length 4 path has this degree sequence (this is a tree), but so does the union of a 3-cycle and a length 1 path (which is not connected, so not a tree).%
\item{}This cannot be a tree. The sum of the degrees is 28, so there are 14 edges. But there are 14 vertices as well, so we don't have \(v = e+1\), meaning this cannot be a tree.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.6}{}{p:exercise:MjS}%
\hypertarget{p:solution:GuG-back}~~%
Yes. We will prove the contrapositive. Assume \(G\) does not contain a cycle. Then \(G\) is a tree, so would have \(v = e+1\), contrary to stipulation.%
\end{divisionsolution}%
\begin{divisionsolution}{4.2.12}{}{p:exercise:xaU}%
\hypertarget{p:solution:Lez-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}No, although there are graphs for which this is true. For example, \(K_4\) has a spanning tree that is a path (of three edges) and also a spanning tree that is a star (with center vertex of degree 3).%
\item{}Yes. For a fixed graph, we have a fixed number \(v\) of vertices. Any spanning tree of the graph will also have \(v\) vertices, and since it is a tree, must have \(v-1\) edges.%
\item{}No, although there are graph for which this is true (note that if all spanning trees are isomorphic, then all spanning trees will have the same number of leaves). Again, \(K_4\) is a counterexample. One spanning tree is a path, with only two leaves, another spanning tree is a star with 3 leaves.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.3\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.3.1}{}{p:exercise:Vpj}%
\hypertarget{p:solution:jsO-back}~~%
No. A (connected) planar graph must satisfy Euler's formula: \(v - e + f = 2\). Here \(v - e + f = 6 - 10 + 5 = 1\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.2}{}{p:exercise:Bws}%
\hypertarget{p:solution:PzX-back}~~%
\(G\) has 10 edges, since \(10 = \frac{2+2+3+4+4+5}{2}\). It could be planar, and then it would have 6 faces, using Euler's formula: \(6-10+f = 2\) means \(f = 6\). To make sure that it is actually planar though, we would need to draw a graph with those vertex degrees without edges crossing. This can be done by trial and error (and is possible).%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.6}{}{p:exercise:ZZc}%
\hypertarget{p:solution:HVy-back}~~%
Say the last polyhedron has \(n\) edges, and also \(n\) vertices. The total number of edges the polyhedron has then is \((7 \cdot 3 + 4 \cdot 4 + n)/2 = (37 + n)/2\). In particular, we know the last face must have an odd number of edges. We also have that \(v = 11 \). By Euler's formula, we have \(11 - (37+n)/2 + 12 = 2\), and solving for \(n\) we get \(n = 5\), so the last face is a pentagon.%
\end{divisionsolution}%
\begin{divisionsolution}{4.3.8}{}{p:exercise:mnu}%
\hypertarget{p:solution:ocH-back}~~%
\begin{proofptx}{}{p:proof:UjQ}
Let \(P(n)\) be the statement, ``every connected planar graph containing \(n\) edges satisfies \(v - n + f = 2\).'' We will show \(P(n)\) is true for all \(n \ge 0\).%
\par
Base case: there is only one graph with zero edges, namely a single isolated vertex. In this case \(v = 1\), \(f = 1\) and \(e = 0\), so Euler's formula holds.%
\par
Inductive case: Suppose \(P(k)\) is true for some arbitrary \(k \ge 0\). Now consider an arbitrary graph containing \(k+1\) edges (and \(v\) vertices and \(f\) faces). No matter what this graph looks like, we can remove a single edge to get a graph with \(k\) edges which we can apply the inductive hypothesis to.%
\par
There are two cases: either the graph contains a cycle or it does not. If the graph contains a cycle, then pick an edge that is part of this cycle, and remove it.  This will not disconnect the graph, and will decrease the number of faces by 1 (since the edge was bordering two distinct faces).  So by the inductive hypothesis we will have \(v - k + f-1 = 2\). Adding the edge back will give \(v - (k+1) + f = 2\) as needed.%
\par
If the graph does not contain a cycle, then it is a tree, so has a vertex of degree 1.  Then we can pick the edge to remove to be incident to such a degree 1 vertex. In this case, also remove that vertex. The smaller graph will now satisfy \(v-1 - k + f = 2\) by the induction hypothesis (removing the edge and vertex did not reduce the number of faces). Adding the edge and vertex back gives \(v - (k+1) + f = 2\), as required.%
\par
Therefore, by the principle of mathematical induction, Euler's formula holds for all planar graphs.%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{4.3.12}{}{p:exercise:KQe}%
\hypertarget{p:solution:gyi-back}~~%
\begin{proofptx}{}{p:proof:MFr}
We know in any planar graph the number of faces \(f\) satisfies \(3f \le 2e\) since each face is bounded by at least three edges, but each edge borders two faces. Combine this with Euler's formula:%
\begin{equation*}
v - e + f = 2
\end{equation*}
%
\begin{equation*}
v - e + \frac{2e}{3} \ge 2
\end{equation*}
%
\begin{equation*}
3v - e \ge 6
\end{equation*}
%
\begin{equation*}
3v - 6 \ge e\text{.}\qedhere
\end{equation*}
%
\end{proofptx}
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.4\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.4.1}{}{p:exercise:dhD}%
\hypertarget{p:solution:LdZ-back}~~%
2, since the graph is bipartite. One color for the top set of vertices, another color for the bottom set of vertices.%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.2}{}{p:exercise:JoM}%
\hypertarget{p:solution:rli-back}~~%
For example, \(K_6\). If the chromatic number is 6, then the graph is not planar; the 4-color theorem states that all planar graphs can be colored with 4 or fewer colors.%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.3}{}{p:exercise:pvV}%
\hypertarget{p:solution:Xsr-back}~~%
The chromatic numbers are 2, 3, 4, 5, and 3 respectively from left to right.%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.5}{}{p:exercise:BKn}%
\hypertarget{p:solution:DzA-back}~~%
The cube can be represented as a planar graph and colored with two colors as follows:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
			\foreach \ang in {45, 135, 225, 315} {
			\draw (\ang:.4) \v -- (\ang:1) \v -- (\ang+90:1) (\ang:.4) -- (\ang+90:.4);
			}
			\draw (45:.4) node[right]{\footnotesize R} (135:.4) node[left]{\footnotesize B} (225:.4) node[left]{\footnotesize R} (315:.4) node[right]{\footnotesize B} (45:1) node[right]{\footnotesize B} (135:1) node[left]{\footnotesize R} (225:1) node[left]{\footnotesize B} (315:1) node[right]{\footnotesize R};
			\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Since it would be impossible to color the vertices with a single color, we see that the cube has chromatic number 2 (it is bipartite).%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.9}{}{p:exercise:amX}%
\hypertarget{p:solution:PNS-back}~~%
The wheel graph below has this property. The outside of the wheel forms an odd cycle, so requires 3 colors, the center of the wheel must be different than all the outside vertices.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}

			\foreach \ang in {18, 90, ..., 306}{
			\draw (0,0) -- (\ang:1) \v -- (\ang+72:1);
			}
			\draw (0,0) \v;
			\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.12}{}{p:exercise:SIy}%
\hypertarget{p:solution:cck-back}~~%
If we drew a graph with each letter representing a vertex, and each edge connecting two letters that were consecutive in the alphabet, we would have a graph containing two vertices of degree 1 (A and Z) and the remaining 24 vertices all of degree 2 (for example, \(D\) would be adjacent to both \(C\) and \(E\)). By Brooks' theorem, this graph has chromatic number at most 2, as that is the maximal degree in the graph and the graph is not a complete graph or odd cycle. Thus only two boxes are needed.%
\end{divisionsolution}%
\begin{divisionsolution}{4.4.13}{}{p:exercise:yPH}%
\hypertarget{p:solution:Ijt-back}~~%
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.5\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.5.1}{}{p:exercise:Nwp}%
\hypertarget{p:solution:jet-back}~~%
This is a question about finding Euler paths. Draw a graph with a vertex in each state, and connect vertices if their states share a border. Exactly two vertices will have odd degree: the vertices for Nevada and Utah. Thus you must start your road trip at in one of those states and end it in the other.%
\end{divisionsolution}%
\begin{divisionsolution}{4.5.2}{}{p:exercise:tDy}%
\hypertarget{p:solution:PlC-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(K_4\) does not have an Euler path or circuit.%
\item{}\(K_5\) has an Euler circuit (so also an Euler path).%
\item{}\(K_{5,7}\) does not have an Euler path or circuit.%
\item{}\(K_{2,7}\) has an Euler path but not an Euler circuit.%
\item{}\(C_7\) has an Euler circuit (it is a circuit graph!)%
\item{}\(P_7\) has an Euler path but no Euler circuit.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.5.8}{}{p:exercise:euA}%
\hypertarget{p:solution:bzU-back}~~%
If we build one bridge, we can have an Euler path. Two bridges must be built for an Euler circuit.%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
       \begin{tikzpicture}[scale=1, yscale=.5]
\draw (-1,-2) \v to [out=120, in=240] (-1,0) \v to [out=120, in=240] (-1,2) \v to [out=300, in=60] (-1,0) to [out=300, in=60] (-1,-2);
 \draw (1,0) \v -- (-1,2) (-1,0) -- (1,0) -- (-1,-2);
 \draw[dashed] (-1,-2) -- (-1,0);
 \draw[dashed] (1,0) to [out=120, in=0] (-1,2);
 \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.6\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{4.6.1}{}{p:exercise:hKF}%
\hypertarget{p:solution:SBH-back}~~%
The first and third graphs have a matching, shown in bold (there are other matchings as well). The middle graph does not have a matching. If you look at the three circled vertices, you see that they only have two neighbors, which violates the matching condition \(\card{N(S)} \ge \card{S}\) (the three circled vertices form the set \(S\)).%
\begin{sidebyside}{3}{0.0166666666666667}{0.0166666666666667}{0.0333333333333333}%
\begin{sbspanel}{0.2}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture} \coordinate (a) at (0,0); \coordinate (A) at (0,1); \coordinate (b) at (1,0); \coordinate (B) at (1,1); \coordinate (c) at (2,0); \coordinate (C) at (2,1); \draw (a) \v -- (B) \v -- (c) \v -- (C) \v -- (a) \v -- (A)\v -- (b) \v; \draw[very thick] (a) -- (C) (A) -- (b) (c) -- (B); \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.3}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture} \coordinate (a) at (0,0); \coordinate (A) at (0,1); \coordinate (b) at (1,0); \coordinate (B) at (1,1); \coordinate (c) at (2,0); \coordinate (C) at (2,1); \coordinate (d) at (3,0); \coordinate (D) at (3,1); \draw (a) \v -- (A) \v (b) \v -- (B) \v (c) \v -- (C) \v (d) \v (D)\v; \draw (a) -- (C) -- (b) -- (D) (A) -- (c) (A) -- (d) -- (C); \draw[dashed] (a) circle (7pt) (c) circle (7pt) (d) circle (7pt); \end{tikzpicture}
}%
\end{sbspanel}%
\begin{sbspanel}{0.4}[bottom]%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture} \coordinate (a) at (0,0); \coordinate (A) at (0,1); \coordinate (b) at (1,0); \coordinate (B) at (1,1); \coordinate (c) at (2,0); \coordinate (C) at (2,1); \coordinate (d) at (3,0); \coordinate (D) at (3,1); \coordinate (e) at (4,0); \coordinate (E) at (4,1); \draw (a) \v (A) \v (b) \v (B) \v (c) \v (C) \v (d) \v (D)\v (e)\v (E) \v; \draw (a) -- (A) (a) -- (B) (A) -- (b) (A) -- (c) (b) -- (C) (B) -- (c) -- (D) (c) -- (E) (C) -- (d) -- (E) (D) -- (e) -- (E); \draw[very thick] (a) -- (A) (b) -- (C) (c) -- (B) (d) -- (E) (e) -- (D); \end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 4.7\space{} Chapter Review}
\par\smallskip
\begin{divisionsolution}{4.7.1}{}{p:exercise:RhG}%
\hypertarget{p:solution:cqF-back}~~%
The first and the third graphs are the same (try dragging vertices around to make the pictures match up), but the middle graph is different (which you can see, for example, by noting that the middle graph has only one vertex of degree 2, while the others have two such vertices).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.2}{}{p:exercise:xoP}%
\hypertarget{p:solution:IxO-back}~~%
The first (and third) graphs contain an Euler path. All the graphs are planar.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.3}{}{p:exercise:dvY}%
\hypertarget{p:solution:oEX-back}~~%
For example, \(K_5\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.4}{}{p:exercise:JDh}%
\hypertarget{p:solution:UMg-back}~~%
For example, \(K_{3,3}\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.5}{}{p:exercise:pKq}%
\hypertarget{p:solution:ATp-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Yes, the graphs are isomorphic, which you can see by drawing them. One isomorphism is:%
\begin{equation*}
f = \begin{pmatrix}
a \amp b \amp c \amp d \amp e \amp f \amp g \\
u \amp z \amp v \amp x \amp w \amp y \amp t
\end{pmatrix}\text{.}
\end{equation*}
%
\item{}This is easy to do if you draw the picture. Here is such a graph:%
\begin{sidebyside}{1}{0.4}{0.4}{0}%
\begin{sbspanel}{0.2}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\draw (0,0) \v -- (-1, 1) \v -- (-1,2) \v (0,0) -- (0,1) \v -- (0,2) \v (0,0) -- (1,1) \v -- (1,2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\par
Any labeling of this graph will be not isomorphic to \(G\). For example, we could take \(V'' = \{a,b,c,d,e,f,g\}\) and \(E'' = \{ab,
ac, ad, be, cf, dg\} \).%
\item{}The degree sequence for \(G\) is \((3, 3, 2, 1, 1, 1, 1)\).%
\item{}In general this should be possible: the degree sequence does not determine the graph's isomorphism class. However, in this case, I was almost certain this was not possible. That is, until I stumbled up this:%
\begin{sidebyside}{1}{0.35}{0.35}{0}%
\begin{sbspanel}{0.3}%
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}
\draw (0,0) \v -- (-1, 1) \v -- (-1.5,2) \v  (-1,1) -- (-.5,2) \v (0,0) -- (1,1) \v -- (1.5,2) \v (1,1) -- (0.5, 2) \v;
\end{tikzpicture}
}%
\end{sbspanel}%
\end{sidebyside}%
\item{}\(G\) is a tree (there are no cycles) and as such also bipartite.%
\item{}Yes, all trees are planar. You can draw them in the plane without edges crossing.%
\item{}The chromatic number of \(G\) is 2. It shouldn't be hard to give a 2-coloring (for example, color \(a, d, e, g\) red and \(b, c, f\) blue), but we know that all bipartite graphs have chromatic number 2.%
\item{}It is clear from the drawing that there is no Euler path, let alone an Euler circuit. Also, since there are more than 2 vertices of odd degree, we know for sure there is no Euler path.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.6}{}{p:exercise:VRz}%
\hypertarget{p:solution:hay-back}~~%
Yes. According to Euler's formula it would have 2 faces. It does. The only such graph is \(C_{10}\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.7}{}{p:exercise:BYI}%
\hypertarget{p:solution:NhH-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}Only if \(n \ge 6\) and is even.%
\item{}None.%
\item{}12. Such a graph would have \(\frac{5n}{2}\) edges. If the graph is planar, then \(n - \frac{5n}{2} + f = 2\) so there would be \(\frac{4+3n}{2}\) faces. Also, we must have \(3f \le 2e\), since the graph is simple. So we must have \(3\left(\frac{4 + 3n}{2}\right) \le 5n\). Solving for \(n\) gives \(n \ge 12\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.8}{}{p:exercise:ifR}%
\hypertarget{p:solution:toQ-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}There were 24 couples: 6 choices for the girl and 4 choices for the boy.%
\item{}There were 45 couples: \({10 \choose 2}\) since we must choose two of the 10 people to dance together.%
\item{}For part (a), we are counting the number of edges in \(K_{4,6}\). In part (b) we count the edges of \(K_{10}\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.9}{}{p:exercise:Ona}%
\hypertarget{p:solution:ZvZ-back}~~%
Yes, as long as \(n\) is even. If \(n\) were odd, then corresponding graph would have an odd number of odd degree vertices, which is impossible.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.10}{}{p:exercise:uuj}%
\hypertarget{p:solution:FDi-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}No. The 9 triangles each contribute 3 edges, and the 6 pentagons contribute 5 edges. This gives a total of 57, which is exactly twice the number of edges, since each edge borders exactly 2 faces. But 57 is odd, so this is impossible.%
\item{}Now adding up all the edges of all the 16 polygons gives a total of 64, meaning there would be 32 edges in the polyhedron. We can then use Euler's formula \(v - e + f = 2\) to deduce that there must be 18 vertices.%
\item{}If you add up all the vertices from each polygon separately, we get a total of 64. This is not divisible by 3, so it cannot be that each vertex belongs to exactly 3 faces. Could they all belong to 4 faces? That would mean there were \(64/4 = 16\) vertices, but we know from Euler's formula that there must be 18 vertices. We can write \(64 = 3x + 4y\) and solve for \(x\) and \(y\) (as integers). We get that there must be 10 vertices with degree 4 and 8 with degree 3. (Note the number of faces joined at a vertex is equal to its degree in graph theoretic terms.)%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.11}{}{p:exercise:aBs}%
\hypertarget{p:solution:lKr-back}~~%
No. Every polyhedron can be represented as a planar graph, and the Four Color Theorem says that every planar graph has chromatic number at most 4.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.12}{}{p:exercise:GIB}%
\hypertarget{p:solution:RRA-back}~~%
\(K_{n,n}\) has \(n^2\) edges. The graph will have an Euler circuit when \(n\) is even. The graph will be planar only when \(n \lt 3\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.13}{}{p:exercise:mPK}%
\hypertarget{p:solution:xYJ-back}~~%
\(G\) has 8 edges (since the sum of the degrees is 16). If \(G\) is planar, then it will have 4 faces (since \(6 - 8 + 4 = 2\)). \(G\) does not have an Euler path since there are more than 2 vertices of odd degree.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.14}{}{p:exercise:SWT}%
\hypertarget{p:solution:efS-back}~~%
\(7\) colors. Thus \(K_7\) is not planar (by the contrapositive of the Four Color Theorem).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.15}{}{p:exercise:zec}%
\hypertarget{p:solution:Knb-back}~~%
The chromatic number of \(K_{3,4}\) is 2, since the graph is bipartite. You cannot say whether the graph is planar based on this coloring (the converse of the Four Color Theorem is not true). In fact, the graph is \emph{not} planar, since it contains \(K_{3,3}\) as a subgraph.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.16}{}{p:exercise:fll}%
\hypertarget{p:solution:quk-back}~~%
We have that \(K_{3,4}\) has 7 vertices and 12 edges (each vertex in the group of 3 has degree 4). Then by Euler's formula we have that \(7 - 12 + f = 2\) so if the graph were planar, it would have \(f = 7\) faces. However, since the girth of the graph is 4 (there are no cycles of length 3) we get that \(4f \le 2e\). But this would mean that \(28 \le 24\), a contradiction.%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.17}{}{p:exercise:Lsu}%
\hypertarget{p:solution:WBt-back}~~%
For all these questions, we are really coloring the vertices of a graph. You get the graph by first drawing a planar representation of the polyhedron and then taking its planar dual: put a vertex in the center of each face (including the outside) and connect two vertices if their faces share an edge.%
\begin{enumerate}[label=(\alph*)]
\item{}Since the planar dual of a dodecahedron contains a 5-wheel, it's chromatic number is at least 4. Alternatively, suppose you could color the faces using 3 colors without any two adjacent faces colored the same. Take any face and color it blue. The 5 pentagons bordering this blue pentagon cannot be colored blue. Color the first one red. Its two neighbors (adjacent to the blue pentagon) get colored green. The remaining 2 cannot be blue or green, but also cannot both be red since they are adjacent to each other. Thus a 4th color is needed.%
\item{}The planar dual of the dodecahedron is itself a planar graph. Thus by the 4-color theorem, it can be colored using only 4 colors without two adjacent vertices (corresponding to the faces of the polyhedron) being colored identically.%
\item{}The cube can be properly 3-colored. Color the ``top'' and ``bottom'' red, the ``front'' and ``back'' blue, and the ``left'' and ``right'' green.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.18}{}{p:exercise:rzD}%
\hypertarget{p:solution:CIC-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}False. To prove this, we can give an example of a pair of graphs with the same chromatic number that are not isomorphic. For example, \(K_{3,3}\) and \(K_{3,4}\) both have chromatic number 2, but are not isomorphic.%
\item{}False. The previous example does not work, but you can easily draw two trees that have the same number of vertices and edges but are not isomorphic. Since all trees have chromatic number 2, this is a counterexample.%
\item{}True. If there is an isomorphism from \(G_1\) to \(G_2\), then we have a bijection that tells us how to match up vertices between the graph. Any proper vertex coloring of \(G_1\) will tell us how to properly color \(G_2\), simply by coloring \(f(v_i)\) the same color as \(v_i\), for each vertex \(v_i \in V\). That is, color the vertices in \(G_2\) exactly how you color the corresponding vertices in \(G_1\). Similarly, any proper vertex coloring of \(G_2\) corresponds to a proper vertex coloring of \(G_1\). Thus the smallest number of colors needed to properly color \(G_1\) cannot be smaller than the smallest number of colors needed to properly color \(G_2\), and vice-versa, so the chromatic numbers must be equal.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.19}{}{p:exercise:XGM}%
\hypertarget{p:solution:iPL-back}~~%
\(G\) has \(13\) edges, since we need \(7 - e + 8 = 2\).%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.20}{}{p:exercise:DNV}%
\hypertarget{p:solution:OWU-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}The graph does have an Euler path, but not an Euler circuit. There are exactly two vertices with odd degree. The path starts at one and ends at the other.%
\item{}The graph is planar. Even though as it is drawn edges cross, it is easy to redraw it without edges crossing.%
\item{}The graph is not bipartite (there is an odd cycle), nor complete.%
\item{}The chromatic number of the graph is 3.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.21}{}{p:exercise:jVe}%
\hypertarget{p:solution:ved-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}False. For example, \(K_{3,3}\) is not planar.%
\item{}True. The graph is bipartite so it is possible to divide the vertices into two groups with no edges between vertices in the same group. Thus we can color all the vertices of one group red and the other group blue.%
\item{}False. \(K_{3,3}\) has 6 vertices with degree 3, so contains no Euler path.%
\item{}False. \(K_{3,3}\) again.%
\item{}False. The sum of the degrees of all vertices is even for \emph{all} graphs so this property does not imply that the graph is bipartite.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{4.7.22}{}{p:exercise:Qcn}%
\hypertarget{p:solution:blm-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}If a graph has an Euler path, then it is planar.%
\item{}If a graph does not have an Euler path, then it is not planar.%
\item{}There is a graph which is planar and does not have an Euler path.%
\item{}Yes. In fact, in this case it is because the original statement is false.%
\item{}False. \(K_4\) is planar but does not have an Euler path.%
\item{}False. \(K_5\) has an Euler path but is not planar.%
\end{enumerate}
%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 5.1\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{5.1.1}{}{p:exercise:Gtg}%
\hypertarget{p:solution:gLd-back}~~%
%
\begin{multicols}{3}
\begin{enumerate}[label=(\alph*)]
\item{}\(\dfrac{4}{1-x}\).%
\item{}\(\dfrac{2}{(1-x)^2}\).%
\item{}\(\dfrac{2x^3}{(1-x)^2}\).%
\item{}\(\dfrac{1}{1-5x}\).%
\item{}\(\dfrac{1}{1+3x}\).%
\item{}\(\dfrac{1}{1-5x^2}\).%
\item{}\(\dfrac{x}{(1-x^3)^2}\).%
\end{enumerate}
\end{multicols}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.2}{}{p:exercise:mAp}%
\hypertarget{p:solution:MSm-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(0, 4, 4, 4, 4, 4, \ldots\).%
\item{}\(1, 4, 16, 64, 256, \ldots\).%
\item{}\(0, 1, -1, 1, -1, 1, -1, \ldots\).%
\item{}\(0, 3, -6, 9, -12, 15, -18, \ldots\).%
\item{}\(1, 3, 6, 9, 12, 15, \ldots\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.4}{}{p:exercise:yOH}%
\hypertarget{p:solution:sZv-back}~~%
Call the generating function \(A\). Compute \(A - xA = 4 + x + 2x^2 + 3x^3 + 4x^4 + \cdots\). Thus \(A - xA = 4 + \dfrac{x}{(1-x)^2}\). Solving for \(A\) gives \(\d\frac{4}{1-x} + \frac{x}{(1-x)^3}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.5}{}{p:exercise:eVQ}%
\hypertarget{p:solution:ZgE-back}~~%
\(\dfrac{1+2x}{1-3x + x^2}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.6}{}{p:exercise:LcZ}%
\hypertarget{p:solution:FnN-back}~~%
Compute \(A - xA - x^2A\) and the solve for \(A\). The generating function will be \(\dfrac{x}{1-x-x^2}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.7}{}{p:exercise:rki}%
\hypertarget{p:solution:luW-back}~~%
\(\dfrac{x}{(1-x)(1-x-x^2)}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.8}{}{p:exercise:Xrr}%
\hypertarget{p:solution:RCf-back}~~%
\(\dfrac{2}{1-5x} + \dfrac{7}{1+3x}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.9}{}{p:exercise:DyA}%
\hypertarget{p:solution:xJo-back}~~%
\(a_n = 3\cdot 4^{n-1} + 1\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.12}{}{p:exercise:cbk}%
\hypertarget{p:solution:JXG-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(\frac{1}{(1-x^2)^2}\).%
\item{}\(\frac{1}{(1+x)^2}\).%
\item{}\(\frac{3x}{(1-x)^2}\).%
\item{}\(\frac{3x}{(1-x)^3}\). (partial sums).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.13}{}{p:exercise:Iit}%
\hypertarget{p:solution:qeP-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(0,0,1,1,2,3,5,8, \ldots\).%
\item{}\(1, 0, 1, 0, 2, 0, 3, 0, 5, 0, 8, 0, \ldots\).%
\item{}\(1, 3, 18, 81, 405, \ldots\).%
\item{}\(1, 2, 4, 7, 12, 20, \ldots\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.1.15}{}{p:exercise:UwL}%
\hypertarget{p:solution:WlY-back}~~%
\(\frac{x^3}{(1-x)^2} + \frac{1}{1-x}\).%
\end{divisionsolution}%
\vskip 2ex \centerline{\bfseries\scshape\large 5.2\space{} Exercises}
\par\smallskip
\begin{divisionsolution}{5.2.1}{}{p:exercise:OVU}%
\hypertarget{p:solution:Vva-back}~~%
\begin{proofptx}{}{p:proof:BCj}
Suppose \(a \mid b\). Then \(b\) is a multiple of \(a\), or in other words, \(b = ak\) for some \(k\). But then \(bc = akc\), and since \(kc\) is an integer, this says \(bc\) is a multiple of \(a\). In other words, \(a \mid bc\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{5.2.3}{}{p:exercise:bkm}%
\hypertarget{p:solution:hJs-back}~~%
\(\{\ldots, -8, -4, 0, 4, 8, 12, \ldots\}\), \(\{\ldots, -7, -3, 1, 5, 9, 13, \ldots\}\),%
\par
\(\{\ldots, -6, -2, 2, 6, 10, 14, \ldots\}\), and \(\{\ldots, -5, -1, 3, 7, 11, 15, \ldots\}\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.5}{}{p:exercise:nyE}%
\hypertarget{p:solution:NQB-back}~~%
\begin{proofptx}{}{p:proof:tXK}
Assume \(a \equiv b \pmod n\) and \(c \equiv d \pmod n\). This means \(a = b + kn\) and \(c = d + jn\) for some integers \(k\) and \(j\). Consider \(a-c\). We have:%
\begin{equation*}
a-c = b+kn - (d+jn) = b-d + (k-j)n\text{.}
\end{equation*}
%
\par
In other words, \(a-c\) is \(b-d\) more than some multiple of \(n\), so \(a-c \equiv b-d \pmod n\).%
\end{proofptx}
\end{divisionsolution}%
\begin{divisionsolution}{5.2.6}{}{p:exercise:TFN}%
\hypertarget{p:solution:aeT-back}~~%
%
\begin{enumerate}[label=(\alph*)]
\item{}\(3^{456} \equiv 1^{456} = 1 \pmod 2\).%
\item{}\(3^{456} = 9^{228} \equiv (-1)^{228} = 1 \pmod{5}\).%
\item{}\(3^{456} = 9^{228} \equiv 2^{228} = 8^{76} \equiv 1^{76} = 1 \pmod 7\).%
\item{}\(3^{456} = 9^{228} \equiv 0^{228} = 0 \pmod{9}\).%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.8}{}{p:exercise:fUf}%
\hypertarget{p:solution:Gmc-back}~~%
For all of these, just plug in all integers between 0 and the modulus to see which, if any, work.%
\begin{enumerate}[label=(\alph*)]
\item{}No solutions.%
\item{}\(x = 2\), \(x = 5\), \(x = 8\).%
\item{}No solutions.%
\end{enumerate}
%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.10}{}{p:exercise:six}%
\hypertarget{p:solution:mtl-back}~~%
\(x = 5+22k\) for \(k \in \Z\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.12}{}{p:exercise:EwP}%
\hypertarget{p:solution:SAu-back}~~%
\(x = 6 + 15k\) for \(k \in \Z\).%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.14}{}{p:exercise:QLh}%
\hypertarget{p:solution:eOM-back}~~%
We must solve \(7x + 5 \equiv 2 \pmod{11}\). This gives \(x \equiv 9 \pmod{11}\). In general, \(x = 9 + 11k\), but when you divide any such \(x\) by 11, the remainder will be 9.%
\end{divisionsolution}%
\begin{divisionsolution}{5.2.15}{}{p:exercise:wSq}%
\hypertarget{p:solution:KVV-back}~~%
Divide through by 2: \(3x + 5y = 16\). Convert to a congruence, modulo 3: \(5y \equiv 16 \pmod 3\), which reduces to \(2y \equiv 1 \pmod 3\). So \(y \equiv 2 \pmod 3\) or \(y = 2 + 3k\). Plug this back into \(3x + 5y = 16\) and solve for \(x\), to get \(x = 2-5k\). So the general solution is \(x = 2-5k\) and \(y = 2+3k\) for \(k \in \Z\).%
\end{divisionsolution}%
\end{solutions-chapter}
%
%
\typeout{************************************************}
\typeout{Appendix C List of Symbols}
\typeout{************************************************}
%
\begin{appendixptx}{List of Symbols}{}{List of Symbols}{}{}{p:appendix:GjC}
\begin{longtable}[l]{lp{0.60\textwidth}r}
\addtocounter{table}{-1}
\textbf{Symbol}&\textbf{Description}&\textbf{Page}\\[1em]
\endfirsthead
\textbf{Symbol}&\textbf{Description}&\textbf{Page}\\[1em]
\endhead
\multicolumn{3}{r}{(Continued on next page)}\\
\endfoot
\endlastfoot
\(P, Q, R, S, \ldots\)&propositional (sentential) variables&\pageref{g:notation:idm257}\\
\(\wedge\)&logical ``and'' (conjunction)&\pageref{g:notation:idm280}\\
\(\vee\)&logical ``or'' (disjunction)&\pageref{g:notation:idm295}\\
\(\neg\)&logical negation&\pageref{g:notation:idm340}\\
\(\exists\)&existential quantifier&\pageref{g:notation:idm815}\\
\(\forall\)&universal quantifier&\pageref{g:notation:idm828}\\
\(\emptyset\)&the empty set&\pageref{g:notation:idm2608}\\
\(\U\)&universal set (domain of discourse)&\pageref{g:notation:idm2618}\\
\(\N\)&the set of natural numbers&\pageref{g:notation:idm2626}\\
\(\Z\)&the set of integers&\pageref{g:notation:idm2638}\\
\(\Q\)&the set of rational numbers&\pageref{g:notation:idm2645}\\
\(\R\)&the set of real numbers&\pageref{g:notation:idm2654}\\
\(\pow(A)\)&the power set of \(A\)&\pageref{g:notation:idm2668}\\
\(\{, \}\)&braces, to contain set elements.&\pageref{g:notation:idm2682}\\
\(\st\)&``such that''&\pageref{g:notation:idm2693}\\
\(\in\)&``is an element of''&\pageref{g:notation:idm2704}\\
\(\subseteq\)&``is a subset of''&\pageref{g:notation:idm2725}\\
\(\subset\)&``is a proper subset of''&\pageref{g:notation:idm2740}\\
\(\cap\)&set intersection&\pageref{g:notation:idm2754}\\
\(\cup\)&set union&\pageref{g:notation:idm2769}\\
\(\times\)&Cartesian product&\pageref{g:notation:idm2785}\\
\(\setminus\)&set difference&\pageref{g:notation:idm2798}\\
\(\bar{A}\)&the complement of \(A\)&\pageref{g:notation:idm2808}\\
\(\card{A}\)&cardinality (size) of \(A\)&\pageref{g:notation:idm2819}\\
\(A\times B\)&the Cartesian product of \(A\) and \(B\)&\pageref{g:notation:idm3213}\\
\(f(A)\)&the image of \(A\) under \(f\).&\pageref{g:notation:idm4752}\\
\(f\inv(B)\)&the inverse image of \(B\) under \(f\).&\pageref{g:notation:idm4767}\\
\(\B^n\)&the set of length \(n\) bit strings&\pageref{g:notation:idm7348}\\
\(\B^n_k\)&the set of legth \(n\) bit strings with weight \(k\).&\pageref{g:notation:idm7356}\\
\((a_n)_{n \in \N}\)&the sequence \(a_0, a_1, a_2, \ldots\)&\pageref{g:notation:idm13019}\\
\(T_n\)&the \(n\)th triangular number&\pageref{g:notation:idm13227}\\
\(F_n\)&the \(n\)th Fibonacci number&\pageref{g:notation:idm13607}\\
\(\Delta^k\)&the \(k\)th differences of a sequence&\pageref{g:notation:idm15061}\\
\(P(n)\)&the \(n\)th case we are trying to prove by induction&\pageref{g:notation:idm16130}\\
\(42\)&the ultimate answer to life, etc.&\pageref{g:notation:idm16167}\\
\(\therefore\)&``therefore''&\pageref{g:notation:idm17879}\\
\(K_n\)&the complete graph on \(n\) vertices&\pageref{g:notation:idm21098}\\
\(K_n\)&the complete graph on \(n\) vertices.&\pageref{g:notation:idm21188}\\
\(K_{m,n}\)&the complete bipartite graph of of \(m\) and \(n\) vertices.&\pageref{g:notation:idm21198}\\
\(C_n\)&the cycle on \(n\) vertices&\pageref{g:notation:idm21208}\\
\(P_n\)&the path on \(n+1\) vertices&\pageref{g:notation:idm21218}\\
\(\chi(G)\)&the chromatic number of \(G\)&\pageref{g:notation:idm22726}\\
\(\Delta(G)\)&the maximum degree in \(G\)&\pageref{g:notation:idm22867}\\
\(\chi'(G)\)&the chromatic index of \(G\)&\pageref{g:notation:idm22905}\\
\(N(S)\)&the set of neighbors of \(S\).&\pageref{g:notation:idm23439}\\
\end{longtable}
\end{appendixptx}
%
\backmatter
%
%
%% The index is here, setup is all in preamble
\printindex
%
\cleardoublepage
\pagestyle{empty}
\vspace*{\stretch{1}}
\begin{backcolophon}{g:colophon:idm25586}%
This book was authored in PreTeXt.%
\end{backcolophon}%
\vspace*{\stretch{2}}
%% Back cover image, not numbered
\cleardoublepage%
%% 2-sided, and at end of even page, so add odd page
\thispagestyle{empty}\hbox{}\newpage%
%KWANG
% \includepdf[noautoscale=false]{images/back.pdf}%
\end{document}